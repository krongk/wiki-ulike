(()=>{var ll=Object.create;var Or=Object.defineProperty;var cl=Object.getOwnPropertyDescriptor;var ul=Object.getOwnPropertyNames;var hl=Object.getPrototypeOf,dl=Object.prototype.hasOwnProperty;var fl=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ml=(t,e,i,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of ul(e))!dl.call(t,n)&&n!==i&&Or(t,n,{get:()=>e[n],enumerable:!(s=cl(e,n))||s.enumerable});return t};var pl=(t,e,i)=>(i=t!=null?ll(hl(t)):{},ml(e||!t||!t.__esModule?Or(i,"default",{value:t,enumerable:!0}):i,t));var Fa=fl((zn,Kn)=>{(function(t,e){typeof zn=="object"&&typeof Kn<"u"?Kn.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Viewer=e())})(zn,function(){"use strict";function t(h,o){var c=Object.keys(h);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(h);o&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(h,d).enumerable})),c.push.apply(c,l)}return c}function e(h){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?t(Object(c),!0).forEach(function(l){a(h,l,c[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(c)):t(Object(c)).forEach(function(l){Object.defineProperty(h,l,Object.getOwnPropertyDescriptor(c,l))})}return h}function i(h){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i(h)}function s(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")}function n(h,o){for(var c=0;c<o.length;c++){var l=o[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(h,f(l.key),l)}}function r(h,o,c){return o&&n(h.prototype,o),c&&n(h,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function a(h,o,c){return o=f(o),o in h?Object.defineProperty(h,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):h[o]=c,h}function u(h,o){if(typeof h!="object"||h===null)return h;var c=h[Symbol.toPrimitive];if(c!==void 0){var l=c.call(h,o||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(h)}function f(h){var o=u(h,"string");return typeof o=="symbol"?o:String(o)}var g={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},v='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',E=typeof window<"u"&&typeof window.document<"u",S=E?window:{},L=E&&S.document.documentElement?"ontouchstart"in S.document.documentElement:!1,H=E?"PointerEvent"in S:!1,x="viewer",T="move",I="switch",F="zoom",P="".concat(x,"-active"),te="".concat(x,"-close"),le="".concat(x,"-fade"),pe="".concat(x,"-fixed"),Oe="".concat(x,"-fullscreen"),ge="".concat(x,"-fullscreen-exit"),M="".concat(x,"-hide"),ie="".concat(x,"-hide-md-down"),Ce="".concat(x,"-hide-sm-down"),Le="".concat(x,"-hide-xs-down"),Z="".concat(x,"-in"),Xe="".concat(x,"-invisible"),Ve="".concat(x,"-loading"),Je="".concat(x,"-move"),ce="".concat(x,"-open"),ct="".concat(x,"-show"),U="".concat(x,"-transition"),ut="click",Qi="dblclick",er="dragstart",tr="focusin",ir="keydown",me="load",Ze="error",qa=L?"touchend touchcancel":"mouseup",za=L?"touchmove":"mousemove",Ka=L?"touchstart":"mousedown",sr=H?"pointerdown":Ka,nr=H?"pointermove":za,rr=H?"pointerup pointercancel":qa,or="resize",ve="transitionend",ar="wheel",lr="ready",cr="show",ur="shown",hr="hide",dr="hidden",fr="view",Ot="viewed",mr="move",pr="moved",gr="rotate",vr="rotated",br="scale",yr="scaled",wr="zoom",Er="zoomed",Sr="play",_r="stop",ri="".concat(x,"Action"),es=/\s\s*/,oi=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Ct(h){return typeof h=="string"}var Wa=Number.isNaN||S.isNaN;function q(h){return typeof h=="number"&&!Wa(h)}function ht(h){return typeof h>"u"}function dt(h){return i(h)==="object"&&h!==null}var Ua=Object.prototype.hasOwnProperty;function ft(h){if(!dt(h))return!1;try{var o=h.constructor,c=o.prototype;return o&&c&&Ua.call(c,"isPrototypeOf")}catch{return!1}}function N(h){return typeof h=="function"}function B(h,o){if(h&&N(o))if(Array.isArray(h)||q(h.length)){var c=h.length,l;for(l=0;l<c&&o.call(h,h[l],l,h)!==!1;l+=1);}else dt(h)&&Object.keys(h).forEach(function(d){o.call(h,h[d],d,h)});return h}var fe=Object.assign||function(o){for(var c=arguments.length,l=new Array(c>1?c-1:0),d=1;d<c;d++)l[d-1]=arguments[d];return dt(o)&&l.length>0&&l.forEach(function(m){dt(m)&&Object.keys(m).forEach(function(p){o[p]=m[p]})}),o},Ya=/^(?:width|height|left|top|marginLeft|marginTop)$/;function be(h,o){var c=h.style;B(o,function(l,d){Ya.test(d)&&q(l)&&(l+="px"),c[d]=l})}function Xa(h){return Ct(h)?h.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):h}function mt(h,o){return!h||!o?!1:h.classList?h.classList.contains(o):h.className.indexOf(o)>-1}function O(h,o){if(!(!h||!o)){if(q(h.length)){B(h,function(l){O(l,o)});return}if(h.classList){h.classList.add(o);return}var c=h.className.trim();c?c.indexOf(o)<0&&(h.className="".concat(c," ").concat(o)):h.className=o}}function R(h,o){if(!(!h||!o)){if(q(h.length)){B(h,function(c){R(c,o)});return}if(h.classList){h.classList.remove(o);return}h.className.indexOf(o)>=0&&(h.className=h.className.replace(o,""))}}function Lt(h,o,c){if(o){if(q(h.length)){B(h,function(l){Lt(l,o,c)});return}c?O(h,o):R(h,o)}}var Ja=/([a-z\d])([A-Z])/g;function ts(h){return h.replace(Ja,"$1-$2").toLowerCase()}function pt(h,o){return dt(h[o])?h[o]:h.dataset?h.dataset[o]:h.getAttribute("data-".concat(ts(o)))}function is(h,o,c){dt(c)?h[o]=c:h.dataset?h.dataset[o]=c:h.setAttribute("data-".concat(ts(o)),c)}var Ar=function(){var h=!1;if(E){var o=!1,c=function(){},l=Object.defineProperty({},"once",{get:function(){return h=!0,o},set:function(m){o=m}});S.addEventListener("test",c,l),S.removeEventListener("test",c,l)}return h}();function D(h,o,c){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},d=c;o.trim().split(es).forEach(function(m){if(!Ar){var p=h.listeners;p&&p[m]&&p[m][c]&&(d=p[m][c],delete p[m][c],Object.keys(p[m]).length===0&&delete p[m],Object.keys(p).length===0&&delete h.listeners)}h.removeEventListener(m,d,l)})}function C(h,o,c){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},d=c;o.trim().split(es).forEach(function(m){if(l.once&&!Ar){var p=h.listeners,y=p===void 0?{}:p;d=function(){delete y[m][c],h.removeEventListener(m,d,l);for(var w=arguments.length,b=new Array(w),A=0;A<w;A++)b[A]=arguments[A];c.apply(h,b)},y[m]||(y[m]={}),y[m][c]&&h.removeEventListener(m,y[m][c],l),y[m][c]=d,h.listeners=y}h.addEventListener(m,d,l)})}function X(h,o,c,l){var d;return N(Event)&&N(CustomEvent)?d=new CustomEvent(o,e({bubbles:!0,cancelable:!0,detail:c},l)):(d=document.createEvent("CustomEvent"),d.initCustomEvent(o,!0,!0,c)),h.dispatchEvent(d)}function Za(h){var o=h.getBoundingClientRect();return{left:o.left+(window.pageXOffset-document.documentElement.clientLeft),top:o.top+(window.pageYOffset-document.documentElement.clientTop)}}function ai(h){var o=h.rotate,c=h.scaleX,l=h.scaleY,d=h.translateX,m=h.translateY,p=[];q(d)&&d!==0&&p.push("translateX(".concat(d,"px)")),q(m)&&m!==0&&p.push("translateY(".concat(m,"px)")),q(o)&&o!==0&&p.push("rotate(".concat(o,"deg)")),q(c)&&c!==1&&p.push("scaleX(".concat(c,")")),q(l)&&l!==1&&p.push("scaleY(".concat(l,")"));var y=p.length?p.join(" "):"none";return{WebkitTransform:y,msTransform:y,transform:y}}function Ga(h){return Ct(h)?decodeURIComponent(h.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var ss=S.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(S.navigator.userAgent);function xr(h,o,c){var l=document.createElement("img");if(h.naturalWidth&&!ss)return c(h.naturalWidth,h.naturalHeight),l;var d=document.body||document.documentElement;return l.onload=function(){c(l.width,l.height),ss||d.removeChild(l)},B(o.inheritedAttributes,function(m){var p=h.getAttribute(m);p!==null&&l.setAttribute(m,p)}),l.src=h.src,ss||(l.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",d.appendChild(l)),l}function li(h){switch(h){case 2:return Le;case 3:return Ce;case 4:return ie;default:return""}}function Qa(h){var o=e({},h),c=[];return B(h,function(l,d){delete o[d],B(o,function(m){var p=Math.abs(l.startX-m.startX),y=Math.abs(l.startY-m.startY),_=Math.abs(l.endX-m.endX),w=Math.abs(l.endY-m.endY),b=Math.sqrt(p*p+y*y),A=Math.sqrt(_*_+w*w),k=(A-b)/b;c.push(k)})}),c.sort(function(l,d){return Math.abs(l)<Math.abs(d)}),c[0]}function ci(h,o){var c=h.pageX,l=h.pageY,d={endX:c,endY:l};return o?d:e({timeStamp:Date.now(),startX:c,startY:l},d)}function el(h){var o=0,c=0,l=0;return B(h,function(d){var m=d.startX,p=d.startY;o+=m,c+=p,l+=1}),o/=l,c/=l,{pageX:o,pageY:c}}var tl={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var o=this.element.ownerDocument,c=o.body||o.documentElement;this.body=c,this.scrollbarWidth=window.innerWidth-o.documentElement.clientWidth,this.initialBodyPaddingRight=c.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(c).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var o=this.options,c=this.parent,l;o.inline&&(l={width:Math.max(c.offsetWidth,o.minWidth),height:Math.max(c.offsetHeight,o.minHeight)},this.parentData=l),(this.fulled||!l)&&(l=this.containerData),this.viewerData=fe({},l)},renderViewer:function(){this.options.inline&&!this.fulled&&be(this.viewer,this.viewerData)},initList:function(){var o=this,c=this.element,l=this.options,d=this.list,m=[];d.innerHTML="",B(this.images,function(p,y){var _=p.src,w=p.alt||Ga(_),b=o.getImageURL(p);if(_||b){var A=document.createElement("li"),k=document.createElement("img");B(l.inheritedAttributes,function(J){var Y=p.getAttribute(J);Y!==null&&k.setAttribute(J,Y)}),l.navbar&&(k.src=_||b),k.alt=w,k.setAttribute("data-original-url",b||_),A.setAttribute("data-index",y),A.setAttribute("data-viewer-action","view"),A.setAttribute("role","button"),l.keyboard&&A.setAttribute("tabindex",0),A.appendChild(k),d.appendChild(A),m.push(A)}}),this.items=m,B(m,function(p){var y=p.firstElementChild,_,w;is(y,"filled",!0),l.loading&&O(p,Ve),C(y,me,_=function(A){D(y,Ze,w),l.loading&&R(p,Ve),o.loadImage(A)},{once:!0}),C(y,Ze,w=function(){D(y,me,_),l.loading&&R(p,Ve)},{once:!0})}),l.transition&&C(c,Ot,function(){O(d,U)},{once:!0})},renderList:function(){var o=this.index,c=this.items[o];if(c){var l=c.nextElementSibling,d=parseInt(window.getComputedStyle(l||c).marginLeft,10),m=c.offsetWidth,p=m+d;be(this.list,fe({width:p*this.length-d},ai({translateX:(this.viewerData.width-m)/2-p*o})))}},resetList:function(){var o=this.list;o.innerHTML="",R(o,U),be(o,ai({translateX:0}))},initImage:function(o){var c=this,l=this.options,d=this.image,m=this.viewerData,p=this.footer.offsetHeight,y=m.width,_=Math.max(m.height-p,p),w=this.imageData||{},b;this.imageInitializing={abort:function(){b.onload=null}},b=xr(d,l,function(A,k){var J=A/k,Y=Math.max(0,Math.min(1,l.initialCoverage)),z=y,re=_;c.imageInitializing=!1,_*J>y?re=y/J:z=_*J,Y=q(Y)?Y:.9,z=Math.min(z*Y,A),re=Math.min(re*Y,k);var ue=(y-z)/2,he=(_-re)/2,$={left:ue,top:he,x:ue,y:he,width:z,height:re,oldRatio:1,ratio:z/A,aspectRatio:J,naturalWidth:A,naturalHeight:k},ke=fe({},$);l.rotatable&&($.rotate=w.rotate||0,ke.rotate=0),l.scalable&&($.scaleX=w.scaleX||1,$.scaleY=w.scaleY||1,ke.scaleX=1,ke.scaleY=1),c.imageData=$,c.initialImageData=ke,o&&o()})},renderImage:function(o){var c=this,l=this.image,d=this.imageData;if(be(l,fe({width:d.width,height:d.height,marginLeft:d.x,marginTop:d.y},ai(d))),o)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&mt(l,U)){var m=function(){c.imageRendering=!1,o()};this.imageRendering={abort:function(){D(l,ve,m)}},C(l,ve,m,{once:!0})}else o()},resetImage:function(){var o=this.image;o&&(this.viewing&&this.viewing.abort(),o.parentNode.removeChild(o),this.image=null,this.title.innerHTML="")}},il={bind:function(){var o=this.options,c=this.viewer,l=this.canvas,d=this.element.ownerDocument;C(c,ut,this.onClick=this.click.bind(this)),C(c,er,this.onDragStart=this.dragstart.bind(this)),C(l,sr,this.onPointerDown=this.pointerdown.bind(this)),C(d,nr,this.onPointerMove=this.pointermove.bind(this)),C(d,rr,this.onPointerUp=this.pointerup.bind(this)),C(d,ir,this.onKeyDown=this.keydown.bind(this)),C(window,or,this.onResize=this.resize.bind(this)),o.zoomable&&o.zoomOnWheel&&C(c,ar,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),o.toggleOnDblclick&&C(l,Qi,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var o=this.options,c=this.viewer,l=this.canvas,d=this.element.ownerDocument;D(c,ut,this.onClick),D(c,er,this.onDragStart),D(l,sr,this.onPointerDown),D(d,nr,this.onPointerMove),D(d,rr,this.onPointerUp),D(d,ir,this.onKeyDown),D(window,or,this.onResize),o.zoomable&&o.zoomOnWheel&&D(c,ar,this.onWheel,{passive:!1,capture:!0}),o.toggleOnDblclick&&D(l,Qi,this.onDblclick)}},sl={click:function(o){var c=this.options,l=this.imageData,d=o.target,m=pt(d,ri);switch(!m&&d.localName==="img"&&d.parentElement.localName==="li"&&(d=d.parentElement,m=pt(d,ri)),L&&o.isTrusted&&d===this.canvas&&clearTimeout(this.clickCanvasTimeout),m){case"mix":this.played?this.stop():c.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(pt(d,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(c.loop);break;case"play":this.play(c.fullscreen);break;case"next":this.next(c.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-l.scaleX||-1);break;case"flip-vertical":this.scaleY(-l.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(o){o.preventDefault(),this.viewed&&o.target===this.image&&(L&&o.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(o.isTrusted?o:o.detail&&o.detail.originalEvent))},load:function(){var o=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var c=this.element,l=this.options,d=this.image,m=this.index,p=this.viewerData;R(d,Xe),l.loading&&R(this.canvas,Ve),d.style.cssText="height:0;"+"margin-left:".concat(p.width/2,"px;")+"margin-top:".concat(p.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Lt(d,Je,l.movable),Lt(d,U,l.transition),o.renderImage(function(){o.viewed=!0,o.viewing=!1,N(l.viewed)&&C(c,Ot,l.viewed,{once:!0}),X(c,Ot,{originalImage:o.images[m],index:m,image:d},{cancelable:!1})})})},loadImage:function(o){var c=o.target,l=c.parentNode,d=l.offsetWidth||30,m=l.offsetHeight||50,p=!!pt(c,"filled");xr(c,this.options,function(y,_){var w=y/_,b=d,A=m;m*w>d?p?b=m*w:A=d/w:p?A=d/w:b=m*w,be(c,fe({width:b,height:A},ai({translateX:(d-b)/2,translateY:(m-A)/2})))})},keydown:function(o){var c=this.options;if(c.keyboard){var l=o.keyCode||o.which||o.charCode;switch(l){case 13:this.viewer.contains(o.target)&&this.click(o);break}if(this.fulled)switch(l){case 27:this.played?this.stop():c.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(c.loop);break;case 38:o.preventDefault(),this.zoom(c.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(c.loop);break;case 40:o.preventDefault(),this.zoom(-c.zoomRatio,!0);break;case 48:case 49:o.ctrlKey&&(o.preventDefault(),this.toggle());break}}},dragstart:function(o){o.target.localName==="img"&&o.preventDefault()},pointerdown:function(o){var c=this.options,l=this.pointers,d=o.buttons,m=o.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(o.type==="mousedown"||o.type==="pointerdown"&&o.pointerType==="mouse")&&(q(d)&&d!==1||q(m)&&m!==0||o.ctrlKey))){o.preventDefault(),o.changedTouches?B(o.changedTouches,function(y){l[y.identifier]=ci(y)}):l[o.pointerId||0]=ci(o);var p=c.movable?T:!1;c.zoomOnTouch&&c.zoomable&&Object.keys(l).length>1?p=F:c.slideOnTouch&&(o.pointerType==="touch"||o.type==="touchstart")&&this.isSwitchable()&&(p=I),c.transition&&(p===T||p===F)&&R(this.image,U),this.action=p}},pointermove:function(o){var c=this.pointers,l=this.action;!this.viewed||!l||(o.preventDefault(),o.changedTouches?B(o.changedTouches,function(d){fe(c[d.identifier]||{},ci(d,!0))}):fe(c[o.pointerId||0]||{},ci(o,!0)),this.change(o))},pointerup:function(o){var c=this,l=this.options,d=this.action,m=this.pointers,p;o.changedTouches?B(o.changedTouches,function(y){p=m[y.identifier],delete m[y.identifier]}):(p=m[o.pointerId||0],delete m[o.pointerId||0]),d&&(o.preventDefault(),l.transition&&(d===T||d===F)&&O(this.image,U),this.action=!1,L&&d!==F&&p&&Date.now()-p.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),l.toggleOnDblclick&&this.viewed&&o.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){X(c.image,Qi,{originalEvent:o})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){c.imageClicked=!1},500)):(this.imageClicked=!1,l.backdrop&&l.backdrop!=="static"&&o.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){X(c.canvas,ut,{originalEvent:o})},50)))))},resize:function(){var o=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){o.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}B(this.player.getElementsByTagName("img"),function(c){C(c,me,o.loadImage.bind(o),{once:!0}),X(c,me)})}},wheel:function(o){var c=this;if(this.viewed&&(o.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){c.wheeling=!1},50);var l=Number(this.options.zoomRatio)||.1,d=1;o.deltaY?d=o.deltaY>0?1:-1:o.wheelDelta?d=-o.wheelDelta/120:o.detail&&(d=o.detail>0?1:-1),this.zoom(-d*l,!0,null,o)}}},nl={show:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,c=this.element,l=this.options;if(l.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(o),this;if(N(l.show)&&C(c,cr,l.show,{once:!0}),X(c,cr)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var d=this.viewer;if(R(d,M),d.setAttribute("role","dialog"),d.setAttribute("aria-labelledby",this.title.id),d.setAttribute("aria-modal",!0),d.removeAttribute("aria-hidden"),l.transition&&!o){var m=this.shown.bind(this);this.transitioning={abort:function(){D(d,ve,m),R(d,Z)}},O(d,U),d.initialOffsetWidth=d.offsetWidth,C(d,ve,m,{once:!0}),O(d,Z)}else O(d,Z),this.shown();return this},hide:function(){var o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,l=this.element,d=this.options;if(d.inline||this.hiding||!(this.isShown||this.showing))return this;if(N(d.hide)&&C(l,hr,d.hide,{once:!0}),X(l,hr)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var m=this.viewer,p=this.image,y=function(){R(m,Z),o.hidden()};if(d.transition&&!c){var _=function b(A){A&&A.target===m&&(D(m,ve,b),o.hidden())},w=function(){mt(m,U)?(C(m,ve,_),R(m,Z)):y()};this.transitioning={abort:function(){o.viewed&&mt(p,U)?D(p,ve,w):mt(m,U)&&D(m,ve,_)}},this.viewed&&mt(p,U)?(C(p,ve,w,{once:!0}),this.zoomTo(0,!1,null,null,!0)):w()}else y();return this},view:function(){var o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(c=Number(c)||0,this.hiding||this.played||c<0||c>=this.length||this.viewed&&c===this.index)return this;if(!this.isShown)return this.index=c,this.show();this.viewing&&this.viewing.abort();var l=this.element,d=this.options,m=this.title,p=this.canvas,y=this.items[c],_=y.querySelector("img"),w=pt(_,"originalUrl"),b=_.getAttribute("alt"),A=document.createElement("img");if(B(d.inheritedAttributes,function(re){var ue=_.getAttribute(re);ue!==null&&A.setAttribute(re,ue)}),A.src=w,A.alt=b,N(d.view)&&C(l,fr,d.view,{once:!0}),X(l,fr,{originalImage:this.images[c],index:c,image:A})===!1||!this.isShown||this.hiding||this.played)return this;var k=this.items[this.index];k&&(R(k,P),k.removeAttribute("aria-selected")),O(y,P),y.setAttribute("aria-selected",!0),d.focus&&y.focus(),this.image=A,this.viewed=!1,this.index=c,this.imageData={},O(A,Xe),d.loading&&O(p,Ve),p.innerHTML="",p.appendChild(A),this.renderList(),m.innerHTML="";var J=function(){var ue=o.imageData,he=Array.isArray(d.title)?d.title[1]:d.title;m.innerHTML=Xa(N(he)?he.call(o,A,ue):"".concat(b," (").concat(ue.naturalWidth," \xD7 ").concat(ue.naturalHeight,")"))},Y,z;return C(l,Ot,J,{once:!0}),this.viewing={abort:function(){D(l,Ot,J),A.complete?o.imageRendering?o.imageRendering.abort():o.imageInitializing&&o.imageInitializing.abort():(A.src="",D(A,me,Y),o.timeout&&clearTimeout(o.timeout))}},A.complete?this.load():(C(A,me,Y=function(){D(A,Ze,z),o.load()},{once:!0}),C(A,Ze,z=function(){D(A,me,Y),o.timeout&&(clearTimeout(o.timeout),o.timeout=!1),R(A,Xe),d.loading&&R(o.canvas,Ve)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){R(A,Xe),o.timeout=!1},1e3)),this},prev:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,c=this.index-1;return c<0&&(c=o?this.length-1:0),this.view(c),this},next:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,c=this.length-1,l=this.index+1;return l>c&&(l=o?0:c),this.view(l),this},move:function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,l=this.imageData;return this.moveTo(ht(o)?o:l.x+Number(o),ht(c)?c:l.y+Number(c)),this},moveTo:function(o){var c=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,m=this.element,p=this.options,y=this.imageData;if(o=Number(o),l=Number(l),this.viewed&&!this.played&&p.movable){var _=y.x,w=y.y,b=!1;if(q(o)?b=!0:o=_,q(l)?b=!0:l=w,b){if(N(p.move)&&C(m,mr,p.move,{once:!0}),X(m,mr,{x:o,y:l,oldX:_,oldY:w,originalEvent:d})===!1)return this;y.x=o,y.y=l,y.left=o,y.top=l,this.moving=!0,this.renderImage(function(){c.moving=!1,N(p.moved)&&C(m,pr,p.moved,{once:!0}),X(m,pr,{x:o,y:l,oldX:_,oldY:w,originalEvent:d},{cancelable:!1})})}}return this},rotate:function(o){return this.rotateTo((this.imageData.rotate||0)+Number(o)),this},rotateTo:function(o){var c=this,l=this.element,d=this.options,m=this.imageData;if(o=Number(o),q(o)&&this.viewed&&!this.played&&d.rotatable){var p=m.rotate;if(N(d.rotate)&&C(l,gr,d.rotate,{once:!0}),X(l,gr,{degree:o,oldDegree:p})===!1)return this;m.rotate=o,this.rotating=!0,this.renderImage(function(){c.rotating=!1,N(d.rotated)&&C(l,vr,d.rotated,{once:!0}),X(l,vr,{degree:o,oldDegree:p},{cancelable:!1})})}return this},scaleX:function(o){return this.scale(o,this.imageData.scaleY),this},scaleY:function(o){return this.scale(this.imageData.scaleX,o),this},scale:function(o){var c=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,d=this.element,m=this.options,p=this.imageData;if(o=Number(o),l=Number(l),this.viewed&&!this.played&&m.scalable){var y=p.scaleX,_=p.scaleY,w=!1;if(q(o)?w=!0:o=y,q(l)?w=!0:l=_,w){if(N(m.scale)&&C(d,br,m.scale,{once:!0}),X(d,br,{scaleX:o,scaleY:l,oldScaleX:y,oldScaleY:_})===!1)return this;p.scaleX=o,p.scaleY=l,this.scaling=!0,this.renderImage(function(){c.scaling=!1,N(m.scaled)&&C(d,yr,m.scaled,{once:!0}),X(d,yr,{scaleX:o,scaleY:l,oldScaleX:y,oldScaleY:_},{cancelable:!1})})}}return this},zoom:function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,m=this.imageData;return o=Number(o),o<0?o=1/(1-o):o=1+o,this.zoomTo(m.width*o/m.naturalWidth,c,l,d),this},zoomTo:function(o){var c=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,y=this.element,_=this.options,w=this.pointers,b=this.imageData,A=b.x,k=b.y,J=b.width,Y=b.height,z=b.naturalWidth,re=b.naturalHeight;if(o=Math.max(0,o),q(o)&&this.viewed&&!this.played&&(p||_.zoomable)){if(!p){var ue=Math.max(.01,_.minZoomRatio),he=Math.min(100,_.maxZoomRatio);o=Math.min(Math.max(o,ue),he)}if(m)switch(m.type){case"wheel":_.zoomRatio>=.055&&o>.95&&o<1.05&&(o=1);break;case"pointermove":case"touchmove":case"mousemove":o>.99&&o<1.01&&(o=1);break}var $=z*o,ke=re*o,Ge=$-J,Ae=ke-Y,Qe=b.ratio;if(N(_.zoom)&&C(y,wr,_.zoom,{once:!0}),X(y,wr,{ratio:o,oldRatio:Qe,originalEvent:m})===!1)return this;if(this.zooming=!0,m){var kt=Za(this.viewer),gt=w&&Object.keys(w).length>0?el(w):{pageX:m.pageX,pageY:m.pageY};b.x-=Ge*((gt.pageX-kt.left-A)/J),b.y-=Ae*((gt.pageY-kt.top-k)/Y)}else ft(d)&&q(d.x)&&q(d.y)?(b.x-=Ge*((d.x-A)/J),b.y-=Ae*((d.y-k)/Y)):(b.x-=Ge/2,b.y-=Ae/2);b.left=b.x,b.top=b.y,b.width=$,b.height=ke,b.oldRatio=Qe,b.ratio=o,this.renderImage(function(){c.zooming=!1,N(_.zoomed)&&C(y,Er,_.zoomed,{once:!0}),X(y,Er,{ratio:o,oldRatio:Qe,originalEvent:m},{cancelable:!1})}),l&&this.tooltip()}return this},play:function(){var o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var l=this.element,d=this.options;if(N(d.play)&&C(l,Sr,d.play,{once:!0}),X(l,Sr)===!1)return this;var m=this.player,p=this.loadImage.bind(this),y=[],_=0,w=0;if(this.played=!0,this.onLoadWhenPlay=p,c&&this.requestFullscreen(c),O(m,ct),B(this.items,function(k,J){var Y=k.querySelector("img"),z=document.createElement("img");z.src=pt(Y,"originalUrl"),z.alt=Y.getAttribute("alt"),z.referrerPolicy=Y.referrerPolicy,_+=1,O(z,le),Lt(z,U,d.transition),mt(k,P)&&(O(z,Z),w=J),y.push(z),C(z,me,p,{once:!0}),m.appendChild(z)}),q(d.interval)&&d.interval>0){var b=function k(){clearTimeout(o.playing.timeout),R(y[w],Z),w-=1,w=w>=0?w:_-1,O(y[w],Z),o.playing.timeout=setTimeout(k,d.interval)},A=function k(){clearTimeout(o.playing.timeout),R(y[w],Z),w+=1,w=w<_?w:0,O(y[w],Z),o.playing.timeout=setTimeout(k,d.interval)};_>1&&(this.playing={prev:b,next:A,timeout:setTimeout(A,d.interval)})}return this},stop:function(){var o=this;if(!this.played)return this;var c=this.element,l=this.options;if(N(l.stop)&&C(c,_r,l.stop,{once:!0}),X(c,_r)===!1)return this;var d=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,B(d.getElementsByTagName("img"),function(m){D(m,me,o.onLoadWhenPlay)}),R(d,ct),d.innerHTML="",this.exitFullscreen(),this},full:function(){var o=this,c=this.options,l=this.viewer,d=this.image,m=this.list;return!this.isShown||this.played||this.fulled||!c.inline?this:(this.fulled=!0,this.open(),O(this.button,ge),c.transition&&(R(m,U),this.viewed&&R(d,U)),O(l,pe),l.setAttribute("role","dialog"),l.setAttribute("aria-labelledby",this.title.id),l.setAttribute("aria-modal",!0),l.removeAttribute("style"),be(l,{zIndex:c.zIndex}),c.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=fe({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){o.renderImage(function(){c.transition&&setTimeout(function(){O(d,U),O(m,U)},0)})}),this)},exit:function(){var o=this,c=this.options,l=this.viewer,d=this.image,m=this.list;return!this.isShown||this.played||!this.fulled||!c.inline?this:(this.fulled=!1,this.close(),R(this.button,ge),c.transition&&(R(m,U),this.viewed&&R(d,U)),c.focus&&this.clearEnforceFocus(),l.removeAttribute("role"),l.removeAttribute("aria-labelledby"),l.removeAttribute("aria-modal"),R(l,pe),be(l,{zIndex:c.zIndexInline}),this.viewerData=fe({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){o.renderImage(function(){c.transition&&setTimeout(function(){O(d,U),O(m,U)},0)})}),this)},tooltip:function(){var o=this,c=this.options,l=this.tooltipBox,d=this.imageData;return!this.viewed||this.played||!c.tooltip?this:(l.textContent="".concat(Math.round(d.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):c.transition?(this.fading&&X(l,ve),O(l,ct),O(l,le),O(l,U),l.removeAttribute("aria-hidden"),l.initialOffsetWidth=l.offsetWidth,O(l,Z)):(O(l,ct),l.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){c.transition?(C(l,ve,function(){R(l,ct),R(l,le),R(l,U),l.setAttribute("aria-hidden",!0),o.fading=!1},{once:!0}),R(l,Z),o.fading=!0):(R(l,ct),l.setAttribute("aria-hidden",!0)),o.tooltipping=!1},1e3),this)},toggle:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,o):this.zoomTo(1,!0,null,o),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=fe({},this.initialImageData),this.renderImage()),this},update:function(){var o=this,c=this.element,l=this.options,d=this.isImg;if(d&&!c.parentNode)return this.destroy();var m=[];if(B(d?[c]:c.querySelectorAll("img"),function(w){N(l.filter)?l.filter.call(o,w)&&m.push(w):o.getImageURL(w)&&m.push(w)}),!m.length)return this;if(this.images=m,this.length=m.length,this.ready){var p=[];if(B(this.items,function(w,b){var A=w.querySelector("img"),k=m[b];k&&A?(k.src!==A.src||k.alt!==A.alt)&&p.push(b):p.push(b)}),be(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var y=p.indexOf(this.index);if(y>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-y,this.length-1),0));else{var _=this.items[this.index];O(_,P),_.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var o=this.element,c=this.options;return o[x]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),c.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):c.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),c.inline||D(o,ut,this.onStart),o[x]=void 0,this):this}},rl={getImageURL:function(o){var c=this.options.url;return Ct(c)?c=o.getAttribute(c):N(c)?c=c.call(this,o):c="",c},enforceFocus:function(){var o=this;this.clearEnforceFocus(),C(document,tr,this.onFocusin=function(c){var l=o.viewer,d=c.target;if(!(d===document||d===l||l.contains(d))){for(;d;){if(d.getAttribute("tabindex")!==null||d.getAttribute("aria-modal")==="true")return;d=d.parentElement}l.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(D(document,tr,this.onFocusin),this.onFocusin=null)},open:function(){var o=this.body;O(o,ce),this.scrollbarWidth>0&&(o.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var o=this.body;R(o,ce),this.scrollbarWidth>0&&(o.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var o=this.element,c=this.options,l=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,c.focus&&(l.focus(),this.enforceFocus()),N(c.shown)&&C(o,ur,c.shown,{once:!0}),X(o,ur)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var o=this.element,c=this.options,l=this.viewer;c.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),O(l,M),l.removeAttribute("role"),l.removeAttribute("aria-labelledby"),l.removeAttribute("aria-modal"),l.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(N(c.hidden)&&C(o,dr,c.hidden,{once:!0}),X(o,dr,null,{cancelable:!1}))},requestFullscreen:function(o){var c=this.element.ownerDocument;if(this.fulled&&!(c.fullscreenElement||c.webkitFullscreenElement||c.mozFullScreenElement||c.msFullscreenElement)){var l=c.documentElement;l.requestFullscreen?ft(o)?l.requestFullscreen(o):l.requestFullscreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):l.mozRequestFullScreen?l.mozRequestFullScreen():l.msRequestFullscreen&&l.msRequestFullscreen()}},exitFullscreen:function(){var o=this.element.ownerDocument;this.fulled&&(o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement)&&(o.exitFullscreen?o.exitFullscreen():o.webkitExitFullscreen?o.webkitExitFullscreen():o.mozCancelFullScreen?o.mozCancelFullScreen():o.msExitFullscreen&&o.msExitFullscreen())},change:function(o){var c=this.options,l=this.pointers,d=l[Object.keys(l)[0]];if(d){var m=d.endX-d.startX,p=d.endY-d.startY;switch(this.action){case T:(m!==0||p!==0)&&(this.pointerMoved=!0,this.move(m,p,o));break;case F:this.zoom(Qa(l),!1,null,o);break;case I:{this.action="switched";var y=Math.abs(m);y>1&&y>Math.abs(p)&&(this.pointers={},m>1?this.prev(c.loop):m<-1&&this.next(c.loop));break}}B(l,function(_){_.startX=_.endX,_.startY=_.endY})}},isSwitchable:function(){var o=this.imageData,c=this.viewerData;return this.length>1&&o.x>=0&&o.y>=0&&o.width<=c.width&&o.height<=c.height}},ol=S.Viewer,al=function(h){return function(){return h+=1,h}}(-1),Tr=function(){function h(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s(this,h),!o||o.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=o,this.options=fe({},g,ft(c)&&c),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=al(),this.init()}return r(h,[{key:"init",value:function(){var c=this,l=this.element,d=this.options;if(!l[x]){l[x]=this,d.focus&&!d.keyboard&&(d.focus=!1);var m=l.localName==="img",p=[];if(B(m?[l]:l.querySelectorAll("img"),function(w){N(d.filter)?d.filter.call(c,w)&&p.push(w):c.getImageURL(w)&&p.push(w)}),this.isImg=m,this.length=p.length,this.images=p,this.initBody(),ht(document.createElement(x).style.transition)&&(d.transition=!1),d.inline){var y=0,_=function(){if(y+=1,y===c.length){var b;c.initializing=!1,c.delaying={abort:function(){clearTimeout(b)}},b=setTimeout(function(){c.delaying=!1,c.build()},0)}};this.initializing={abort:function(){B(p,function(b){b.complete||(D(b,me,_),D(b,Ze,_))})}},B(p,function(w){if(w.complete)_();else{var b,A;C(w,me,b=function(){D(w,Ze,A),_()},{once:!0}),C(w,Ze,A=function(){D(w,me,b),_()},{once:!0})}})}else C(l,ut,this.onStart=function(w){var b=w.target;b.localName==="img"&&(!N(d.filter)||d.filter.call(c,b))&&c.view(c.images.indexOf(b))})}}},{key:"build",value:function(){if(!this.ready){var c=this.element,l=this.options,d=c.parentNode,m=document.createElement("div");m.innerHTML=v;var p=m.querySelector(".".concat(x,"-container")),y=p.querySelector(".".concat(x,"-title")),_=p.querySelector(".".concat(x,"-toolbar")),w=p.querySelector(".".concat(x,"-navbar")),b=p.querySelector(".".concat(x,"-button")),A=p.querySelector(".".concat(x,"-canvas"));if(this.parent=d,this.viewer=p,this.title=y,this.toolbar=_,this.navbar=w,this.button=b,this.canvas=A,this.footer=p.querySelector(".".concat(x,"-footer")),this.tooltipBox=p.querySelector(".".concat(x,"-tooltip")),this.player=p.querySelector(".".concat(x,"-player")),this.list=p.querySelector(".".concat(x,"-list")),p.id="".concat(x).concat(this.id),y.id="".concat(x,"Title").concat(this.id),O(y,l.title?li(Array.isArray(l.title)?l.title[0]:l.title):M),O(w,l.navbar?li(l.navbar):M),Lt(b,M,!l.button),l.keyboard&&b.setAttribute("tabindex",0),l.backdrop&&(O(p,"".concat(x,"-backdrop")),!l.inline&&l.backdrop!=="static"&&is(A,ri,"hide")),Ct(l.className)&&l.className&&l.className.split(es).forEach(function($){O(p,$)}),l.toolbar){var k=document.createElement("ul"),J=ft(l.toolbar),Y=oi.slice(0,3),z=oi.slice(7,9),re=oi.slice(9);J||O(_,li(l.toolbar)),B(J?l.toolbar:oi,function($,ke){var Ge=J&&ft($),Ae=J?ts(ke):$,Qe=Ge&&!ht($.show)?$.show:$;if(!(!Qe||!l.zoomable&&Y.indexOf(Ae)!==-1||!l.rotatable&&z.indexOf(Ae)!==-1||!l.scalable&&re.indexOf(Ae)!==-1)){var kt=Ge&&!ht($.size)?$.size:$,gt=Ge&&!ht($.click)?$.click:$,Me=document.createElement("li");l.keyboard&&Me.setAttribute("tabindex",0),Me.setAttribute("role","button"),O(Me,"".concat(x,"-").concat(Ae)),N(gt)||is(Me,ri,Ae),q(Qe)&&O(Me,li(Qe)),["small","large"].indexOf(kt)!==-1?O(Me,"".concat(x,"-").concat(kt)):Ae==="play"&&O(Me,"".concat(x,"-large")),N(gt)&&C(Me,ut,gt),k.appendChild(Me)}}),_.appendChild(k)}else O(_,M);if(!l.rotatable){var ue=_.querySelectorAll('li[class*="rotate"]');O(ue,Xe),B(ue,function($){_.appendChild($)})}if(l.inline)O(b,Oe),be(p,{zIndex:l.zIndexInline}),window.getComputedStyle(d).position==="static"&&be(d,{position:"relative"}),d.insertBefore(p,c.nextSibling);else{O(b,te),O(p,pe),O(p,le),O(p,M),be(p,{zIndex:l.zIndex});var he=l.container;Ct(he)&&(he=c.ownerDocument.querySelector(he)),he||(he=this.body),he.appendChild(p)}if(l.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,N(l.ready)&&C(c,lr,l.ready,{once:!0}),X(c,lr)===!1){this.ready=!1;return}this.ready&&l.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=ol,h}},{key:"setDefaults",value:function(c){fe(g,ft(c)&&c)}}]),h}();return fe(Tr.prototype,tl,il,sl,nl,rl),Tr})});(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;let t=HTMLElement,e={HTMLElement:function(){return Reflect.construct(t,[],this.constructor)}};window.HTMLElement=e.HTMLElement,HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)})();(function(t){if(typeof t.requestSubmit=="function")return;t.requestSubmit=function(s){s?(e(s,this),s.click()):(s=document.createElement("input"),s.type="submit",s.hidden=!0,this.appendChild(s),s.click(),this.removeChild(s))};function e(s,n){s instanceof HTMLElement||i(TypeError,"parameter 1 is not of type 'HTMLElement'"),s.type=="submit"||i(TypeError,"The specified element is not a submit button"),s.form==n||i(DOMException,"The specified element is not owned by this form element","NotFoundError")}function i(s,n,r){throw new s("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+n+".",r)}})(HTMLFormElement.prototype);var Fr=new WeakMap;function gl(t){let e=t instanceof Element?t:t instanceof Node?t.parentElement:null,i=e?e.closest("input, button"):null;return i?.type=="submit"?i:null}function vl(t){let e=gl(t.target);e&&e.form&&Fr.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let t=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))t=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",vl,!0),Object.defineProperty(t,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return Fr.get(this.target)}})})();var He;(function(t){t.eager="eager",t.lazy="lazy"})(He||(He={}));var Ie=class t extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new t.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="complete"?this.delegate.completeChanged():e=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loading(){return bl(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,i;return(i=(e=this.ownerDocument)===null||e===void 0?void 0:e.documentElement)===null||i===void 0?void 0:i.hasAttribute("data-turbo-preview")}};function bl(t){switch(t.toLowerCase()){case"lazy":return He.lazy;default:return He.eager}}function oe(t){return new URL(t.toString(),document.baseURI)}function et(t){let e;if(t.hash)return t.hash.slice(1);if(e=t.href.match(/#(.*)$/))return e[1]}function Ls(t,e){let i=e?.getAttribute("formaction")||t.getAttribute("action")||t.action;return oe(i)}function yl(t){return(Al(t).match(/\.[^.]*$/)||[])[0]||""}function wl(t){return!!yl(t).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function El(t,e){let i=xl(e);return t.href===oe(i).href||t.href.startsWith(i)}function bt(t,e){return El(t,e)&&wl(t)}function ns(t){let e=et(t);return e!=null?t.href.slice(0,-(e.length+1)):t.href}function ui(t){return ns(t)}function Sl(t,e){return oe(t).href==oe(e).href}function _l(t){return t.pathname.split("/").slice(1)}function Al(t){return _l(t).slice(-1)[0]}function xl(t){return Tl(t.origin+t.pathname)}function Tl(t){return t.endsWith("/")?t:t+"/"}var Mt=class{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return oe(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}};function Ft(t){if(t.getAttribute("data-turbo-eval")=="false")return t;{let e=document.createElement("script"),i=fi("csp-nonce");return i&&(e.nonce=i),e.textContent=t.textContent,e.async=!1,Ol(e,t),e}}function Ol(t,e){for(let{name:i,value:s}of e.attributes)t.setAttribute(i,s)}function Cl(t){let e=document.createElement("template");return e.innerHTML=t,e.content}function se(t,{target:e,cancelable:i,detail:s}={}){let n=new CustomEvent(t,{cancelable:i,bubbles:!0,composed:!0,detail:s});return e&&e.isConnected?e.dispatchEvent(n):document.documentElement.dispatchEvent(n),n}function hi(){return new Promise(t=>requestAnimationFrame(()=>t()))}function Ll(){return new Promise(t=>setTimeout(()=>t(),0))}function kl(){return Promise.resolve()}function Ir(t=""){return new DOMParser().parseFromString(t,"text/html")}function Rr(t,...e){let i=Ml(t,e).replace(/^\n/,"").split(`
`),s=i[0].match(/^\s+/),n=s?s[0].length:0;return i.map(r=>r.slice(n)).join(`
`)}function Ml(t,e){return t.reduce((i,s,n)=>{let r=e[n]==null?"":e[n];return i+s+r},"")}function yt(){return Array.from({length:36}).map((t,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function di(t,...e){for(let i of e.map(s=>s?.getAttribute(t)))if(typeof i=="string")return i;return null}function Fl(t,...e){return e.some(i=>i&&i.hasAttribute(t))}function rs(...t){for(let e of t)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function os(...t){for(let e of t)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function Il(t,e=2e3){return new Promise(i=>{let s=()=>{t.removeEventListener("error",s),t.removeEventListener("load",s),i()};t.addEventListener("load",s,{once:!0}),t.addEventListener("error",s,{once:!0}),setTimeout(i,e)})}function Pr(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function Rl(t){return t=="advance"||t=="replace"||t=="restore"}function Si(...t){let e=di("data-turbo-action",...t);return Rl(e)?e:null}function Nr(t){return document.querySelector(`meta[name="${t}"]`)}function fi(t){let e=Nr(t);return e&&e.content}function Pl(t,e){let i=Nr(t);return i||(i=document.createElement("meta"),i.setAttribute("name",t),document.head.appendChild(i)),i.setAttribute("content",e),i}function mi(t,e){var i;if(t instanceof Element)return t.closest(e)||mi(t.assignedSlot||((i=t.getRootNode())===null||i===void 0?void 0:i.host),e)}var de;(function(t){t[t.get=0]="get",t[t.post=1]="post",t[t.put=2]="put",t[t.patch=3]="patch",t[t.delete=4]="delete"})(de||(de={}));function Nl(t){switch(t.toLowerCase()){case"get":return de.get;case"post":return de.post;case"put":return de.put;case"patch":return de.patch;case"delete":return de.delete}}var It=class{constructor(e,i,s,n=new URLSearchParams,r=null){this.abortController=new AbortController,this.resolveRequestPromise=a=>{},this.delegate=e,this.method=i,this.headers=this.defaultHeaders,this.body=n,this.url=s,this.target=r}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:e}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(e);try{this.delegate.requestStarted(this);let i=await fetch(this.url.href,e);return await this.receive(i)}catch(i){if(i.name!=="AbortError")throw this.willDelegateErrorHandling(i)&&this.delegate.requestErrored(this,i),i}finally{this.delegate.requestFinished(this)}}async receive(e){let i=new Mt(e);return se("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:i},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,i):i.succeeded?this.delegate.requestSucceededWithResponse(this,i):this.delegate.requestFailedWithResponse(this,i),i}get fetchOptions(){var e;return{method:de[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:(e=this.delegate.referrer)===null||e===void 0?void 0:e.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===de.get}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(e){let i=new Promise(n=>this.resolveRequestPromise=n);se("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await i}willDelegateErrorHandling(e){return!se("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}},as=class{constructor(e,i){this.started=!1,this.intersect=s=>{let n=s.slice(-1)[0];n?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=e,this.element=i,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}},Re=class{static wrap(e){return typeof e=="string"?new this(Cl(e)):e}constructor(e){this.fragment=Dl(e)}};Re.contentType="text/vnd.turbo-stream.html";function Dl(t){for(let e of t.querySelectorAll("turbo-stream")){let i=document.importNode(e,!0);for(let s of i.templateElement.content.querySelectorAll("script"))s.replaceWith(Ft(s));e.replaceWith(i)}return t}var je;(function(t){t[t.initialized=0]="initialized",t[t.requesting=1]="requesting",t[t.waiting=2]="waiting",t[t.receiving=3]="receiving",t[t.stopping=4]="stopping",t[t.stopped=5]="stopped"})(je||(je={}));var $e;(function(t){t.urlEncoded="application/x-www-form-urlencoded",t.multipart="multipart/form-data",t.plain="text/plain"})($e||($e={}));function Bl(t){switch(t.toLowerCase()){case $e.multipart:return $e.multipart;case $e.plain:return $e.plain;default:return $e.urlEncoded}}var Rt=class t{static confirmMethod(e,i,s){return Promise.resolve(confirm(e))}constructor(e,i,s,n=!1){this.state=je.initialized,this.delegate=e,this.formElement=i,this.submitter=s,this.formData=Vl(i,s),this.location=oe(this.action),this.method==de.get&&Hl(this.location,[...this.body.entries()]),this.fetchRequest=new It(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=n}get method(){var e;let i=((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return Nl(i.toLowerCase())||de.get}get action(){var e;let i=typeof this.formElement.action=="string"?this.formElement.action:null;return!((e=this.submitter)===null||e===void 0)&&e.hasAttribute("formaction")?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||i||""}get body(){return this.enctype==$e.urlEncoded||this.method==de.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return Bl(((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce((e,[i,s])=>e.concat(typeof s=="string"?[[i,s]]:[]),[])}async start(){let{initialized:e,requesting:i}=je,s=di("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof s=="string"&&!await t.confirmMethod(s,this.formElement,this.submitter))&&this.state==e)return this.state=i,this.fetchRequest.perform()}stop(){let{stopping:e,stopped:i}=je;if(this.state!=e&&this.state!=i)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){let i=jl(fi("csrf-param"))||fi("csrf-token");i&&(e.headers["X-CSRF-Token"]=i)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(Re.contentType)}requestStarted(e){var i;this.state=je.waiting,(i=this.submitter)===null||i===void 0||i.setAttribute("disabled",""),this.setSubmitsWith(),se("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,i){this.result={success:i.succeeded,fetchResponse:i}}requestSucceededWithResponse(e,i){if(i.clientError||i.serverError)this.delegate.formSubmissionFailedWithResponse(this,i);else if(this.requestMustRedirect(e)&&$l(i)){let s=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,s)}else this.state=je.receiving,this.result={success:!0,fetchResponse:i},this.delegate.formSubmissionSucceededWithResponse(this,i)}requestFailedWithResponse(e,i){this.result={success:!1,fetchResponse:i},this.delegate.formSubmissionFailedWithResponse(this,i)}requestErrored(e,i){this.result={success:!1,error:i},this.delegate.formSubmissionErrored(this,i)}requestFinished(e){var i;this.state=je.stopped,(i=this.submitter)===null||i===void 0||i.removeAttribute("disabled"),this.resetSubmitterText(),se("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||Fl("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var e;return(e=this.submitter)===null||e===void 0?void 0:e.getAttribute("data-turbo-submits-with")}};function Vl(t,e){let i=new FormData(t),s=e?.getAttribute("name"),n=e?.getAttribute("value");return s&&i.append(s,n||""),i}function jl(t){if(t!=null){let i=(document.cookie?document.cookie.split("; "):[]).find(s=>s.startsWith(t));if(i){let s=i.split("=").slice(1).join("=");return s?decodeURIComponent(s):void 0}}}function $l(t){return t.statusCode==200&&!t.redirected}function Hl(t,e){let i=new URLSearchParams;for(let[s,n]of e)n instanceof File||i.append(s,n);return t.search=i.toString(),t}var wt=class{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){let e="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";for(let i of this.element.querySelectorAll("[autofocus]"))if(i.closest(e)==null)return i;return null}get permanentElements(){return Br(this.element)}getPermanentElementById(e){return Dr(this.element,e)}getPermanentElementMapForSnapshot(e){let i={};for(let s of this.permanentElements){let{id:n}=s,r=e.getPermanentElementById(n);r&&(i[n]=[s,r])}return i}};function Dr(t,e){return t.querySelector(`#${e}[data-turbo-permanent]`)}function Br(t){return t.querySelectorAll("[id][data-turbo-permanent]")}var Pt=class{constructor(e,i){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=s=>{if(!s.defaultPrevented){let n=s.target instanceof HTMLFormElement?s.target:void 0,r=s.submitter||void 0;n&&ql(n,r)&&zl(n,r)&&this.delegate.willSubmitForm(n,r)&&(s.preventDefault(),s.stopImmediatePropagation(),this.delegate.formSubmitted(n,r))}},this.delegate=e,this.eventTarget=i}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}};function ql(t,e){return(e?.getAttribute("formmethod")||t.getAttribute("method"))!="dialog"}function zl(t,e){if(e?.hasAttribute("formtarget")||t.hasAttribute("target")){let i=e?.getAttribute("formtarget")||t.target;for(let s of document.getElementsByName(i))if(s instanceof HTMLIFrameElement)return!1;return!0}else return!0}var pi=class{constructor(e,i){this.resolveRenderPromise=s=>{},this.resolveInterceptionPromise=s=>{},this.delegate=e,this.element=i}scrollToAnchor(e){let i=this.snapshot.getElementForAnchor(e);i?(this.scrollToElement(i),this.focusElement(i)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(et(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:i}){this.scrollRoot.scrollTo(e,i)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){let{isPreview:i,shouldRender:s,newSnapshot:n}=e;if(s)try{this.renderPromise=new Promise(f=>this.resolveRenderPromise=f),this.renderer=e,await this.prepareToRenderSnapshot(e);let r=new Promise(f=>this.resolveInterceptionPromise=f),a={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(n,a)||await r,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(n,i),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}},ls=class extends pi{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new wt(this.element)}},gi=class{constructor(e,i){this.clickBubbled=s=>{this.respondsToEventTarget(s.target)?this.clickEvent=s:delete this.clickEvent},this.linkClicked=s=>{this.clickEvent&&this.respondsToEventTarget(s.target)&&s.target instanceof Element&&this.delegate.shouldInterceptLinkClick(s.target,s.detail.url,s.detail.originalEvent)&&(this.clickEvent.preventDefault(),s.preventDefault(),this.delegate.linkClickIntercepted(s.target,s.detail.url,s.detail.originalEvent)),delete this.clickEvent},this.willVisit=s=>{delete this.clickEvent},this.delegate=e,this.element=i}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){let i=e instanceof Element?e:e instanceof Node?e.parentElement:null;return i&&i.closest("turbo-frame, html")==this.element}},vi=class{constructor(e,i){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=s=>{if(s instanceof MouseEvent&&this.clickEventIsSignificant(s)){let n=s.composedPath&&s.composedPath()[0]||s.target,r=this.findLinkFromClickTarget(n);if(r&&Kl(r)){let a=this.getLocationForLink(r);this.delegate.willFollowLinkToLocation(r,a,s)&&(s.preventDefault(),this.delegate.followedLinkToLocation(r,a))}}},this.delegate=e,this.eventTarget=i}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){return mi(e,"a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return oe(e.getAttribute("href")||"")}};function Kl(t){if(t.hasAttribute("target")){for(let e of document.getElementsByName(t.target))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}var bi=class{constructor(e,i){this.delegate=e,this.linkInterceptor=new vi(this,i)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(e,i,s){return this.delegate.willSubmitFormLinkToLocation(e,i,s)&&e.hasAttribute("data-turbo-method")}followedLinkToLocation(e,i){let s=document.createElement("form"),n="hidden";for(let[E,S]of i.searchParams)s.append(Object.assign(document.createElement("input"),{type:n,name:E,value:S}));let r=Object.assign(i,{search:""});s.setAttribute("data-turbo","true"),s.setAttribute("action",r.href),s.setAttribute("hidden","");let a=e.getAttribute("data-turbo-method");a&&s.setAttribute("method",a);let u=e.getAttribute("data-turbo-frame");u&&s.setAttribute("data-turbo-frame",u);let f=Si(e);f&&s.setAttribute("data-turbo-action",f);let g=e.getAttribute("data-turbo-confirm");g&&s.setAttribute("data-turbo-confirm",g),e.hasAttribute("data-turbo-stream")&&s.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,i,s),document.body.appendChild(s),s.addEventListener("turbo:submit-end",()=>s.remove(),{once:!0}),requestAnimationFrame(()=>s.requestSubmit())}},yi=class{static async preservingPermanentElements(e,i,s){let n=new this(e,i);n.enter(),await s(),n.leave()}constructor(e,i){this.delegate=e,this.permanentElementMap=i}enter(){for(let e in this.permanentElementMap){let[i,s]=this.permanentElementMap[e];this.delegate.enteringBardo(i,s),this.replaceNewPermanentElementWithPlaceholder(s)}}leave(){for(let e in this.permanentElementMap){let[i]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(i),this.replacePlaceholderWithPermanentElement(i),this.delegate.leavingBardo(i)}}replaceNewPermanentElementWithPlaceholder(e){let i=Wl(e);e.replaceWith(i)}replaceCurrentPermanentElementWithClone(e){let i=e.cloneNode(!0);e.replaceWith(i)}replacePlaceholderWithPermanentElement(e){let i=this.getPlaceholderById(e.id);i?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(i=>i.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};function Wl(t){let e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",t.id),e}var Nt=class{constructor(e,i,s,n,r=!0){this.activeElement=null,this.currentSnapshot=e,this.newSnapshot=i,this.isPreview=n,this.willRender=r,this.renderElement=s,this.promise=new Promise((a,u)=>this.resolvingFunctions={resolve:a,reject:u})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await yi.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){let e=this.connectedSnapshot.firstAutofocusableElement;Ul(e)&&e.focus()}enteringBardo(e){this.activeElement||e.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}};function Ul(t){return t&&typeof t.focus=="function"}var Dt=class extends Nt{static renderElement(e,i){var s;let n=document.createRange();n.selectNodeContents(e),n.deleteContents();let r=i,a=(s=r.ownerDocument)===null||s===void 0?void 0:s.createRange();a&&(a.selectNodeContents(r),e.appendChild(a.extractContents()))}constructor(e,i,s,n,r,a=!0){super(i,s,n,r,a),this.delegate=e}get shouldRender(){return!0}async render(){await hi(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await hi(),this.focusFirstAutofocusableElement(),await hi(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let e=this.currentElement.firstElementChild,i=Yl(this.currentElement.getAttribute("data-autoscroll-block"),"end"),s=Xl(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:i,behavior:s}),!0}return!1}activateScriptElements(){for(let e of this.newScriptElements){let i=Ft(e);e.replaceWith(i)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};function Yl(t,e){return t=="end"||t=="start"||t=="center"||t=="nearest"?t:e}function Xl(t,e){return t=="auto"||t=="smooth"?t:e}var wi=class t{static get defaultCSS(){return Rr`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${t.animationDuration}ms ease-out,
          opacity ${t.animationDuration/2}ms ${t.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,t.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,t.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let e=document.createElement("style");return e.type="text/css",e.textContent=t.defaultCSS,this.cspNonce&&(e.nonce=this.cspNonce),e}createProgressElement(){let e=document.createElement("div");return e.className="turbo-progress-bar",e}get cspNonce(){return fi("csp-nonce")}};wi.animationDuration=300;var cs=class extends wt{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(e=>!Ql(e)).map(e=>ic(e)).reduce((e,i)=>{let{outerHTML:s}=i,n=s in e?e[s]:{type:Jl(i),tracked:Zl(i),elements:[]};return Object.assign(Object.assign({},e),{[s]:Object.assign(Object.assign({},n),{elements:[...n.elements,i]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,i){return Object.keys(this.detailsByOuterHTML).filter(s=>!(s in i.detailsByOuterHTML)).map(s=>this.detailsByOuterHTML[s]).filter(({type:s})=>s==e).map(({elements:[s]})=>s)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,i)=>{let{type:s,tracked:n,elements:r}=this.detailsByOuterHTML[i];return s==null&&!n?[...e,...r]:r.length>1?[...e,...r.slice(1)]:e},[])}getMetaValue(e){let i=this.findMetaElementByName(e);return i?i.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((i,s)=>{let{elements:[n]}=this.detailsByOuterHTML[s];return tc(n,e)?n:i},void 0)}};function Jl(t){if(Gl(t))return"script";if(ec(t))return"stylesheet"}function Zl(t){return t.getAttribute("data-turbo-track")=="reload"}function Gl(t){return t.localName=="script"}function Ql(t){return t.localName=="noscript"}function ec(t){let e=t.localName;return e=="style"||e=="link"&&t.getAttribute("rel")=="stylesheet"}function tc(t,e){return t.localName=="meta"&&t.getAttribute("name")==e}function ic(t){return t.hasAttribute("nonce")&&t.setAttribute("nonce",""),t}var we=class t extends wt{static fromHTMLString(e=""){return this.fromDocument(Ir(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:i}){return new this(i,new cs(e))}constructor(e,i){super(e),this.headSnapshot=i}clone(){let e=this.element.cloneNode(!0),i=this.element.querySelectorAll("select"),s=e.querySelectorAll("select");for(let[n,r]of i.entries()){let a=s[n];for(let u of a.selectedOptions)u.selected=!1;for(let u of r.selectedOptions)a.options[u.index].selected=!0}for(let n of e.querySelectorAll('input[type="password"]'))n.value="";return new t(e,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;let i=(e=this.getSetting("root"))!==null&&e!==void 0?e:"/";return oe(i)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}},vt;(function(t){t.visitStart="visitStart",t.requestStart="requestStart",t.requestEnd="requestEnd",t.visitEnd="visitEnd"})(vt||(vt={}));var ye;(function(t){t.initialized="initialized",t.started="started",t.canceled="canceled",t.failed="failed",t.completed="completed"})(ye||(ye={}));var sc={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},qe;(function(t){t[t.networkFailure=0]="networkFailure",t[t.timeoutFailure=-1]="timeoutFailure",t[t.contentTypeMismatch=-2]="contentTypeMismatch"})(qe||(qe={}));var us=class{constructor(e,i,s,n={}){this.identifier=yt(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=ye.initialized,this.delegate=e,this.location=i,this.restorationIdentifier=s||yt();let{action:r,historyChanged:a,referrer:u,snapshot:f,snapshotHTML:g,response:v,visitCachedSnapshot:E,willRender:S,updateHistory:L,shouldCacheSnapshot:H,acceptsStreamResponse:x}=Object.assign(Object.assign({},sc),n);this.action=r,this.historyChanged=a,this.referrer=u,this.snapshot=f,this.snapshotHTML=g,this.response=v,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=E,this.willRender=S,this.updateHistory=L,this.scrolled=!S,this.shouldCacheSnapshot=H,this.acceptsStreamResponse=x}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==ye.initialized&&(this.recordTimingMetric(vt.visitStart),this.state=ye.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==ye.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=ye.canceled)}complete(){this.state==ye.started&&(this.recordTimingMetric(vt.visitEnd),this.state=ye.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==ye.started&&(this.state=ye.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){let i=this.location.href===((e=this.referrer)===null||e===void 0?void 0:e.href)?"replace":this.action,s=Pr(i);this.history.update(s,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new It(this,de.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(vt.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){let{statusCode:i}=e;Cr(i)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,i)}}finishRequest(){this.recordTimingMetric(vt.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:e,responseHTML:i}=this.response;this.render(async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,Cr(e)&&i!=null?(await this.view.renderPage(we.fromHTMLString(i),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(we.fromHTMLString(i),this),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){let e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!et(this.location)||e.hasAnchor(et(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return we.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let e=this.getCachedSnapshot();if(e){let i=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(e,i,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),i||this.complete())})}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&(!((e=this.response)===null||e===void 0)&&e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(Re.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,i){}async requestSucceededWithResponse(e,i){let s=await i.responseHTML,{redirected:n,statusCode:r}=i;s==null?this.recordResponse({statusCode:qe.contentTypeMismatch,redirected:n}):(this.redirectedToLocation=i.redirected?i.location:void 0,this.recordResponse({statusCode:r,responseHTML:s,redirected:n}))}async requestFailedWithResponse(e,i){let s=await i.responseHTML,{redirected:n,statusCode:r}=i;s==null?this.recordResponse({statusCode:qe.contentTypeMismatch,redirected:n}):this.recordResponse({statusCode:r,responseHTML:s,redirected:n})}requestErrored(e,i){this.recordResponse({statusCode:qe.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){let e=et(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(i=>{this.frame=requestAnimationFrame(()=>i())}),await e(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};function Cr(t){return t>=200&&t<300}var hs=class{constructor(e){this.progressBar=new wi,this.showProgressBar=()=>{this.progressBar.show()},this.session=e}visitProposedToLocation(e,i){this.navigator.startVisit(e,i?.restorationIdentifier||yt(),i)}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,i){switch(i){case qe.networkFailure:case qe.timeoutFailure:case qe.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:i}});default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(e){this.reload(e)}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var i;se("turbo:reload",{detail:e}),window.location.href=((i=this.location)===null||i===void 0?void 0:i.toString())||window.location.href}get navigator(){return this.session.navigator}},ds=class{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=e=>{for(let i of this.temporaryElements)i.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}},fs=class{constructor(e,i){this.session=e,this.element=i,this.linkInterceptor=new gi(this,i),this.formSubmitObserver=new Pt(this,i)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,i,s){return this.shouldRedirect(e)}linkClickIntercepted(e,i,s){let n=this.findFrameElement(e);n&&n.delegate.linkClickIntercepted(e,i,s)}willSubmitForm(e,i){return e.closest("turbo-frame")==null&&this.shouldSubmit(e,i)&&this.shouldRedirect(e,i)}formSubmitted(e,i){let s=this.findFrameElement(e,i);s&&s.delegate.formSubmitted(e,i)}shouldSubmit(e,i){var s;let n=Ls(e,i),r=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),a=oe((s=r?.content)!==null&&s!==void 0?s:"/");return this.shouldRedirect(e,i)&&bt(n,a)}shouldRedirect(e,i){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,i):this.session.elementIsNavigatable(e)){let n=this.findFrameElement(e,i);return n?n!=e.closest("turbo-frame"):!1}else return!1}findFrameElement(e,i){let s=i?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(s&&s!="_top"){let n=this.element.querySelector(`#${s}:not([disabled])`);if(n instanceof Ie)return n}}},ms=class{constructor(e){this.restorationIdentifier=yt(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=i=>{if(this.shouldHandlePopState()){let{turbo:s}=i.state||{};if(s){this.location=new URL(window.location.href);let{restorationIdentifier:n}=s;this.restorationIdentifier=n,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,n)}}},this.onPageLoad=async i=>{await kl(),this.pageLoaded=!0},this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,i){this.update(history.pushState,e,i)}replace(e,i){this.update(history.replaceState,e,i)}update(e,i,s=yt()){let n={turbo:{restorationIdentifier:s}};e.call(history,n,"",i.href),this.location=i,this.restorationIdentifier=s}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){let{restorationIdentifier:i}=this,s=this.restorationData[i];this.restorationData[i]=Object.assign(Object.assign({},s),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=(e=history.scrollRestoration)!==null&&e!==void 0?e:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},ps=class{constructor(e){this.delegate=e}proposeVisit(e,i={}){this.delegate.allowsVisitingLocationWithAction(e,i.action)&&(bt(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,i):window.location.href=e.toString())}startVisit(e,i,s={}){this.stop(),this.currentVisit=new us(this,oe(e),i,Object.assign({referrer:this.location},s)),this.currentVisit.start()}submitForm(e,i){this.stop(),this.formSubmission=new Rt(this,e,i,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,i){if(e==this.formSubmission){let s=await i.responseHTML;if(s){let n=e.isSafe;n||this.view.clearSnapshotCache();let{statusCode:r,redirected:a}=i,f={action:this.getActionForFormSubmission(e),shouldCacheSnapshot:n,response:{statusCode:r,responseHTML:s,redirected:a}};this.proposeVisit(i.location,f)}}}async formSubmissionFailedWithResponse(e,i){let s=await i.responseHTML;if(s){let n=we.fromHTMLString(s);i.serverError?await this.view.renderError(n,this.currentVisit):await this.view.renderPage(n,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,i){console.error(i)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,i){let s=et(e),n=et(this.view.lastRenderedLocation),r=i==="restore"&&typeof s>"u";return i!=="replace"&&ns(e)===ns(this.view.lastRenderedLocation)&&(r||s!=null&&s!==n)}visitScrolledToSamePageLocation(e,i){this.delegate.visitScrolledToSamePageLocation(e,i)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:e,formElement:i}){return Si(e,i)||"advance"}},Fe;(function(t){t[t.initial=0]="initial",t[t.loading=1]="loading",t[t.interactive=2]="interactive",t[t.complete=3]="complete"})(Fe||(Fe={}));var gs=class{constructor(e){this.stage=Fe.initial,this.started=!1,this.interpretReadyState=()=>{let{readyState:i}=this;i=="interactive"?this.pageIsInteractive():i=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=e}start(){this.started||(this.stage==Fe.initial&&(this.stage=Fe.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==Fe.loading&&(this.stage=Fe.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==Fe.interactive&&(this.stage=Fe.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}},vs=class{constructor(e){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}},bs=class{render({fragment:e}){yi.preservingPermanentElements(this,nc(e),()=>document.documentElement.appendChild(e))}enteringBardo(e,i){i.replaceWith(e.cloneNode(!0))}leavingBardo(){}};function nc(t){let e=Br(document.documentElement),i={};for(let s of e){let{id:n}=s;for(let r of t.querySelectorAll("turbo-stream")){let a=Dr(r.templateElement.content,n);a&&(i[n]=[s,a])}}return i}var ys=class{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=i=>{let s=rc(i);s&&oc(s)&&(i.preventDefault(),this.receiveMessageResponse(s))},this.receiveMessageEvent=i=>{this.started&&typeof i.data=="string"&&this.receiveMessageHTML(i.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){let i=await e.responseHTML;i&&this.receiveMessageHTML(i)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(Re.wrap(e))}};function rc(t){var e;let i=(e=t.detail)===null||e===void 0?void 0:e.fetchResponse;if(i instanceof Mt)return i}function oc(t){var e;return((e=t.contentType)!==null&&e!==void 0?e:"").startsWith(Re.contentType)}var Ei=class extends Nt{static renderElement(e,i){let{documentElement:s,body:n}=document;s.replaceChild(i,n)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:e,head:i}=document;e.replaceChild(this.newHead,i),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let e of this.scriptElements){let i=e.parentNode;if(i){let s=Ft(e);i.replaceChild(s,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},Bt=class extends Nt{static renderElement(e,i){document.body&&i instanceof HTMLBodyElement?document.body.replaceWith(i):document.documentElement.appendChild(i)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){let e=this.mergeProvisionalElements(),i=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await i}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let e=[];for(let i of this.newHeadStylesheetElements)e.push(Il(i)),document.head.appendChild(i);await Promise.all(e)}copyNewHeadScriptElements(){for(let e of this.newHeadScriptElements)document.head.appendChild(Ft(e))}async mergeProvisionalElements(){let e=[...this.newHeadProvisionalElements];for(let i of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(i,e)||document.head.removeChild(i);for(let i of e)document.head.appendChild(i)}isCurrentElementInElementList(e,i){for(let[s,n]of i.entries()){if(e.tagName=="TITLE"){if(n.tagName!="TITLE")continue;if(e.innerHTML==n.innerHTML)return i.splice(s,1),!0}if(n.isEqualNode(e))return i.splice(s,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(let e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let e of this.newBodyScriptElements){let i=Ft(e);e.replaceWith(i)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}},ws=class{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return ui(e)in this.snapshots}get(e){if(this.has(e)){let i=this.read(e);return this.touch(e),i}}put(e,i){return this.write(e,i),this.touch(e),i}clear(){this.snapshots={}}read(e){return this.snapshots[ui(e)]}write(e,i){this.snapshots[ui(e)]=i}touch(e){let i=ui(e),s=this.keys.indexOf(i);s>-1&&this.keys.splice(s,1),this.keys.unshift(i),this.trim()}trim(){for(let e of this.keys.splice(this.size))delete this.snapshots[e]}},Es=class extends pi{constructor(){super(...arguments),this.snapshotCache=new ws(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(e,i=!1,s=!0,n){let r=new Bt(this.snapshot,e,Bt.renderElement,i,s);return r.shouldRender?n?.changeHistory():this.forceReloaded=!0,this.render(r)}renderError(e,i){i?.changeHistory();let s=new Ei(this.snapshot,e,Ei.renderElement,!1);return this.render(s)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:i}=this;await Ll();let s=e.clone();return this.snapshotCache.put(i,s),s}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return we.fromElement(this.element)}},Ss=class{constructor(e){this.selector="a[data-turbo-preload]",this.delegate=e}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(e){for(let i of e.querySelectorAll(this.selector))this.preloadURL(i)}async preloadURL(e){let i=new URL(e.href);if(!this.snapshotCache.has(i))try{let n=await(await fetch(i.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),r=we.fromHTMLString(n);this.snapshotCache.put(i,r)}catch{}}},_s=class{constructor(){this.navigator=new ps(this),this.history=new ms(this),this.preloader=new Ss(this),this.view=new Es(this,document.documentElement),this.adapter=new hs(this),this.pageObserver=new gs(this),this.cacheObserver=new ds,this.linkClickObserver=new vi(this,window),this.formSubmitObserver=new Pt(this,document),this.scrollObserver=new vs(this),this.streamObserver=new ys(this),this.formLinkClickObserver=new bi(this,document.documentElement),this.frameRedirector=new fs(this,document.documentElement),this.streamMessageRenderer=new bs,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,i={}){let s=i.frame?document.getElementById(i.frame):null;s instanceof Ie?(s.src=e.toString(),s.loaded):this.navigator.proposeVisit(oe(e),i)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(Re.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}setFormMode(e){this.formMode=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,i){this.enabled?this.navigator.startVisit(e,i,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,i){return this.elementIsNavigatable(e)&&bt(i,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(e,i,s){return this.elementIsNavigatable(e)&&bt(i,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,i,s)}followedLinkToLocation(e,i){let s=this.getActionForLink(e),n=e.hasAttribute("data-turbo-stream");this.visit(i.href,{action:s,acceptsStreamResponse:n})}allowsVisitingLocationWithAction(e,i){return this.locationWithActionIsSamePage(e,i)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,i){Lr(e),this.adapter.visitProposedToLocation(e,i)}visitStarted(e){e.acceptsStreamResponse||rs(document.documentElement),Lr(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){os(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,i){return this.navigator.locationWithActionIsSamePage(e,i)}visitScrolledToSamePageLocation(e,i){this.notifyApplicationAfterVisitingSamePageLocation(e,i)}willSubmitForm(e,i){let s=Ls(e,i);return this.submissionIsNavigatable(e,i)&&bt(oe(s),this.snapshot.rootLocation)}formSubmitted(e,i){this.navigator.submitForm(e,i)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;!((e=this.navigator.currentVisit)===null||e===void 0)&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},i){let s=this.notifyApplicationBeforeRender(e,i),{defaultPrevented:n,detail:{render:r}}=s;return this.view.renderer&&r&&(this.view.renderer.renderElement=r),!n}viewRenderedSnapshot(e,i){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,i){this.notifyApplicationAfterFrameRender(e,i)}applicationAllowsFollowingLinkToLocation(e,i,s){return!this.notifyApplicationAfterClickingLinkToLocation(e,i,s).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,i,s){return se("turbo:click",{target:e,detail:{url:i.href,originalEvent:s},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return se("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,i){return se("turbo:visit",{detail:{url:e.href,action:i}})}notifyApplicationBeforeCachingSnapshot(){return se("turbo:before-cache")}notifyApplicationBeforeRender(e,i){return se("turbo:before-render",{detail:Object.assign({newBody:e},i),cancelable:!0})}notifyApplicationAfterRender(){return se("turbo:render")}notifyApplicationAfterPageLoad(e={}){return se("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,i){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:i.toString()}))}notifyApplicationAfterFrameLoad(e){return se("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,i){return se("turbo:frame-render",{detail:{fetchResponse:e},target:i,cancelable:!0})}submissionIsNavigatable(e,i){if(this.formMode=="off")return!1;{let s=i?this.elementIsNavigatable(i):!0;return this.formMode=="optin"?s&&e.closest('[data-turbo="true"]')!=null:s&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){let i=mi(e,"[data-turbo]"),s=mi(e,"turbo-frame");return this.drive||s?i?i.getAttribute("data-turbo")!="false":!0:i?i.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return Si(e)||"advance"}get snapshot(){return this.view.snapshot}};function Lr(t){Object.defineProperties(t,ac)}var ac={absoluteURL:{get(){return this.toString()}}},As=class{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(e){Pl("turbo-cache-control",e)}},Vr={after(){this.targetElements.forEach(t=>{var e;return(e=t.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,t.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.append(this.templateContent))},before(){this.targetElements.forEach(t=>{var e;return(e=t.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,t)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.prepend(this.templateContent))},remove(){this.targetElements.forEach(t=>t.remove())},replace(){this.targetElements.forEach(t=>t.replaceWith(this.templateContent))},update(){this.targetElements.forEach(t=>{t.innerHTML="",t.append(this.templateContent)})}},K=new _s,lc=new As(K),{navigator:cc}=K;function jr(){K.start()}function uc(t){K.registerAdapter(t)}function hc(t,e){K.visit(t,e)}function $r(t){K.connectStreamSource(t)}function Hr(t){K.disconnectStreamSource(t)}function dc(t){K.renderStreamMessage(t)}function fc(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),K.clearCache()}function mc(t){K.setProgressBarDelay(t)}function pc(t){Rt.confirmMethod=t}function gc(t){K.setFormMode(t)}var vc=Object.freeze({__proto__:null,navigator:cc,session:K,cache:lc,PageRenderer:Bt,PageSnapshot:we,FrameRenderer:Dt,start:jr,registerAdapter:uc,visit:hc,connectStreamSource:$r,disconnectStreamSource:Hr,renderStreamMessage:dc,clearCache:fc,setProgressBarDelay:mc,setConfirmMethod:pc,setFormMode:gc,StreamActions:Vr}),xs=class extends Error{},Ts=class{constructor(e){this.fetchResponseLoaded=i=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:i})=>{let s=i.querySelector("#"+this.element.id);s&&this.previousFrameElement&&s.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=e,this.view=new ls(this,this.element),this.appearanceObserver=new as(this,this.element),this.formLinkClickObserver=new bi(this,this.element),this.linkInterceptor=new gi(this,this.element),this.restorationIdentifier=yt(),this.formSubmitObserver=new Pt(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==He.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==He.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==He.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){let{src:e}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=e,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==He.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(oe(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{let i=await e.responseHTML;if(i){let s=Ir(i);we.fromDocument(s).isVisitable?await this.loadFrameResponse(e,s):await this.handleUnvisitableFrameResponse(e)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,e),this.loadSourceURL()}willSubmitFormLinkToLocation(e){return this.shouldInterceptNavigation(e)}submittedFormLinkToLocation(e,i,s){let n=this.findFrameElement(e);n&&s.setAttribute("data-turbo-frame",n.id)}shouldInterceptLinkClick(e,i,s){return this.shouldInterceptNavigation(e)}linkClickIntercepted(e,i){this.navigateFrame(e,i)}willSubmitForm(e,i){return e.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(e,i)}formSubmitted(e,i){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new Rt(this,e,i);let{fetchRequest:s}=this.formSubmission;this.prepareRequest(s),this.formSubmission.start()}prepareRequest(e){var i;e.headers["Turbo-Frame"]=this.id,!((i=this.currentNavigationElement)===null||i===void 0)&&i.hasAttribute("data-turbo-stream")&&e.acceptResponseType(Re.contentType)}requestStarted(e){rs(this.element)}requestPreventedHandlingResponse(e,i){this.resolveVisitPromise()}async requestSucceededWithResponse(e,i){await this.loadResponse(i),this.resolveVisitPromise()}async requestFailedWithResponse(e,i){await this.loadResponse(i),this.resolveVisitPromise()}requestErrored(e,i){console.error(i),this.resolveVisitPromise()}requestFinished(e){os(this.element)}formSubmissionStarted({formElement:e}){rs(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,i){let s=this.findFrameElement(e.formElement,e.submitter);s.delegate.proposeVisitIfNavigatedWithAction(s,e.formElement,e.submitter),s.delegate.loadResponse(i),e.isSafe||K.clearCache()}formSubmissionFailedWithResponse(e,i){this.element.delegate.loadResponse(i),K.clearCache()}formSubmissionErrored(e,i){console.error(i)}formSubmissionFinished({formElement:e}){os(e,this.findFrameElement(e))}allowsImmediateRender({element:e},i){let s=se("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:e},i),cancelable:!0}),{defaultPrevented:n,detail:{render:r}}=s;return this.view.renderer&&r&&(this.view.renderer.renderElement=r),!n}viewRenderedSnapshot(e,i){}preloadOnLoadLinksForView(e){K.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,i){this.previousFrameElement=e.cloneNode(!0)}async loadFrameResponse(e,i){let s=await this.extractForeignFrameElement(i.body);if(s){let n=new wt(s),r=new Dt(this,this.view.snapshot,n,Dt.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(r),this.complete=!0,K.frameRendered(e,this.element),K.frameLoaded(this.element),this.fetchResponseLoaded(e)}else this.willHandleFrameMissingFromResponse(e)&&this.handleFrameMissingFromResponse(e)}async visit(e){var i;let s=new It(this,de.get,e,new URLSearchParams,this.element);return(i=this.currentFetchRequest)===null||i===void 0||i.cancel(),this.currentFetchRequest=s,new Promise(n=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,n()},s.perform()})}navigateFrame(e,i,s){let n=this.findFrameElement(e,s);n.delegate.proposeVisitIfNavigatedWithAction(n,e,s),this.withCurrentNavigationElement(e,()=>{n.src=i})}proposeVisitIfNavigatedWithAction(e,i,s){if(this.action=Si(s,i,e),this.action){let n=we.fromElement(e).clone(),{visitCachedSnapshot:r}=e.delegate;e.delegate.fetchResponseLoaded=a=>{if(e.src){let{statusCode:u,redirected:f}=a,g=e.ownerDocument.documentElement.outerHTML,E={response:{statusCode:u,redirected:f,responseHTML:g},visitCachedSnapshot:r,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:n};this.action&&(E.action=this.action),K.visit(e.src,E)}}}}changeHistory(){if(this.action){let e=Pr(this.action);K.history.update(e,oe(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(e.response)}willHandleFrameMissingFromResponse(e){this.element.setAttribute("complete","");let i=e.response,s=async(r,a={})=>{r instanceof Response?this.visitResponse(r):K.visit(r,a)};return!se("turbo:frame-missing",{target:this.element,detail:{response:i,visit:s},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(e){this.view.missing(),this.throwFrameMissingError(e)}throwFrameMissingError(e){let i=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new xs(i)}async visitResponse(e){let i=new Mt(e),s=await i.responseHTML,{location:n,redirected:r,statusCode:a}=i;return K.visit(n,{response:{redirected:r,statusCode:a,responseHTML:s}})}findFrameElement(e,i){var s;let n=di("data-turbo-frame",i,e)||this.element.getAttribute("target");return(s=kr(n))!==null&&s!==void 0?s:this.element}async extractForeignFrameElement(e){let i,s=CSS.escape(this.id);try{if(i=Mr(e.querySelector(`turbo-frame#${s}`),this.sourceURL),i)return i;if(i=Mr(e.querySelector(`turbo-frame[src][recurse~=${s}]`),this.sourceURL),i)return await i.loaded,await this.extractForeignFrameElement(i)}catch(n){return console.error(n),new Ie}return null}formActionIsVisitable(e,i){let s=Ls(e,i);return bt(oe(s),this.rootLocation)}shouldInterceptNavigation(e,i){let s=di("data-turbo-frame",i,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.formActionIsVisitable(e,i)||!this.enabled||s=="_top")return!1;if(s){let n=kr(s);if(n)return!n.disabled}return!(!K.elementIsNavigatable(e)||i&&!K.elementIsNavigatable(i))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.ignoringChangesToAttribute("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){this.ignoringChangesToAttribute("complete",()=>{e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var e;let i=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),s=(e=i?.content)!==null&&e!==void 0?e:"/";return oe(s)}isIgnoringChangesTo(e){return this.ignoredAttributes.has(e)}ignoringChangesToAttribute(e,i){this.ignoredAttributes.add(e),i(),this.ignoredAttributes.delete(e)}withCurrentNavigationElement(e,i){this.currentNavigationElement=e,i(),delete this.currentNavigationElement}};function kr(t){if(t!=null){let e=document.getElementById(t);if(e instanceof Ie)return e}}function Mr(t,e){if(t){let i=t.getAttribute("src");if(i!=null&&e!=null&&Sl(i,e))throw new Error(`Matching <turbo-frame id="${t.id}"> element has a source URL which references itself`);if(t.ownerDocument!==document&&(t=document.importNode(t,!0)),t instanceof Ie)return t.connectedCallback(),t.disconnectedCallback(),t}}var Os=class t extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return(e=this.renderPromise)!==null&&e!==void 0?e:this.renderPromise=(async()=>{let i=this.beforeRenderEvent;this.dispatchEvent(i)&&(await hi(),await i.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){var e;let i=this.targetElements.flatMap(n=>[...n.children]).filter(n=>!!n.id),s=[...((e=this.templateContent)===null||e===void 0?void 0:e.children)||[]].filter(n=>!!n.id).map(n=>n.id);return i.filter(n=>s.includes(n.id))}get performAction(){if(this.action){let e=Vr[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,i;return(i=((e=this.outerHTML.match(/<[^>]+>/))!==null&&e!==void 0?e:[])[0])!==null&&i!==void 0?i:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:t.renderElement}})}get targetElementsById(){var e;let i=(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.target);return i!==null?[i]:[]}get targetElementsByQuery(){var e;let i=(e=this.ownerDocument)===null||e===void 0?void 0:e.querySelectorAll(this.targets);return i.length!==0?Array.prototype.slice.call(i):[]}},Cs=class extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),$r(this.streamSource)}disconnectedCallback(){this.streamSource&&Hr(this.streamSource)}get src(){return this.getAttribute("src")||""}};Ie.delegateConstructor=Ts;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Ie);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",Os);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",Cs);(()=>{let t=document.currentScript;if(t&&!t.hasAttribute("data-turbo-suppress-warning"))for(t=t.parentElement;t;){if(t==document.body)return console.warn(Rr`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,t.outerHTML);t=t.parentElement}})();window.Turbo=vc;jr();var Rs=!1,Ps=!1,st=[],Ns=-1;function bc(t){yc(t)}function yc(t){st.includes(t)||st.push(t),wc()}function no(t){let e=st.indexOf(t);e!==-1&&e>Ns&&st.splice(e,1)}function wc(){!Ps&&!Rs&&(Rs=!0,queueMicrotask(Ec))}function Ec(){Rs=!1,Ps=!0;for(let t=0;t<st.length;t++)st[t](),Ns=t;st.length=0,Ns=-1,Ps=!1}var _t,at,At,ro,Ds=!0;function Sc(t){Ds=!1,t(),Ds=!0}function _c(t){_t=t.reactive,At=t.release,at=e=>t.effect(e,{scheduler:i=>{Ds?bc(i):i()}}),ro=t.raw}function qr(t){at=t}function Ac(t){let e=()=>{};return[s=>{let n=at(s);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(r=>r())}),t._x_effects.add(n),e=()=>{n!==void 0&&(t._x_effects.delete(n),At(n))},n},()=>{e()}]}function oo(t,e){let i=!0,s,n=at(()=>{let r=t();JSON.stringify(r),i?s=r:queueMicrotask(()=>{e(r,s),s=r}),i=!1});return()=>At(n)}function qt(t,e,i={}){t.dispatchEvent(new CustomEvent(e,{detail:i,bubbles:!0,composed:!0,cancelable:!0}))}function Ke(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(n=>Ke(n,e));return}let i=!1;if(e(t,()=>i=!0),i)return;let s=t.firstElementChild;for(;s;)Ke(s,e,!1),s=s.nextElementSibling}function Ee(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var zr=!1;function xc(){zr&&Ee("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),zr=!0,document.body||Ee("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),qt(document,"alpine:init"),qt(document,"alpine:initializing"),nn(),Cc(e=>Pe(e,Ke)),en(e=>Qs(e)),vo((e,i)=>{ln(e,i).forEach(s=>s())});let t=e=>!Ii(e.parentElement,!0);Array.from(document.querySelectorAll(co().join(","))).filter(t).forEach(e=>{Pe(e)}),qt(document,"alpine:initialized")}var Gs=[],ao=[];function lo(){return Gs.map(t=>t())}function co(){return Gs.concat(ao).map(t=>t())}function uo(t){Gs.push(t)}function ho(t){ao.push(t)}function Ii(t,e=!1){return Wt(t,i=>{if((e?co():lo()).some(n=>i.matches(n)))return!0})}function Wt(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Wt(t.parentElement,e)}}function Tc(t){return lo().some(e=>t.matches(e))}var fo=[];function Oc(t){fo.push(t)}function Pe(t,e=Ke,i=()=>{}){Hc(()=>{e(t,(s,n)=>{i(s,n),fo.forEach(r=>r(s,n)),ln(s,s.attributes).forEach(r=>r()),s._x_ignore&&n()})})}function Qs(t,e=Ke){e(t,i=>{yo(i),Lc(i)})}var mo=[],po=[],go=[];function Cc(t){go.push(t)}function en(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,po.push(e))}function vo(t){mo.push(t)}function bo(t,e,i){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(i)}function yo(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([i,s])=>{(e===void 0||e.includes(i))&&(s.forEach(n=>n()),delete t._x_attributeCleanups[i])})}function Lc(t){if(t._x_cleanups)for(;t._x_cleanups.length;)t._x_cleanups.pop()()}var tn=new MutationObserver(on),sn=!1;function nn(){tn.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),sn=!0}function wo(){kc(),tn.disconnect(),sn=!1}var Vt=[];function kc(){let t=tn.takeRecords();Vt.push(()=>t.length>0&&on(t));let e=Vt.length;queueMicrotask(()=>{if(Vt.length===e)for(;Vt.length>0;)Vt.shift()()})}function Q(t){if(!sn)return t();wo();let e=t();return nn(),e}var rn=!1,ki=[];function Mc(){rn=!0}function Fc(){rn=!1,on(ki),ki=[]}function on(t){if(rn){ki=ki.concat(t);return}let e=new Set,i=new Set,s=new Map,n=new Map;for(let r=0;r<t.length;r++)if(!t[r].target._x_ignoreMutationObserver&&(t[r].type==="childList"&&(t[r].addedNodes.forEach(a=>a.nodeType===1&&e.add(a)),t[r].removedNodes.forEach(a=>a.nodeType===1&&i.add(a))),t[r].type==="attributes")){let a=t[r].target,u=t[r].attributeName,f=t[r].oldValue,g=()=>{s.has(a)||s.set(a,[]),s.get(a).push({name:u,value:a.getAttribute(u)})},v=()=>{n.has(a)||n.set(a,[]),n.get(a).push(u)};a.hasAttribute(u)&&f===null?g():a.hasAttribute(u)?(v(),g()):v()}n.forEach((r,a)=>{yo(a,r)}),s.forEach((r,a)=>{mo.forEach(u=>u(a,r))});for(let r of i)e.has(r)||(po.forEach(a=>a(r)),Qs(r));e.forEach(r=>{r._x_ignoreSelf=!0,r._x_ignore=!0});for(let r of e)i.has(r)||r.isConnected&&(delete r._x_ignoreSelf,delete r._x_ignore,go.forEach(a=>a(r)),r._x_ignore=!0,r._x_ignoreSelf=!0);e.forEach(r=>{delete r._x_ignoreSelf,delete r._x_ignore}),e=null,i=null,s=null,n=null}function Eo(t){return Yt(Et(t))}function Ut(t,e,i){return t._x_dataStack=[e,...Et(i||t)],()=>{t._x_dataStack=t._x_dataStack.filter(s=>s!==e)}}function Et(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?Et(t.host):t.parentNode?Et(t.parentNode):[]}function Yt(t){return new Proxy({objects:t},Ic)}var Ic={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(e=>Object.keys(e))))},has({objects:t},e){return e==Symbol.unscopables?!1:t.some(i=>Object.prototype.hasOwnProperty.call(i,e)||Reflect.has(i,e))},get({objects:t},e,i){return e=="toJSON"?Rc:Reflect.get(t.find(s=>Reflect.has(s,e))||{},e,i)},set({objects:t},e,i,s){let n=t.find(a=>Object.prototype.hasOwnProperty.call(a,e))||t[t.length-1],r=Object.getOwnPropertyDescriptor(n,e);return r?.set&&r?.get?Reflect.set(n,e,i,s):Reflect.set(n,e,i)}};function Rc(){return Reflect.ownKeys(this).reduce((e,i)=>(e[i]=Reflect.get(this,i),e),{})}function So(t){let e=s=>typeof s=="object"&&!Array.isArray(s)&&s!==null,i=(s,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(s)).forEach(([r,{value:a,enumerable:u}])=>{if(u===!1||a===void 0||typeof a=="object"&&a!==null&&a.__v_skip)return;let f=n===""?r:`${n}.${r}`;typeof a=="object"&&a!==null&&a._x_interceptor?s[r]=a.initialize(t,f,r):e(a)&&a!==s&&!(a instanceof Element)&&i(a,f)})};return i(t)}function _o(t,e=()=>{}){let i={initialValue:void 0,_x_interceptor:!0,initialize(s,n,r){return t(this.initialValue,()=>Pc(s,n),a=>Bs(s,n,a),n,r)}};return e(i),s=>{if(typeof s=="object"&&s!==null&&s._x_interceptor){let n=i.initialize.bind(i);i.initialize=(r,a,u)=>{let f=s.initialize(r,a,u);return i.initialValue=f,n(r,a,u)}}else i.initialValue=s;return i}}function Pc(t,e){return e.split(".").reduce((i,s)=>i[s],t)}function Bs(t,e,i){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=i;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),Bs(t[e[0]],e.slice(1),i)}}var Ao={};function _e(t,e){Ao[t]=e}function Vs(t,e){return Object.entries(Ao).forEach(([i,s])=>{let n=null;function r(){if(n)return n;{let[a,u]=ko(e);return n={interceptor:_o,...a},en(e,u),n}}Object.defineProperty(t,`$${i}`,{get(){return s(e,r())},enumerable:!1})}),t}function Nc(t,e,i,...s){try{return i(...s)}catch(n){Kt(n,t,e)}}function Kt(t,e,i=void 0){t=Object.assign(t??{message:"No error message given."},{el:e,expression:i}),console.warn(`Alpine Expression Error: ${t.message}

${i?'Expression: "'+i+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var Ci=!0;function xo(t){let e=Ci;Ci=!1;let i=t();return Ci=e,i}function nt(t,e,i={}){let s;return ae(t,e)(n=>s=n,i),s}function ae(...t){return To(...t)}var To=Oo;function Dc(t){To=t}function Oo(t,e){let i={};Vs(i,t);let s=[i,...Et(t)],n=typeof e=="function"?Bc(s,e):jc(s,e,t);return Nc.bind(null,t,e,n)}function Bc(t,e){return(i=()=>{},{scope:s={},params:n=[]}={})=>{let r=e.apply(Yt([s,...t]),n);Mi(i,r)}}var ks={};function Vc(t,e){if(ks[t])return ks[t];let i=Object.getPrototypeOf(async function(){}).constructor,s=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,r=(()=>{try{let a=new i(["__self","scope"],`with (scope) { __self.result = ${s} }; __self.finished = true; return __self.result;`);return Object.defineProperty(a,"name",{value:`[Alpine] ${t}`}),a}catch(a){return Kt(a,e,t),Promise.resolve()}})();return ks[t]=r,r}function jc(t,e,i){let s=Vc(e,i);return(n=()=>{},{scope:r={},params:a=[]}={})=>{s.result=void 0,s.finished=!1;let u=Yt([r,...t]);if(typeof s=="function"){let f=s(s,u).catch(g=>Kt(g,i,e));s.finished?(Mi(n,s.result,u,a,i),s.result=void 0):f.then(g=>{Mi(n,g,u,a,i)}).catch(g=>Kt(g,i,e)).finally(()=>s.result=void 0)}}}function Mi(t,e,i,s,n){if(Ci&&typeof e=="function"){let r=e.apply(i,s);r instanceof Promise?r.then(a=>Mi(t,a,i,s)).catch(a=>Kt(a,n,e)):t(r)}else typeof e=="object"&&e instanceof Promise?e.then(r=>t(r)):t(e)}var an="x-";function xt(t=""){return an+t}function $c(t){an=t}var js={};function G(t,e){return js[t]=e,{before(i){if(!js[i]){console.warn(String.raw`Cannot find directive \`${i}\`. \`${t}\` will use the default order of execution`);return}let s=it.indexOf(i);it.splice(s>=0?s:it.indexOf("DEFAULT"),0,t)}}}function ln(t,e,i){if(e=Array.from(e),t._x_virtualDirectives){let r=Object.entries(t._x_virtualDirectives).map(([u,f])=>({name:u,value:f})),a=Co(r);r=r.map(u=>a.find(f=>f.name===u.name)?{name:`x-bind:${u.name}`,value:`"${u.value}"`}:u),e=e.concat(r)}let s={};return e.map(Io((r,a)=>s[r]=a)).filter(Po).map(zc(s,i)).sort(Kc).map(r=>qc(t,r))}function Co(t){return Array.from(t).map(Io()).filter(e=>!Po(e))}var $s=!1,Ht=new Map,Lo=Symbol();function Hc(t){$s=!0;let e=Symbol();Lo=e,Ht.set(e,[]);let i=()=>{for(;Ht.get(e).length;)Ht.get(e).shift()();Ht.delete(e)},s=()=>{$s=!1,i()};t(i),s()}function ko(t){let e=[],i=u=>e.push(u),[s,n]=Ac(t);return e.push(n),[{Alpine:Xt,effect:s,cleanup:i,evaluateLater:ae.bind(ae,t),evaluate:nt.bind(nt,t)},()=>e.forEach(u=>u())]}function qc(t,e){let i=()=>{},s=js[e.type]||i,[n,r]=ko(t);bo(t,e.original,r);let a=()=>{t._x_ignore||t._x_ignoreSelf||(s.inline&&s.inline(t,e,n),s=s.bind(s,t,e,n),$s?Ht.get(Lo).push(s):s())};return a.runCleanups=r,a}var Mo=(t,e)=>({name:i,value:s})=>(i.startsWith(t)&&(i=i.replace(t,e)),{name:i,value:s}),Fo=t=>t;function Io(t=()=>{}){return({name:e,value:i})=>{let{name:s,value:n}=Ro.reduce((r,a)=>a(r),{name:e,value:i});return s!==e&&t(s,e),{name:s,value:n}}}var Ro=[];function cn(t){Ro.push(t)}function Po({name:t}){return No().test(t)}var No=()=>new RegExp(`^${an}([^:^.]+)\\b`);function zc(t,e){return({name:i,value:s})=>{let n=i.match(No()),r=i.match(/:([a-zA-Z0-9\-_:]+)/),a=i.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],u=e||t[i]||i;return{type:n?n[1]:null,value:r?r[1]:null,modifiers:a.map(f=>f.replace(".","")),expression:s,original:u}}}var Hs="DEFAULT",it=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Hs,"teleport"];function Kc(t,e){let i=it.indexOf(t.type)===-1?Hs:t.type,s=it.indexOf(e.type)===-1?Hs:e.type;return it.indexOf(i)-it.indexOf(s)}var qs=[],un=!1;function hn(t=()=>{}){return queueMicrotask(()=>{un||setTimeout(()=>{zs()})}),new Promise(e=>{qs.push(()=>{t(),e()})})}function zs(){for(un=!1;qs.length;)qs.shift()()}function Wc(){un=!0}function dn(t,e){return Array.isArray(e)?Kr(t,e.join(" ")):typeof e=="object"&&e!==null?Uc(t,e):typeof e=="function"?dn(t,e()):Kr(t,e)}function Kr(t,e){let i=r=>r.split(" ").filter(Boolean),s=r=>r.split(" ").filter(a=>!t.classList.contains(a)).filter(Boolean),n=r=>(t.classList.add(...r),()=>{t.classList.remove(...r)});return e=e===!0?e="":e||"",n(s(e))}function Uc(t,e){let i=u=>u.split(" ").filter(Boolean),s=Object.entries(e).flatMap(([u,f])=>f?i(u):!1).filter(Boolean),n=Object.entries(e).flatMap(([u,f])=>f?!1:i(u)).filter(Boolean),r=[],a=[];return n.forEach(u=>{t.classList.contains(u)&&(t.classList.remove(u),a.push(u))}),s.forEach(u=>{t.classList.contains(u)||(t.classList.add(u),r.push(u))}),()=>{a.forEach(u=>t.classList.add(u)),r.forEach(u=>t.classList.remove(u))}}function Ri(t,e){return typeof e=="object"&&e!==null?Yc(t,e):Xc(t,e)}function Yc(t,e){let i={};return Object.entries(e).forEach(([s,n])=>{i[s]=t.style[s],s.startsWith("--")||(s=Jc(s)),t.style.setProperty(s,n)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{Ri(t,i)}}function Xc(t,e){let i=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",i||"")}}function Jc(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ks(t,e=()=>{}){let i=!1;return function(){i?e.apply(this,arguments):(i=!0,t.apply(this,arguments))}}G("transition",(t,{value:e,modifiers:i,expression:s},{evaluate:n})=>{typeof s=="function"&&(s=n(s)),s!==!1&&(!s||typeof s=="boolean"?Gc(t,i,e):Zc(t,s,e))});function Zc(t,e,i){Do(t,dn,""),{enter:n=>{t._x_transition.enter.during=n},"enter-start":n=>{t._x_transition.enter.start=n},"enter-end":n=>{t._x_transition.enter.end=n},leave:n=>{t._x_transition.leave.during=n},"leave-start":n=>{t._x_transition.leave.start=n},"leave-end":n=>{t._x_transition.leave.end=n}}[i](e)}function Gc(t,e,i){Do(t,Ri);let s=!e.includes("in")&&!e.includes("out")&&!i,n=s||e.includes("in")||["enter"].includes(i),r=s||e.includes("out")||["leave"].includes(i);e.includes("in")&&!s&&(e=e.filter((I,F)=>F<e.indexOf("out"))),e.includes("out")&&!s&&(e=e.filter((I,F)=>F>e.indexOf("out")));let a=!e.includes("opacity")&&!e.includes("scale"),u=a||e.includes("opacity"),f=a||e.includes("scale"),g=u?0:1,v=f?jt(e,"scale",95)/100:1,E=jt(e,"delay",0)/1e3,S=jt(e,"origin","center"),L="opacity, transform",H=jt(e,"duration",150)/1e3,x=jt(e,"duration",75)/1e3,T="cubic-bezier(0.4, 0.0, 0.2, 1)";n&&(t._x_transition.enter.during={transformOrigin:S,transitionDelay:`${E}s`,transitionProperty:L,transitionDuration:`${H}s`,transitionTimingFunction:T},t._x_transition.enter.start={opacity:g,transform:`scale(${v})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),r&&(t._x_transition.leave.during={transformOrigin:S,transitionDelay:`${E}s`,transitionProperty:L,transitionDuration:`${x}s`,transitionTimingFunction:T},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:g,transform:`scale(${v})`})}function Do(t,e,i={}){t._x_transition||(t._x_transition={enter:{during:i,start:i,end:i},leave:{during:i,start:i,end:i},in(s=()=>{},n=()=>{}){Ws(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},s,n)},out(s=()=>{},n=()=>{}){Ws(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},s,n)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,i,s){let n=document.visibilityState==="visible"?requestAnimationFrame:setTimeout,r=()=>n(i);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(i):r():t._x_transition?t._x_transition.in(i):r();return}t._x_hidePromise=t._x_transition?new Promise((a,u)=>{t._x_transition.out(()=>{},()=>a(s)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>u({isFromCancelledTransition:!0}))}):Promise.resolve(s),queueMicrotask(()=>{let a=Bo(t);a?(a._x_hideChildren||(a._x_hideChildren=[]),a._x_hideChildren.push(t)):n(()=>{let u=f=>{let g=Promise.all([f._x_hidePromise,...(f._x_hideChildren||[]).map(u)]).then(([v])=>v());return delete f._x_hidePromise,delete f._x_hideChildren,g};u(t).catch(f=>{if(!f.isFromCancelledTransition)throw f})})})};function Bo(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:Bo(e)}function Ws(t,e,{during:i,start:s,end:n}={},r=()=>{},a=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(i).length===0&&Object.keys(s).length===0&&Object.keys(n).length===0){r(),a();return}let u,f,g;Qc(t,{start(){u=e(t,s)},during(){f=e(t,i)},before:r,end(){u(),g=e(t,n)},after:a,cleanup(){f(),g()}})}function Qc(t,e){let i,s,n,r=Ks(()=>{Q(()=>{i=!0,s||e.before(),n||(e.end(),zs()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(a){this.beforeCancels.push(a)},cancel:Ks(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();r()}),finish:r},Q(()=>{e.start(),e.during()}),Wc(),requestAnimationFrame(()=>{if(i)return;let a=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,u=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;a===0&&(a=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),Q(()=>{e.before()}),s=!0,requestAnimationFrame(()=>{i||(Q(()=>{e.end()}),zs(),setTimeout(t._x_transitioning.finish,a+u),n=!0)})})}function jt(t,e,i){if(t.indexOf(e)===-1)return i;let s=t[t.indexOf(e)+1];if(!s||e==="scale"&&isNaN(s))return i;if(e==="duration"||e==="delay"){let n=s.match(/([0-9]+)ms/);if(n)return n[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[s,t[t.indexOf(e)+2]].join(" "):s}var We=!1;function lt(t,e=()=>{}){return(...i)=>We?e(...i):t(...i)}function eu(t){return(...e)=>We&&t(...e)}var Vo=[];function Pi(t){Vo.push(t)}function tu(t,e){Vo.forEach(i=>i(t,e)),We=!0,jo(()=>{Pe(e,(i,s)=>{s(i,()=>{})})}),We=!1}var Us=!1;function iu(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),We=!0,Us=!0,jo(()=>{su(e)}),We=!1,Us=!1}function su(t){let e=!1;Pe(t,(s,n)=>{Ke(s,(r,a)=>{if(e&&Tc(r))return a();e=!0,n(r,a)})})}function jo(t){let e=at;qr((i,s)=>{let n=e(i);return At(n),()=>{}}),t(),qr(e)}function $o(t,e,i,s=[]){switch(t._x_bindings||(t._x_bindings=_t({})),t._x_bindings[e]=i,e=s.includes("camel")?hu(e):e,e){case"value":nu(t,i);break;case"style":ou(t,i);break;case"class":ru(t,i);break;case"selected":case"checked":au(t,e,i);break;default:Ho(t,e,i);break}}function nu(t,e){if(t.type==="radio")t.attributes.value===void 0&&(t.value=e),window.fromModel&&(typeof e=="boolean"?t.checked=Li(t.value)===e:t.checked=Wr(t.value,e));else if(t.type==="checkbox")Number.isInteger(e)?t.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(i=>Wr(i,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")uu(t,e);else{if(t.value===e)return;t.value=e===void 0?"":e}}function ru(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=dn(t,e)}function ou(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=Ri(t,e)}function au(t,e,i){Ho(t,e,i),cu(t,e,i)}function Ho(t,e,i){[null,void 0,!1].includes(i)&&du(e)?t.removeAttribute(e):(qo(e)&&(i=e),lu(t,e,i))}function lu(t,e,i){t.getAttribute(e)!=i&&t.setAttribute(e,i)}function cu(t,e,i){t[e]!==i&&(t[e]=i)}function uu(t,e){let i=[].concat(e).map(s=>s+"");Array.from(t.options).forEach(s=>{s.selected=i.includes(s.value)})}function hu(t){return t.toLowerCase().replace(/-(\w)/g,(e,i)=>i.toUpperCase())}function Wr(t,e){return t==e}function Li(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}function qo(t){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(t)}function du(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function fu(t,e,i){return t._x_bindings&&t._x_bindings[e]!==void 0?t._x_bindings[e]:zo(t,e,i)}function mu(t,e,i,s=!0){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];if(t._x_inlineBindings&&t._x_inlineBindings[e]!==void 0){let n=t._x_inlineBindings[e];return n.extract=s,xo(()=>nt(t,n.expression))}return zo(t,e,i)}function zo(t,e,i){let s=t.getAttribute(e);return s===null?typeof i=="function"?i():i:s===""?!0:qo(e)?!![e,"true"].includes(s):s}function Ko(t,e){var i;return function(){var s=this,n=arguments,r=function(){i=null,t.apply(s,n)};clearTimeout(i),i=setTimeout(r,e)}}function Wo(t,e){let i;return function(){let s=this,n=arguments;i||(t.apply(s,n),i=!0,setTimeout(()=>i=!1,e))}}function Uo({get:t,set:e},{get:i,set:s}){let n=!0,r,a,u=at(()=>{let f=t(),g=i();if(n)s(Ms(f)),n=!1;else{let v=JSON.stringify(f),E=JSON.stringify(g);v!==r?s(Ms(f)):v!==E&&e(Ms(g))}r=JSON.stringify(t()),a=JSON.stringify(i())});return()=>{At(u)}}function Ms(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function pu(t){(Array.isArray(t)?t:[t]).forEach(i=>i(Xt))}var tt={},Ur=!1;function gu(t,e){if(Ur||(tt=_t(tt),Ur=!0),e===void 0)return tt[t];tt[t]=e,typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&tt[t].init(),So(tt[t])}function vu(){return tt}var Yo={};function bu(t,e){let i=typeof e!="function"?()=>e:e;return t instanceof Element?Xo(t,i()):(Yo[t]=i,()=>{})}function yu(t){return Object.entries(Yo).forEach(([e,i])=>{Object.defineProperty(t,e,{get(){return(...s)=>i(...s)}})}),t}function Xo(t,e,i){let s=[];for(;s.length;)s.pop()();let n=Object.entries(e).map(([a,u])=>({name:a,value:u})),r=Co(n);return n=n.map(a=>r.find(u=>u.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),ln(t,n,i).map(a=>{s.push(a.runCleanups),a()}),()=>{for(;s.length;)s.pop()()}}var Jo={};function wu(t,e){Jo[t]=e}function Eu(t,e){return Object.entries(Jo).forEach(([i,s])=>{Object.defineProperty(t,i,{get(){return(...n)=>s.bind(e)(...n)},enumerable:!1})}),t}var Su={get reactive(){return _t},get release(){return At},get effect(){return at},get raw(){return ro},version:"3.13.8",flushAndStopDeferringMutations:Fc,dontAutoEvaluateFunctions:xo,disableEffectScheduling:Sc,startObservingMutations:nn,stopObservingMutations:wo,setReactivityEngine:_c,onAttributeRemoved:bo,onAttributesAdded:vo,closestDataStack:Et,skipDuringClone:lt,onlyDuringClone:eu,addRootSelector:uo,addInitSelector:ho,interceptClone:Pi,addScopeToNode:Ut,deferMutations:Mc,mapAttributes:cn,evaluateLater:ae,interceptInit:Oc,setEvaluator:Dc,mergeProxies:Yt,extractProp:mu,findClosest:Wt,onElRemoved:en,closestRoot:Ii,destroyTree:Qs,interceptor:_o,transition:Ws,setStyles:Ri,mutateDom:Q,directive:G,entangle:Uo,throttle:Wo,debounce:Ko,evaluate:nt,initTree:Pe,nextTick:hn,prefixed:xt,prefix:$c,plugin:pu,magic:_e,store:gu,start:xc,clone:iu,cloneNode:tu,bound:fu,$data:Eo,watch:oo,walk:Ke,data:wu,bind:bu},Xt=Su;function Zo(t,e){let i=Object.create(null),s=t.split(",");for(let n=0;n<s.length;n++)i[s[n]]=!0;return e?n=>!!i[n.toLowerCase()]:n=>!!i[n]}var _u="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Md=Zo(_u+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),Au=Object.freeze({}),Fd=Object.freeze([]),xu=Object.prototype.hasOwnProperty,Ni=(t,e)=>xu.call(t,e),rt=Array.isArray,zt=t=>Go(t)==="[object Map]",Tu=t=>typeof t=="string",fn=t=>typeof t=="symbol",Di=t=>t!==null&&typeof t=="object",Ou=Object.prototype.toString,Go=t=>Ou.call(t),Qo=t=>Go(t).slice(8,-1),mn=t=>Tu(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Bi=t=>{let e=Object.create(null);return i=>e[i]||(e[i]=t(i))},Cu=/-(\w)/g,Id=Bi(t=>t.replace(Cu,(e,i)=>i?i.toUpperCase():"")),Lu=/\B([A-Z])/g,Rd=Bi(t=>t.replace(Lu,"-$1").toLowerCase()),ea=Bi(t=>t.charAt(0).toUpperCase()+t.slice(1)),Pd=Bi(t=>t?`on${ea(t)}`:""),ta=(t,e)=>t!==e&&(t===t||e===e),Ys=new WeakMap,$t=[],xe,ot=Symbol("iterate"),Xs=Symbol("Map key iterate");function ku(t){return t&&t._isEffect===!0}function Mu(t,e=Au){ku(t)&&(t=t.raw);let i=Ru(t,e);return e.lazy||i(),i}function Fu(t){t.active&&(ia(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var Iu=0;function Ru(t,e){let i=function(){if(!i.active)return t();if(!$t.includes(i)){ia(i);try{return Nu(),$t.push(i),xe=i,t()}finally{$t.pop(),sa(),xe=$t[$t.length-1]}}};return i.id=Iu++,i.allowRecurse=!!e.allowRecurse,i._isEffect=!0,i.active=!0,i.raw=t,i.deps=[],i.options=e,i}function ia(t){let{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}var St=!0,pn=[];function Pu(){pn.push(St),St=!1}function Nu(){pn.push(St),St=!0}function sa(){let t=pn.pop();St=t===void 0?!0:t}function Se(t,e,i){if(!St||xe===void 0)return;let s=Ys.get(t);s||Ys.set(t,s=new Map);let n=s.get(i);n||s.set(i,n=new Set),n.has(xe)||(n.add(xe),xe.deps.push(n),xe.options.onTrack&&xe.options.onTrack({effect:xe,target:t,type:e,key:i}))}function Ue(t,e,i,s,n,r){let a=Ys.get(t);if(!a)return;let u=new Set,f=v=>{v&&v.forEach(E=>{(E!==xe||E.allowRecurse)&&u.add(E)})};if(e==="clear")a.forEach(f);else if(i==="length"&&rt(t))a.forEach((v,E)=>{(E==="length"||E>=s)&&f(v)});else switch(i!==void 0&&f(a.get(i)),e){case"add":rt(t)?mn(i)&&f(a.get("length")):(f(a.get(ot)),zt(t)&&f(a.get(Xs)));break;case"delete":rt(t)||(f(a.get(ot)),zt(t)&&f(a.get(Xs)));break;case"set":zt(t)&&f(a.get(ot));break}let g=v=>{v.options.onTrigger&&v.options.onTrigger({effect:v,target:t,key:i,type:e,newValue:s,oldValue:n,oldTarget:r}),v.options.scheduler?v.options.scheduler(v):v()};u.forEach(g)}var Du=Zo("__proto__,__v_isRef,__isVue"),na=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(fn)),Bu=ra(),Vu=ra(!0),Yr=ju();function ju(){let t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...i){let s=j(this);for(let r=0,a=this.length;r<a;r++)Se(s,"get",r+"");let n=s[e](...i);return n===-1||n===!1?s[e](...i.map(j)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...i){Pu();let s=j(this)[e].apply(this,i);return sa(),s}}),t}function ra(t=!1,e=!1){return function(s,n,r){if(n==="__v_isReactive")return!t;if(n==="__v_isReadonly")return t;if(n==="__v_raw"&&r===(t?e?ih:ca:e?th:la).get(s))return s;let a=rt(s);if(!t&&a&&Ni(Yr,n))return Reflect.get(Yr,n,r);let u=Reflect.get(s,n,r);return(fn(n)?na.has(n):Du(n))||(t||Se(s,"get",n),e)?u:Js(u)?!a||!mn(n)?u.value:u:Di(u)?t?ua(u):yn(u):u}}var $u=Hu();function Hu(t=!1){return function(i,s,n,r){let a=i[s];if(!t&&(n=j(n),a=j(a),!rt(i)&&Js(a)&&!Js(n)))return a.value=n,!0;let u=rt(i)&&mn(s)?Number(s)<i.length:Ni(i,s),f=Reflect.set(i,s,n,r);return i===j(r)&&(u?ta(n,a)&&Ue(i,"set",s,n,a):Ue(i,"add",s,n)),f}}function qu(t,e){let i=Ni(t,e),s=t[e],n=Reflect.deleteProperty(t,e);return n&&i&&Ue(t,"delete",e,void 0,s),n}function zu(t,e){let i=Reflect.has(t,e);return(!fn(e)||!na.has(e))&&Se(t,"has",e),i}function Ku(t){return Se(t,"iterate",rt(t)?"length":ot),Reflect.ownKeys(t)}var Wu={get:Bu,set:$u,deleteProperty:qu,has:zu,ownKeys:Ku},Uu={get:Vu,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},gn=t=>Di(t)?yn(t):t,vn=t=>Di(t)?ua(t):t,bn=t=>t,Vi=t=>Reflect.getPrototypeOf(t);function _i(t,e,i=!1,s=!1){t=t.__v_raw;let n=j(t),r=j(e);e!==r&&!i&&Se(n,"get",e),!i&&Se(n,"get",r);let{has:a}=Vi(n),u=s?bn:i?vn:gn;if(a.call(n,e))return u(t.get(e));if(a.call(n,r))return u(t.get(r));t!==n&&t.get(e)}function Ai(t,e=!1){let i=this.__v_raw,s=j(i),n=j(t);return t!==n&&!e&&Se(s,"has",t),!e&&Se(s,"has",n),t===n?i.has(t):i.has(t)||i.has(n)}function xi(t,e=!1){return t=t.__v_raw,!e&&Se(j(t),"iterate",ot),Reflect.get(t,"size",t)}function Xr(t){t=j(t);let e=j(this);return Vi(e).has.call(e,t)||(e.add(t),Ue(e,"add",t,t)),this}function Jr(t,e){e=j(e);let i=j(this),{has:s,get:n}=Vi(i),r=s.call(i,t);r?aa(i,s,t):(t=j(t),r=s.call(i,t));let a=n.call(i,t);return i.set(t,e),r?ta(e,a)&&Ue(i,"set",t,e,a):Ue(i,"add",t,e),this}function Zr(t){let e=j(this),{has:i,get:s}=Vi(e),n=i.call(e,t);n?aa(e,i,t):(t=j(t),n=i.call(e,t));let r=s?s.call(e,t):void 0,a=e.delete(t);return n&&Ue(e,"delete",t,void 0,r),a}function Gr(){let t=j(this),e=t.size!==0,i=zt(t)?new Map(t):new Set(t),s=t.clear();return e&&Ue(t,"clear",void 0,void 0,i),s}function Ti(t,e){return function(s,n){let r=this,a=r.__v_raw,u=j(a),f=e?bn:t?vn:gn;return!t&&Se(u,"iterate",ot),a.forEach((g,v)=>s.call(n,f(g),f(v),r))}}function Oi(t,e,i){return function(...s){let n=this.__v_raw,r=j(n),a=zt(r),u=t==="entries"||t===Symbol.iterator&&a,f=t==="keys"&&a,g=n[t](...s),v=i?bn:e?vn:gn;return!e&&Se(r,"iterate",f?Xs:ot),{next(){let{value:E,done:S}=g.next();return S?{value:E,done:S}:{value:u?[v(E[0]),v(E[1])]:v(E),done:S}},[Symbol.iterator](){return this}}}}function ze(t){return function(...e){{let i=e[0]?`on key "${e[0]}" `:"";console.warn(`${ea(t)} operation ${i}failed: target is readonly.`,j(this))}return t==="delete"?!1:this}}function Yu(){let t={get(r){return _i(this,r)},get size(){return xi(this)},has:Ai,add:Xr,set:Jr,delete:Zr,clear:Gr,forEach:Ti(!1,!1)},e={get(r){return _i(this,r,!1,!0)},get size(){return xi(this)},has:Ai,add:Xr,set:Jr,delete:Zr,clear:Gr,forEach:Ti(!1,!0)},i={get(r){return _i(this,r,!0)},get size(){return xi(this,!0)},has(r){return Ai.call(this,r,!0)},add:ze("add"),set:ze("set"),delete:ze("delete"),clear:ze("clear"),forEach:Ti(!0,!1)},s={get(r){return _i(this,r,!0,!0)},get size(){return xi(this,!0)},has(r){return Ai.call(this,r,!0)},add:ze("add"),set:ze("set"),delete:ze("delete"),clear:ze("clear"),forEach:Ti(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Oi(r,!1,!1),i[r]=Oi(r,!0,!1),e[r]=Oi(r,!1,!0),s[r]=Oi(r,!0,!0)}),[t,i,e,s]}var[Xu,Ju,Zu,Gu]=Yu();function oa(t,e){let i=e?t?Gu:Zu:t?Ju:Xu;return(s,n,r)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?s:Reflect.get(Ni(i,n)&&n in s?i:s,n,r)}var Qu={get:oa(!1,!1)},eh={get:oa(!0,!1)};function aa(t,e,i){let s=j(i);if(s!==i&&e.call(t,s)){let n=Qo(t);console.warn(`Reactive ${n} contains both the raw and reactive versions of the same object${n==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var la=new WeakMap,th=new WeakMap,ca=new WeakMap,ih=new WeakMap;function sh(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nh(t){return t.__v_skip||!Object.isExtensible(t)?0:sh(Qo(t))}function yn(t){return t&&t.__v_isReadonly?t:ha(t,!1,Wu,Qu,la)}function ua(t){return ha(t,!0,Uu,eh,ca)}function ha(t,e,i,s,n){if(!Di(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;let r=n.get(t);if(r)return r;let a=nh(t);if(a===0)return t;let u=new Proxy(t,a===2?s:i);return n.set(t,u),u}function j(t){return t&&j(t.__v_raw)||t}function Js(t){return!!(t&&t.__v_isRef===!0)}_e("nextTick",()=>hn);_e("dispatch",t=>qt.bind(qt,t));_e("watch",(t,{evaluateLater:e,cleanup:i})=>(s,n)=>{let r=e(s),u=oo(()=>{let f;return r(g=>f=g),f},n);i(u)});_e("store",vu);_e("data",t=>Eo(t));_e("root",t=>Ii(t));_e("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=Yt(rh(t))),t._x_refs_proxy));function rh(t){let e=[];return Wt(t,i=>{i._x_refs&&e.push(i._x_refs)}),e}var Fs={};function da(t){return Fs[t]||(Fs[t]=0),++Fs[t]}function oh(t,e){return Wt(t,i=>{if(i._x_ids&&i._x_ids[e])return!0})}function ah(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=da(e))}_e("id",(t,{cleanup:e})=>(i,s=null)=>{let n=`${i}${s?`-${s}`:""}`;return lh(t,n,e,()=>{let r=oh(t,i),a=r?r._x_ids[i]:da(i);return s?`${i}-${a}-${s}`:`${i}-${a}`})});Pi((t,e)=>{t._x_id&&(e._x_id=t._x_id)});function lh(t,e,i,s){if(t._x_id||(t._x_id={}),t._x_id[e])return t._x_id[e];let n=s();return t._x_id[e]=n,i(()=>{delete t._x_id[e]}),n}_e("el",t=>t);fa("Focus","focus","focus");fa("Persist","persist","persist");function fa(t,e,i){_e(e,s=>Ee(`You can't use [$${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${i}`,s))}G("modelable",(t,{expression:e},{effect:i,evaluateLater:s,cleanup:n})=>{let r=s(e),a=()=>{let v;return r(E=>v=E),v},u=s(`${e} = __placeholder`),f=v=>u(()=>{},{scope:{__placeholder:v}}),g=a();f(g),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let v=t._x_model.get,E=t._x_model.set,S=Uo({get(){return v()},set(L){E(L)}},{get(){return a()},set(L){f(L)}});n(S)})});G("teleport",(t,{modifiers:e,expression:i},{cleanup:s})=>{t.tagName.toLowerCase()!=="template"&&Ee("x-teleport can only be used on a <template> tag",t);let n=Qr(i),r=t.content.cloneNode(!0).firstElementChild;t._x_teleport=r,r._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),r.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(u=>{r.addEventListener(u,f=>{f.stopPropagation(),t.dispatchEvent(new f.constructor(f.type,f))})}),Ut(r,{},t);let a=(u,f,g)=>{g.includes("prepend")?f.parentNode.insertBefore(u,f):g.includes("append")?f.parentNode.insertBefore(u,f.nextSibling):f.appendChild(u)};Q(()=>{a(r,n,e),Pe(r),r._x_ignore=!0}),t._x_teleportPutBack=()=>{let u=Qr(i);Q(()=>{a(t._x_teleport,u,e)})},s(()=>r.remove())});var ch=document.createElement("div");function Qr(t){let e=lt(()=>document.querySelector(t),()=>ch)();return e||Ee(`Cannot find x-teleport element for selector: "${t}"`),e}var ma=()=>{};ma.inline=(t,{modifiers:e},{cleanup:i})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,i(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};G("ignore",ma);G("effect",lt((t,{expression:e},{effect:i})=>{i(ae(t,e))}));function Zs(t,e,i,s){let n=t,r=f=>s(f),a={},u=(f,g)=>v=>g(f,v);if(i.includes("dot")&&(e=uh(e)),i.includes("camel")&&(e=hh(e)),i.includes("passive")&&(a.passive=!0),i.includes("capture")&&(a.capture=!0),i.includes("window")&&(n=window),i.includes("document")&&(n=document),i.includes("debounce")){let f=i[i.indexOf("debounce")+1]||"invalid-wait",g=Fi(f.split("ms")[0])?Number(f.split("ms")[0]):250;r=Ko(r,g)}if(i.includes("throttle")){let f=i[i.indexOf("throttle")+1]||"invalid-wait",g=Fi(f.split("ms")[0])?Number(f.split("ms")[0]):250;r=Wo(r,g)}return i.includes("prevent")&&(r=u(r,(f,g)=>{g.preventDefault(),f(g)})),i.includes("stop")&&(r=u(r,(f,g)=>{g.stopPropagation(),f(g)})),i.includes("self")&&(r=u(r,(f,g)=>{g.target===t&&f(g)})),(i.includes("away")||i.includes("outside"))&&(n=document,r=u(r,(f,g)=>{t.contains(g.target)||g.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&f(g))})),i.includes("once")&&(r=u(r,(f,g)=>{f(g),n.removeEventListener(e,r,a)})),r=u(r,(f,g)=>{fh(e)&&mh(g,i)||f(g)}),n.addEventListener(e,r,a),()=>{n.removeEventListener(e,r,a)}}function uh(t){return t.replace(/-/g,".")}function hh(t){return t.toLowerCase().replace(/-(\w)/g,(e,i)=>i.toUpperCase())}function Fi(t){return!Array.isArray(t)&&!isNaN(t)}function dh(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function fh(t){return["keydown","keyup"].includes(t)}function mh(t,e){let i=e.filter(r=>!["window","document","prevent","stop","once","capture"].includes(r));if(i.includes("debounce")){let r=i.indexOf("debounce");i.splice(r,Fi((i[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.includes("throttle")){let r=i.indexOf("throttle");i.splice(r,Fi((i[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.length===0||i.length===1&&eo(t.key).includes(i[0]))return!1;let n=["ctrl","shift","alt","meta","cmd","super"].filter(r=>i.includes(r));return i=i.filter(r=>!n.includes(r)),!(n.length>0&&n.filter(a=>((a==="cmd"||a==="super")&&(a="meta"),t[`${a}Key`])).length===n.length&&eo(t.key).includes(i[0]))}function eo(t){if(!t)return[];t=dh(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(i=>{if(e[i]===t)return i}).filter(i=>i)}G("model",(t,{modifiers:e,expression:i},{effect:s,cleanup:n})=>{let r=t;e.includes("parent")&&(r=t.parentNode);let a=ae(r,i),u;typeof i=="string"?u=ae(r,`${i} = __placeholder`):typeof i=="function"&&typeof i()=="string"?u=ae(r,`${i()} = __placeholder`):u=()=>{};let f=()=>{let S;return a(L=>S=L),io(S)?S.get():S},g=S=>{let L;a(H=>L=H),io(L)?L.set(S):u(()=>{},{scope:{__placeholder:S}})};typeof i=="string"&&t.type==="radio"&&Q(()=>{t.hasAttribute("name")||t.setAttribute("name",i)});var v=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let E=We?()=>{}:Zs(t,v,e,S=>{g(to(t,e,S,f()))});if(e.includes("fill")&&([void 0,null,""].includes(f())||t.type==="checkbox"&&Array.isArray(f()))&&g(to(t,e,{target:t},f())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=E,n(()=>t._x_removeModelListeners.default()),t.form){let S=Zs(t.form,"reset",[],L=>{hn(()=>t._x_model&&t._x_model.set(t.value))});n(()=>S())}t._x_model={get(){return f()},set(S){g(S)}},t._x_forceModelUpdate=S=>{S===void 0&&typeof i=="string"&&i.match(/\./)&&(S=""),window.fromModel=!0,Q(()=>$o(t,"value",S)),delete window.fromModel},s(()=>{let S=f();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(S)})});function to(t,e,i,s){return Q(()=>{if(i instanceof CustomEvent&&i.detail!==void 0)return i.detail!==null&&i.detail!==void 0?i.detail:i.target.value;if(t.type==="checkbox")if(Array.isArray(s)){let n=null;return e.includes("number")?n=Is(i.target.value):e.includes("boolean")?n=Li(i.target.value):n=i.target.value,i.target.checked?s.concat([n]):s.filter(r=>!ph(r,n))}else return i.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(i.target.selectedOptions).map(n=>{let r=n.value||n.text;return Is(r)}):e.includes("boolean")?Array.from(i.target.selectedOptions).map(n=>{let r=n.value||n.text;return Li(r)}):Array.from(i.target.selectedOptions).map(n=>n.value||n.text);{let n;return t.type==="radio"?i.target.checked?n=i.target.value:n=s:n=i.target.value,e.includes("number")?Is(n):e.includes("boolean")?Li(n):e.includes("trim")?n.trim():n}}})}function Is(t){let e=t?parseFloat(t):null;return gh(e)?e:t}function ph(t,e){return t==e}function gh(t){return!Array.isArray(t)&&!isNaN(t)}function io(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}G("cloak",t=>queueMicrotask(()=>Q(()=>t.removeAttribute(xt("cloak")))));ho(()=>`[${xt("init")}]`);G("init",lt((t,{expression:e},{evaluate:i})=>typeof e=="string"?!!e.trim()&&i(e,{},!1):i(e,{},!1)));G("text",(t,{expression:e},{effect:i,evaluateLater:s})=>{let n=s(e);i(()=>{n(r=>{Q(()=>{t.textContent=r})})})});G("html",(t,{expression:e},{effect:i,evaluateLater:s})=>{let n=s(e);i(()=>{n(r=>{Q(()=>{t.innerHTML=r,t._x_ignoreSelf=!0,Pe(t),delete t._x_ignoreSelf})})})});cn(Mo(":",Fo(xt("bind:"))));var pa=(t,{value:e,modifiers:i,expression:s,original:n},{effect:r,cleanup:a})=>{if(!e){let f={};yu(f),ae(t,s)(v=>{Xo(t,v,n)},{scope:f});return}if(e==="key")return vh(t,s);if(t._x_inlineBindings&&t._x_inlineBindings[e]&&t._x_inlineBindings[e].extract)return;let u=ae(t,s);r(()=>u(f=>{f===void 0&&typeof s=="string"&&s.match(/\./)&&(f=""),Q(()=>$o(t,e,f,i))})),a(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};pa.inline=(t,{value:e,modifiers:i,expression:s})=>{e&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[e]={expression:s,extract:!1})};G("bind",pa);function vh(t,e){t._x_keyExpression=e}uo(()=>`[${xt("data")}]`);G("data",(t,{expression:e},{cleanup:i})=>{if(bh(t))return;e=e===""?"{}":e;let s={};Vs(s,t);let n={};Eu(n,s);let r=nt(t,e,{scope:n});(r===void 0||r===!0)&&(r={}),Vs(r,t);let a=_t(r);So(a);let u=Ut(t,a);a.init&&nt(t,a.init),i(()=>{a.destroy&&nt(t,a.destroy),u()})});Pi((t,e)=>{t._x_dataStack&&(e._x_dataStack=t._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function bh(t){return We?Us?!0:t.hasAttribute("data-has-alpine-state"):!1}G("show",(t,{modifiers:e,expression:i},{effect:s})=>{let n=ae(t,i);t._x_doHide||(t._x_doHide=()=>{Q(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{Q(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let r=()=>{t._x_doHide(),t._x_isShown=!1},a=()=>{t._x_doShow(),t._x_isShown=!0},u=()=>setTimeout(a),f=Ks(E=>E?a():r(),E=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,E,a,r):E?u():r()}),g,v=!0;s(()=>n(E=>{!v&&E===g||(e.includes("immediate")&&(E?u():r()),f(E),g=E,v=!1)}))});G("for",(t,{expression:e},{effect:i,cleanup:s})=>{let n=wh(e),r=ae(t,n.items),a=ae(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},i(()=>yh(t,n,r,a)),s(()=>{Object.values(t._x_lookup).forEach(u=>u.remove()),delete t._x_prevKeys,delete t._x_lookup})});function yh(t,e,i,s){let n=a=>typeof a=="object"&&!Array.isArray(a),r=t;i(a=>{Eh(a)&&a>=0&&(a=Array.from(Array(a).keys(),T=>T+1)),a===void 0&&(a=[]);let u=t._x_lookup,f=t._x_prevKeys,g=[],v=[];if(n(a))a=Object.entries(a).map(([T,I])=>{let F=so(e,I,T,a);s(P=>{v.includes(P)&&Ee("Duplicate key on x-for",t),v.push(P)},{scope:{index:T,...F}}),g.push(F)});else for(let T=0;T<a.length;T++){let I=so(e,a[T],T,a);s(F=>{v.includes(F)&&Ee("Duplicate key on x-for",t),v.push(F)},{scope:{index:T,...I}}),g.push(I)}let E=[],S=[],L=[],H=[];for(let T=0;T<f.length;T++){let I=f[T];v.indexOf(I)===-1&&L.push(I)}f=f.filter(T=>!L.includes(T));let x="template";for(let T=0;T<v.length;T++){let I=v[T],F=f.indexOf(I);if(F===-1)f.splice(T,0,I),E.push([x,T]);else if(F!==T){let P=f.splice(T,1)[0],te=f.splice(F-1,1)[0];f.splice(T,0,te),f.splice(F,0,P),S.push([P,te])}else H.push(I);x=I}for(let T=0;T<L.length;T++){let I=L[T];u[I]._x_effects&&u[I]._x_effects.forEach(no),u[I].remove(),u[I]=null,delete u[I]}for(let T=0;T<S.length;T++){let[I,F]=S[T],P=u[I],te=u[F],le=document.createElement("div");Q(()=>{te||Ee('x-for ":key" is undefined or invalid',r,F,u),te.after(le),P.after(te),te._x_currentIfEl&&te.after(te._x_currentIfEl),le.before(P),P._x_currentIfEl&&P.after(P._x_currentIfEl),le.remove()}),te._x_refreshXForScope(g[v.indexOf(F)])}for(let T=0;T<E.length;T++){let[I,F]=E[T],P=I==="template"?r:u[I];P._x_currentIfEl&&(P=P._x_currentIfEl);let te=g[F],le=v[F],pe=document.importNode(r.content,!0).firstElementChild,Oe=_t(te);Ut(pe,Oe,r),pe._x_refreshXForScope=ge=>{Object.entries(ge).forEach(([M,ie])=>{Oe[M]=ie})},Q(()=>{P.after(pe),lt(()=>Pe(pe))()}),typeof le=="object"&&Ee("x-for key cannot be an object, it must be a string or an integer",r),u[le]=pe}for(let T=0;T<H.length;T++)u[H[T]]._x_refreshXForScope(g[v.indexOf(H[T])]);r._x_prevKeys=v})}function wh(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,i=/^\s*\(|\)\s*$/g,s=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,n=t.match(s);if(!n)return;let r={};r.items=n[2].trim();let a=n[1].replace(i,"").trim(),u=a.match(e);return u?(r.item=a.replace(e,"").trim(),r.index=u[1].trim(),u[2]&&(r.collection=u[2].trim())):r.item=a,r}function so(t,e,i,s){let n={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(a=>a.trim()).forEach((a,u)=>{n[a]=e[u]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(a=>a.trim()).forEach(a=>{n[a]=e[a]}):n[t.item]=e,t.index&&(n[t.index]=i),t.collection&&(n[t.collection]=s),n}function Eh(t){return!Array.isArray(t)&&!isNaN(t)}function ga(){}ga.inline=(t,{expression:e},{cleanup:i})=>{let s=Ii(t);s._x_refs||(s._x_refs={}),s._x_refs[e]=t,i(()=>delete s._x_refs[e])};G("ref",ga);G("if",(t,{expression:e},{effect:i,cleanup:s})=>{t.tagName.toLowerCase()!=="template"&&Ee("x-if can only be used on a <template> tag",t);let n=ae(t,e),r=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let u=t.content.cloneNode(!0).firstElementChild;return Ut(u,{},t),Q(()=>{t.after(u),lt(()=>Pe(u))()}),t._x_currentIfEl=u,t._x_undoIf=()=>{Ke(u,f=>{f._x_effects&&f._x_effects.forEach(no)}),u.remove(),delete t._x_currentIfEl},u},a=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};i(()=>n(u=>{u?r():a()})),s(()=>t._x_undoIf&&t._x_undoIf())});G("id",(t,{expression:e},{evaluate:i})=>{i(e).forEach(n=>ah(t,n))});Pi((t,e)=>{t._x_ids&&(e._x_ids=t._x_ids)});cn(Mo("@",Fo(xt("on:"))));G("on",lt((t,{value:e,modifiers:i,expression:s},{cleanup:n})=>{let r=s?ae(t,s):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let a=Zs(t,e,i,u=>{r(()=>{},{scope:{$event:u},params:[u]})});n(()=>a())}));ji("Collapse","collapse","collapse");ji("Intersect","intersect","intersect");ji("Focus","trap","focus");ji("Mask","mask","mask");function ji(t,e,i){G(e,s=>Ee(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${i}`,s))}Xt.setEvaluator(Oo);Xt.setReactivityEngine({reactive:yn,effect:Mu,release:Fu,raw:j});var Sh=Xt,$i=Sh;function _h(t){t.directive("collapse",e),e.inline=(i,{modifiers:s})=>{s.includes("min")&&(i._x_doShow=()=>{},i._x_doHide=()=>{})};function e(i,{modifiers:s}){let n=va(s,"duration",250)/1e3,r=va(s,"min",0),a=!s.includes("min");i._x_isShown||(i.style.height=`${r}px`),!i._x_isShown&&a&&(i.hidden=!0),i._x_isShown||(i.style.overflow="hidden");let u=(g,v)=>{let E=t.setStyles(g,v);return v.height?()=>{}:E},f={transitionProperty:"height",transitionDuration:`${n}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};i._x_transition={in(g=()=>{},v=()=>{}){a&&(i.hidden=!1),a&&(i.style.display=null);let E=i.getBoundingClientRect().height;i.style.height="auto";let S=i.getBoundingClientRect().height;E===S&&(E=r),t.transition(i,t.setStyles,{during:f,start:{height:E+"px"},end:{height:S+"px"}},()=>i._x_isShown=!0,()=>{i.getBoundingClientRect().height==S&&(i.style.overflow=null)})},out(g=()=>{},v=()=>{}){let E=i.getBoundingClientRect().height;t.transition(i,u,{during:f,start:{height:E+"px"},end:{height:r+"px"}},()=>i.style.overflow="hidden",()=>{i._x_isShown=!1,i.style.height==`${r}px`&&a&&(i.style.display="none",i.hidden=!0)})}}}}function va(t,e,i){if(t.indexOf(e)===-1)return i;let s=t[t.indexOf(e)+1];if(!s)return i;if(e==="duration"){let n=s.match(/([0-9]+)ms/);if(n)return n[1]}if(e==="min"){let n=s.match(/([0-9]+)px/);if(n)return n[1]}return s}var ba=_h;var wn=class{constructor(e,i,s){this.eventTarget=e,this.eventName=i,this.eventOptions=s,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let i=Ah(e);for(let s of this.bindings){if(i.immediatePropagationStopped)break;s.handleEvent(i)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,i)=>{let s=e.index,n=i.index;return s<n?-1:s>n?1:0})}};function Ah(t){if("immediatePropagationStopped"in t)return t;{let{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var En=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,i)=>e.concat(Array.from(i.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,i=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),i&&this.clearEventListenersForBinding(e)}handleError(e,i,s={}){this.application.handleError(e,`Error ${i}`,s)}clearEventListenersForBinding(e){let i=this.fetchEventListenerForBinding(e);i.hasBindings()||(i.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:i,eventName:s,eventOptions:n}=e,r=this.fetchEventListenerMapForEventTarget(i),a=this.cacheKey(s,n);r.delete(a),r.size==0&&this.eventListenerMaps.delete(i)}fetchEventListenerForBinding(e){let{eventTarget:i,eventName:s,eventOptions:n}=e;return this.fetchEventListener(i,s,n)}fetchEventListener(e,i,s){let n=this.fetchEventListenerMapForEventTarget(e),r=this.cacheKey(i,s),a=n.get(r);return a||(a=this.createEventListener(e,i,s),n.set(r,a)),a}createEventListener(e,i,s){let n=new wn(e,i,s);return this.started&&n.connect(),n}fetchEventListenerMapForEventTarget(e){let i=this.eventListenerMaps.get(e);return i||(i=new Map,this.eventListenerMaps.set(e,i)),i}cacheKey(e,i){let s=[e];return Object.keys(i).sort().forEach(n=>{s.push(`${i[n]?"":"!"}${n}`)}),s.join(":")}},xh={stop({event:t,value:e}){return e&&t.stopPropagation(),!0},prevent({event:t,value:e}){return e&&t.preventDefault(),!0},self({event:t,value:e,element:i}){return e?i===t.target:!0}},Th=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function Oh(t){let i=t.trim().match(Th)||[],s=i[2],n=i[3];return n&&!["keydown","keyup","keypress"].includes(s)&&(s+=`.${n}`,n=""),{eventTarget:Ch(i[4]),eventName:s,eventOptions:i[7]?Lh(i[7]):{},identifier:i[5],methodName:i[6],keyFilter:i[1]||n}}function Ch(t){if(t=="window")return window;if(t=="document")return document}function Lh(t){return t.split(":").reduce((e,i)=>Object.assign(e,{[i.replace(/^!/,"")]:!/^!/.test(i)}),{})}function kh(t){if(t==window)return"window";if(t==document)return"document"}function qn(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,i)=>i.toUpperCase())}function Sn(t){return qn(t.replace(/--/g,"-").replace(/__/g,"_"))}function Zt(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ca(t){return t.replace(/([A-Z])/g,(e,i)=>`-${i.toLowerCase()}`)}function Mh(t){return t.match(/[^\s]+/g)||[]}function ya(t){return t!=null}function _n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var wa=["meta","ctrl","alt","shift"],An=class{constructor(e,i,s,n){this.element=e,this.index=i,this.eventTarget=s.eventTarget||e,this.eventName=s.eventName||Fh(e)||Hi("missing event name"),this.eventOptions=s.eventOptions||{},this.identifier=s.identifier||Hi("missing identifier"),this.methodName=s.methodName||Hi("missing method name"),this.keyFilter=s.keyFilter||"",this.schema=n}static forToken(e,i){return new this(e.element,e.index,Oh(e.content),i)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",i=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${i}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let i=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,i))return!0;let s=i.filter(n=>!wa.includes(n))[0];return s?(_n(this.keyMappings,s)||Hi(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[s].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let i=[this.keyFilter];return!!this.keyFilterDissatisfied(e,i)}get params(){let e={},i=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:s,value:n}of Array.from(this.element.attributes)){let r=s.match(i),a=r&&r[1];a&&(e[qn(a)]=Ih(n))}return e}get eventTargetName(){return kh(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,i){let[s,n,r,a]=wa.map(u=>i.includes(u));return e.metaKey!==s||e.ctrlKey!==n||e.altKey!==r||e.shiftKey!==a}},Ea={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function Fh(t){let e=t.tagName.toLowerCase();if(e in Ea)return Ea[e](t)}function Hi(t){throw new Error(t)}function Ih(t){try{return JSON.parse(t)}catch{return t}}var xn=class{constructor(e,i){this.context=e,this.action=i}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let i=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(i)&&this.invokeWithEvent(i)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:i}=this.action,{actionDescriptorFilters:s}=this.context.application,{controller:n}=this.context,r=!0;for(let[a,u]of Object.entries(this.eventOptions))if(a in s){let f=s[a];r=r&&f({name:a,value:u,event:e,element:i,controller:n})}else continue;return r}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:i,currentTarget:s}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:i,currentTarget:s,action:this.methodName})}catch(n){let{identifier:r,controller:a,element:u,index:f}=this,g={identifier:r,controller:a,element:u,index:f,event:e};this.context.handleError(n,`invoking action "${this.action}"`,g)}}willBeInvokedByEvent(e){let i=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===i?!0:i instanceof Element&&this.element.contains(i)?this.scope.containsElement(i):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},qi=class{constructor(e,i){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=i,this.elements=new Set,this.mutationObserver=new MutationObserver(s=>this.processMutations(s))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let i of Array.from(this.elements))e.has(i)||this.removeElement(i);for(let i of Array.from(e))this.addElement(i)}}processMutations(e){if(this.started)for(let i of e)this.processMutation(i)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,i){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,i):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let i of Array.from(e)){let s=this.elementFromNode(i);s&&this.processTree(s,this.removeElement)}}processAddedNodes(e){for(let i of Array.from(e)){let s=this.elementFromNode(i);s&&this.elementIsActive(s)&&this.processTree(s,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,i){for(let s of this.matchElementsInTree(e))i.call(this,s)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},zi=class{constructor(e,i,s){this.attributeName=i,this.delegate=s,this.elementObserver=new qi(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let i=this.matchElement(e)?[e]:[],s=Array.from(e.querySelectorAll(this.selector));return i.concat(s)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,i){this.delegate.elementAttributeValueChanged&&this.attributeName==i&&this.delegate.elementAttributeValueChanged(e,i)}};function Rh(t,e,i){La(t,e).add(i)}function Ph(t,e,i){La(t,e).delete(i),Nh(t,e)}function La(t,e){let i=t.get(e);return i||(i=new Set,t.set(e,i)),i}function Nh(t,e){let i=t.get(e);i!=null&&i.size==0&&t.delete(e)}var Ne=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((i,s)=>i.concat(Array.from(s)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((i,s)=>i+s.size,0)}add(e,i){Rh(this.valuesByKey,e,i)}delete(e,i){Ph(this.valuesByKey,e,i)}has(e,i){let s=this.valuesByKey.get(e);return s!=null&&s.has(i)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(s=>s.has(e))}getValuesForKey(e){let i=this.valuesByKey.get(e);return i?Array.from(i):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([i,s])=>s.has(e)).map(([i,s])=>i)}};var Tn=class{constructor(e,i,s,n){this._selector=i,this.details=n,this.elementObserver=new qi(e,this),this.delegate=s,this.matchesByElement=new Ne}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:i}=this;if(i){let s=e.matches(i);return this.delegate.selectorMatchElement?s&&this.delegate.selectorMatchElement(e,this.details):s}else return!1}matchElementsInTree(e){let{selector:i}=this;if(i){let s=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(i)).filter(r=>this.matchElement(r));return s.concat(n)}else return[]}elementMatched(e){let{selector:i}=this;i&&this.selectorMatched(e,i)}elementUnmatched(e){let i=this.matchesByElement.getKeysForValue(e);for(let s of i)this.selectorUnmatched(e,s)}elementAttributeChanged(e,i){let{selector:s}=this;if(s){let n=this.matchElement(e),r=this.matchesByElement.has(s,e);n&&!r?this.selectorMatched(e,s):!n&&r&&this.selectorUnmatched(e,s)}}selectorMatched(e,i){this.delegate.selectorMatched(e,i,this.details),this.matchesByElement.add(i,e)}selectorUnmatched(e,i){this.delegate.selectorUnmatched(e,i,this.details),this.matchesByElement.delete(i,e)}},On=class{constructor(e,i){this.element=e,this.delegate=i,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(s=>this.processMutations(s))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let i of e)this.processMutation(i)}processMutation(e){let i=e.attributeName;i&&this.refreshAttribute(i,e.oldValue)}refreshAttribute(e,i){let s=this.delegate.getStringMapKeyForAttribute(e);if(s!=null){this.stringMap.has(e)||this.stringMapKeyAdded(s,e);let n=this.element.getAttribute(e);if(this.stringMap.get(e)!=n&&this.stringMapValueChanged(n,s,i),n==null){let r=this.stringMap.get(e);this.stringMap.delete(e),r&&this.stringMapKeyRemoved(s,e,r)}else this.stringMap.set(e,n)}}stringMapKeyAdded(e,i){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,i)}stringMapValueChanged(e,i,s){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,i,s)}stringMapKeyRemoved(e,i,s){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,i,s)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Ki=class{constructor(e,i,s){this.attributeObserver=new zi(e,i,this),this.delegate=s,this.tokensByElement=new Ne}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[i,s]=this.refreshTokensForElement(e);this.tokensUnmatched(i),this.tokensMatched(s)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(i=>this.tokenMatched(i))}tokensUnmatched(e){e.forEach(i=>this.tokenUnmatched(i))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let i=this.tokensByElement.getValuesForKey(e),s=this.readTokensForElement(e),n=Bh(i,s).findIndex(([r,a])=>!Vh(r,a));return n==-1?[[],[]]:[i.slice(n),s.slice(n)]}readTokensForElement(e){let i=this.attributeName,s=e.getAttribute(i)||"";return Dh(s,e,i)}};function Dh(t,e,i){return t.trim().split(/\s+/).filter(s=>s.length).map((s,n)=>({element:e,attributeName:i,content:s,index:n}))}function Bh(t,e){let i=Math.max(t.length,e.length);return Array.from({length:i},(s,n)=>[t[n],e[n]])}function Vh(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var Wi=class{constructor(e,i,s){this.tokenListObserver=new Ki(e,i,this),this.delegate=s,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:i}=e,{value:s}=this.fetchParseResultForToken(e);s&&(this.fetchValuesByTokenForElement(i).set(e,s),this.delegate.elementMatchedValue(i,s))}tokenUnmatched(e){let{element:i}=e,{value:s}=this.fetchParseResultForToken(e);s&&(this.fetchValuesByTokenForElement(i).delete(e),this.delegate.elementUnmatchedValue(i,s))}fetchParseResultForToken(e){let i=this.parseResultsByToken.get(e);return i||(i=this.parseToken(e),this.parseResultsByToken.set(e,i)),i}fetchValuesByTokenForElement(e){let i=this.valuesByTokenByElement.get(e);return i||(i=new Map,this.valuesByTokenByElement.set(e,i)),i}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(i){return{error:i}}}},Cn=class{constructor(e,i){this.context=e,this.delegate=i,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Wi(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let i=new xn(this.context,e);this.bindingsByAction.set(e,i),this.delegate.bindingConnected(i)}disconnectAction(e){let i=this.bindingsByAction.get(e);i&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(i))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let i=An.forToken(e,this.schema);if(i.identifier==this.identifier)return i}elementMatchedValue(e,i){this.connectAction(i)}elementUnmatchedValue(e,i){this.disconnectAction(i)}},Ln=class{constructor(e,i){this.context=e,this.receiver=i,this.stringMapObserver=new On(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,i){let s=this.valueDescriptorMap[i];this.hasValue(e)||this.invokeChangedCallback(e,s.writer(this.receiver[e]),s.writer(s.defaultValue))}stringMapValueChanged(e,i,s){let n=this.valueDescriptorNameMap[i];e!==null&&(s===null&&(s=n.writer(n.defaultValue)),this.invokeChangedCallback(i,e,s))}stringMapKeyRemoved(e,i,s){let n=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,n.writer(this.receiver[e]),s):this.invokeChangedCallback(e,n.writer(n.defaultValue),s)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:i,defaultValue:s,writer:n}of this.valueDescriptors)s!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(i,n(s),void 0)}invokeChangedCallback(e,i,s){let n=`${e}Changed`,r=this.receiver[n];if(typeof r=="function"){let a=this.valueDescriptorNameMap[e];try{let u=a.reader(i),f=s;s&&(f=a.reader(s)),r.call(this.receiver,u,f)}catch(u){throw u instanceof TypeError&&(u.message=`Stimulus Value "${this.context.identifier}.${a.name}" - ${u.message}`),u}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(i=>e[i])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(i=>{let s=this.valueDescriptorMap[i];e[s.name]=s}),e}hasValue(e){let i=this.valueDescriptorNameMap[e],s=`has${Zt(i.name)}`;return this.receiver[s]}},kn=class{constructor(e,i){this.context=e,this.delegate=i,this.targetsByName=new Ne}start(){this.tokenListObserver||(this.tokenListObserver=new Ki(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:i}){this.scope.containsElement(e)&&this.connectTarget(e,i)}tokenUnmatched({element:e,content:i}){this.disconnectTarget(e,i)}connectTarget(e,i){var s;this.targetsByName.has(i,e)||(this.targetsByName.add(i,e),(s=this.tokenListObserver)===null||s===void 0||s.pause(()=>this.delegate.targetConnected(e,i)))}disconnectTarget(e,i){var s;this.targetsByName.has(i,e)&&(this.targetsByName.delete(i,e),(s=this.tokenListObserver)===null||s===void 0||s.pause(()=>this.delegate.targetDisconnected(e,i)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let i of this.targetsByName.getValuesForKey(e))this.disconnectTarget(i,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function Gt(t,e){let i=ka(t);return Array.from(i.reduce((s,n)=>($h(n,e).forEach(r=>s.add(r)),s),new Set))}function jh(t,e){return ka(t).reduce((s,n)=>(s.push(...Hh(n,e)),s),[])}function ka(t){let e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function $h(t,e){let i=t[e];return Array.isArray(i)?i:[]}function Hh(t,e){let i=t[e];return i?Object.keys(i).map(s=>[s,i[s]]):[]}var Mn=class{constructor(e,i){this.started=!1,this.context=e,this.delegate=i,this.outletsByName=new Ne,this.outletElementsByName=new Ne,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,i,{outletName:s}){let n=this.getOutlet(e,s);n&&this.connectOutlet(n,e,s)}selectorUnmatched(e,i,{outletName:s}){let n=this.getOutletFromMap(e,s);n&&this.disconnectOutlet(n,e,s)}selectorMatchElement(e,{outletName:i}){let s=this.selector(i),n=this.hasOutlet(e,i),r=e.matches(`[${this.schema.controllerAttribute}~=${i}]`);return s?n&&r&&e.matches(s):!1}elementMatchedAttribute(e,i){let s=this.getOutletNameFromOutletAttributeName(i);s&&this.updateSelectorObserverForOutlet(s)}elementAttributeValueChanged(e,i){let s=this.getOutletNameFromOutletAttributeName(i);s&&this.updateSelectorObserverForOutlet(s)}elementUnmatchedAttribute(e,i){let s=this.getOutletNameFromOutletAttributeName(i);s&&this.updateSelectorObserverForOutlet(s)}connectOutlet(e,i,s){var n;this.outletElementsByName.has(s,i)||(this.outletsByName.add(s,e),this.outletElementsByName.add(s,i),(n=this.selectorObserverMap.get(s))===null||n===void 0||n.pause(()=>this.delegate.outletConnected(e,i,s)))}disconnectOutlet(e,i,s){var n;this.outletElementsByName.has(s,i)&&(this.outletsByName.delete(s,e),this.outletElementsByName.delete(s,i),(n=this.selectorObserverMap.get(s))===null||n===void 0||n.pause(()=>this.delegate.outletDisconnected(e,i,s)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let i of this.outletElementsByName.getValuesForKey(e))for(let s of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(s,i,e)}updateSelectorObserverForOutlet(e){let i=this.selectorObserverMap.get(e);i&&(i.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let i=this.selector(e),s=new Tn(document.body,i,this,{outletName:e});this.selectorObserverMap.set(e,s),s.start()}setupAttributeObserverForOutlet(e){let i=this.attributeNameForOutletName(e),s=new zi(this.scope.element,i,this);this.attributeObserverMap.set(e,s),s.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(i=>this.attributeNameForOutletName(i)===e)}get outletDependencies(){let e=new Ne;return this.router.modules.forEach(i=>{let s=i.definition.controllerConstructor;Gt(s,"outlets").forEach(r=>e.add(r,i.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(i=>e.includes(i.identifier))}hasOutlet(e,i){return!!this.getOutlet(e,i)||!!this.getOutletFromMap(e,i)}getOutlet(e,i){return this.application.getControllerForElementAndIdentifier(e,i)}getOutletFromMap(e,i){return this.outletsByName.getValuesForKey(i).find(s=>s.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},Fn=class{constructor(e,i){this.logDebugActivity=(s,n={})=>{let{identifier:r,controller:a,element:u}=this;n=Object.assign({identifier:r,controller:a,element:u},n),this.application.logDebugActivity(this.identifier,s,n)},this.module=e,this.scope=i,this.controller=new e.controllerConstructor(this),this.bindingObserver=new Cn(this,this.dispatcher),this.valueObserver=new Ln(this,this.controller),this.targetObserver=new kn(this,this),this.outletObserver=new Mn(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(s){this.handleError(s,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,i,s={}){let{identifier:n,controller:r,element:a}=this;s=Object.assign({identifier:n,controller:r,element:a},s),this.application.handleError(e,`Error ${i}`,s)}targetConnected(e,i){this.invokeControllerMethod(`${i}TargetConnected`,e)}targetDisconnected(e,i){this.invokeControllerMethod(`${i}TargetDisconnected`,e)}outletConnected(e,i,s){this.invokeControllerMethod(`${Sn(s)}OutletConnected`,e,i)}outletDisconnected(e,i,s){this.invokeControllerMethod(`${Sn(s)}OutletDisconnected`,e,i)}invokeControllerMethod(e,...i){let s=this.controller;typeof s[e]=="function"&&s[e](...i)}};function qh(t){return zh(t,Kh(t))}function zh(t,e){let i=Xh(t),s=Wh(t.prototype,e);return Object.defineProperties(i.prototype,s),i}function Kh(t){return Gt(t,"blessings").reduce((i,s)=>{let n=s(t);for(let r in n){let a=i[r]||{};i[r]=Object.assign(a,n[r])}return i},{})}function Wh(t,e){return Yh(e).reduce((i,s)=>{let n=Uh(t,e,s);return n&&Object.assign(i,{[s]:n}),i},{})}function Uh(t,e,i){let s=Object.getOwnPropertyDescriptor(t,i);if(!(s&&"value"in s)){let r=Object.getOwnPropertyDescriptor(e,i).value;return s&&(r.get=s.get||r.get,r.set=s.set||r.set),r}}var Yh=typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,Xh=(()=>{function t(i){function s(){return Reflect.construct(i,arguments,new.target)}return s.prototype=Object.create(i.prototype,{constructor:{value:s}}),Reflect.setPrototypeOf(s,i),s}function e(){let s=t(function(){this.a.call(this)});return s.prototype.a=function(){},new s}try{return e(),t}catch{return s=>class extends s{}}})();function Jh(t){return{identifier:t.identifier,controllerConstructor:qh(t.controllerConstructor)}}var In=class{constructor(e,i){this.application=e,this.definition=Jh(i),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let i=this.fetchContextForScope(e);this.connectedContexts.add(i),i.connect()}disconnectContextForScope(e){let i=this.contextsByScope.get(e);i&&(this.connectedContexts.delete(i),i.disconnect())}fetchContextForScope(e){let i=this.contextsByScope.get(e);return i||(i=new Fn(this,e),this.contextsByScope.set(e,i)),i}},Rn=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let i=this.data.get(this.getDataKey(e))||"";return Mh(i)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},Pn=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let i=this.getAttributeNameForKey(e);return this.element.getAttribute(i)}set(e,i){let s=this.getAttributeNameForKey(e);return this.element.setAttribute(s,i),this.get(e)}has(e){let i=this.getAttributeNameForKey(e);return this.element.hasAttribute(i)}delete(e){if(this.has(e)){let i=this.getAttributeNameForKey(e);return this.element.removeAttribute(i),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${Ca(e)}`}},Nn=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,i,s){let n=this.warnedKeysByObject.get(e);n||(n=new Set,this.warnedKeysByObject.set(e,n)),n.has(i)||(n.add(i),this.logger.warn(s,e))}};function Dn(t,e){return`[${t}~="${e}"]`}var Bn=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((i,s)=>i||this.findTarget(s)||this.findLegacyTarget(s),void 0)}findAll(...e){return e.reduce((i,s)=>[...i,...this.findAllTargets(s),...this.findAllLegacyTargets(s)],[])}findTarget(e){let i=this.getSelectorForTargetName(e);return this.scope.findElement(i)}findAllTargets(e){let i=this.getSelectorForTargetName(e);return this.scope.findAllElements(i)}getSelectorForTargetName(e){let i=this.schema.targetAttributeForScope(this.identifier);return Dn(i,e)}findLegacyTarget(e){let i=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(i),e)}findAllLegacyTargets(e){let i=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(i).map(s=>this.deprecate(s,e))}getLegacySelectorForTargetName(e){let i=`${this.identifier}.${e}`;return Dn(this.schema.targetAttribute,i)}deprecate(e,i){if(e){let{identifier:s}=this,n=this.schema.targetAttribute,r=this.schema.targetAttributeForScope(s);this.guide.warn(e,`target:${i}`,`Please replace ${n}="${s}.${i}" with ${r}="${i}". The ${n} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},Vn=class{constructor(e,i){this.scope=e,this.controllerElement=i}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((i,s)=>i||this.findOutlet(s),void 0)}findAll(...e){return e.reduce((i,s)=>[...i,...this.findAllOutlets(s)],[])}getSelectorForOutletName(e){let i=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(i)}findOutlet(e){let i=this.getSelectorForOutletName(e);if(i)return this.findElement(i,e)}findAllOutlets(e){let i=this.getSelectorForOutletName(e);return i?this.findAllElements(i,e):[]}findElement(e,i){return this.scope.queryElements(e).filter(n=>this.matchesElement(n,e,i))[0]}findAllElements(e,i){return this.scope.queryElements(e).filter(n=>this.matchesElement(n,e,i))}matchesElement(e,i,s){let n=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(i)&&n.split(" ").includes(s)}},jn=class t{constructor(e,i,s,n){this.targets=new Bn(this),this.classes=new Rn(this),this.data=new Pn(this),this.containsElement=r=>r.closest(this.controllerSelector)===this.element,this.schema=e,this.element=i,this.identifier=s,this.guide=new Nn(n),this.outlets=new Vn(this.documentScope,i)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return Dn(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new t(this.schema,document.documentElement,this.identifier,this.guide.logger)}},$n=class{constructor(e,i,s){this.element=e,this.schema=i,this.delegate=s,this.valueListObserver=new Wi(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:i,content:s}=e;return this.parseValueForElementAndIdentifier(i,s)}parseValueForElementAndIdentifier(e,i){let s=this.fetchScopesByIdentifierForElement(e),n=s.get(i);return n||(n=this.delegate.createScopeForElementAndIdentifier(e,i),s.set(i,n)),n}elementMatchedValue(e,i){let s=(this.scopeReferenceCounts.get(i)||0)+1;this.scopeReferenceCounts.set(i,s),s==1&&this.delegate.scopeConnected(i)}elementUnmatchedValue(e,i){let s=this.scopeReferenceCounts.get(i);s&&(this.scopeReferenceCounts.set(i,s-1),s==1&&this.delegate.scopeDisconnected(i))}fetchScopesByIdentifierForElement(e){let i=this.scopesByIdentifierByElement.get(e);return i||(i=new Map,this.scopesByIdentifierByElement.set(e,i)),i}},Hn=class{constructor(e){this.application=e,this.scopeObserver=new $n(this.element,this.schema,this),this.scopesByIdentifier=new Ne,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,i)=>e.concat(i.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let i=new In(this.application,e);this.connectModule(i);let s=e.controllerConstructor.afterLoad;s&&s.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let i=this.modulesByIdentifier.get(e);i&&this.disconnectModule(i)}getContextForElementAndIdentifier(e,i){let s=this.modulesByIdentifier.get(i);if(s)return s.contexts.find(n=>n.element==e)}proposeToConnectScopeForElementAndIdentifier(e,i){let s=this.scopeObserver.parseValueForElementAndIdentifier(e,i);s?this.scopeObserver.elementMatchedValue(s.element,s):console.error(`Couldn't find or create scope for identifier: "${i}" and element:`,e)}handleError(e,i,s){this.application.handleError(e,i,s)}createScopeForElementAndIdentifier(e,i){return new jn(this.schema,e,i,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let i=this.modulesByIdentifier.get(e.identifier);i&&i.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let i=this.modulesByIdentifier.get(e.identifier);i&&i.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(s=>e.connectContextForScope(s))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(s=>e.disconnectContextForScope(s))}},Zh={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Sa("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),Sa("0123456789".split("").map(t=>[t,t])))};function Sa(t){return t.reduce((e,[i,s])=>Object.assign(Object.assign({},e),{[i]:s}),{})}var Ui=class{constructor(e=document.documentElement,i=Zh){this.logger=console,this.debug=!1,this.logDebugActivity=(s,n,r={})=>{this.debug&&this.logFormattedMessage(s,n,r)},this.element=e,this.schema=i,this.dispatcher=new En(this),this.router=new Hn(this),this.actionDescriptorFilters=Object.assign({},xh)}static start(e,i){let s=new this(e,i);return s.start(),s}async start(){await Gh(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,i){this.load({identifier:e,controllerConstructor:i})}registerActionOption(e,i){this.actionDescriptorFilters[e]=i}load(e,...i){(Array.isArray(e)?e:[e,...i]).forEach(n=>{n.controllerConstructor.shouldLoad&&this.router.loadDefinition(n)})}unload(e,...i){(Array.isArray(e)?e:[e,...i]).forEach(n=>this.router.unloadIdentifier(n))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,i){let s=this.router.getContextForElementAndIdentifier(e,i);return s?s.controller:null}handleError(e,i,s){var n;this.logger.error(`%s

%o

%o`,i,e,s),(n=window.onerror)===null||n===void 0||n.call(window,i,"",0,0,e)}logFormattedMessage(e,i,s={}){s=Object.assign({application:this},s),this.logger.groupCollapsed(`${e} #${i}`),this.logger.log("details:",Object.assign({},s)),this.logger.groupEnd()}};function Gh(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function Qh(t){return Gt(t,"classes").reduce((i,s)=>Object.assign(i,ed(s)),{})}function ed(t){return{[`${t}Class`]:{get(){let{classes:e}=this;if(e.has(t))return e.get(t);{let i=e.getAttributeName(t);throw new Error(`Missing attribute "${i}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${Zt(t)}Class`]:{get(){return this.classes.has(t)}}}}function td(t){return Gt(t,"outlets").reduce((i,s)=>Object.assign(i,id(s)),{})}function _a(t,e,i){return t.application.getControllerForElementAndIdentifier(e,i)}function Aa(t,e,i){let s=_a(t,e,i);if(s||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,i),s=_a(t,e,i),s))return s}function id(t){let e=Sn(t);return{[`${e}Outlet`]:{get(){let i=this.outlets.find(t),s=this.outlets.getSelectorForOutletName(t);if(i){let n=Aa(this,i,t);if(n)return n;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${s}".`)}},[`${e}Outlets`]:{get(){let i=this.outlets.findAll(t);return i.length>0?i.map(s=>{let n=Aa(this,s,t);if(n)return n;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,s)}).filter(s=>s):[]}},[`${e}OutletElement`]:{get(){let i=this.outlets.find(t),s=this.outlets.getSelectorForOutletName(t);if(i)return i;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${s}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${Zt(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function sd(t){return Gt(t,"targets").reduce((i,s)=>Object.assign(i,nd(s)),{})}function nd(t){return{[`${t}Target`]:{get(){let e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${Zt(t)}Target`]:{get(){return this.targets.has(t)}}}}function rd(t){let e=jh(t,"values"),i={valueDescriptorMap:{get(){return e.reduce((s,n)=>{let r=Ma(n,this.identifier),a=this.data.getAttributeNameForKey(r.key);return Object.assign(s,{[a]:r})},{})}}};return e.reduce((s,n)=>Object.assign(s,od(n)),i)}function od(t,e){let i=Ma(t,e),{key:s,name:n,reader:r,writer:a}=i;return{[n]:{get(){let u=this.data.get(s);return u!==null?r(u):i.defaultValue},set(u){u===void 0?this.data.delete(s):this.data.set(s,a(u))}},[`has${Zt(n)}`]:{get(){return this.data.has(s)||i.hasCustomDefaultValue}}}}function Ma([t,e],i){return ud({controller:i,token:t,typeDefinition:e})}function Yi(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function Jt(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function ad(t){let{controller:e,token:i,typeObject:s}=t,n=ya(s.type),r=ya(s.default),a=n&&r,u=n&&!r,f=!n&&r,g=Yi(s.type),v=Jt(t.typeObject.default);if(u)return g;if(f)return v;if(g!==v){let E=e?`${e}.${i}`:i;throw new Error(`The specified default value for the Stimulus Value "${E}" must match the defined type "${g}". The provided default value of "${s.default}" is of type "${v}".`)}if(a)return g}function ld(t){let{controller:e,token:i,typeDefinition:s}=t,r=ad({controller:e,token:i,typeObject:s}),a=Jt(s),u=Yi(s),f=r||a||u;if(f)return f;let g=e?`${e}.${s}`:i;throw new Error(`Unknown value type "${g}" for "${i}" value`)}function cd(t){let e=Yi(t);if(e)return xa[e];let i=_n(t,"default"),s=_n(t,"type"),n=t;if(i)return n.default;if(s){let{type:r}=n,a=Yi(r);if(a)return xa[a]}return t}function ud(t){let{token:e,typeDefinition:i}=t,s=`${Ca(e)}-value`,n=ld(t);return{type:n,key:s,name:qn(s),get defaultValue(){return cd(i)},get hasCustomDefaultValue(){return Jt(i)!==void 0},reader:hd[n],writer:Ta[n]||Ta.default}}var xa={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},hd={array(t){let e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${Jt(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){let e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${Jt(e)}"`);return e},string(t){return t}},Ta={default:dd,array:Oa,object:Oa};function Oa(t){return JSON.stringify(t)}function dd(t){return`${t}`}var ee=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,i){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:i=this.element,detail:s={},prefix:n=this.identifier,bubbles:r=!0,cancelable:a=!0}={}){let u=n?`${n}:${e}`:e,f=new CustomEvent(u,{detail:s,bubbles:r,cancelable:a});return i.dispatchEvent(f),f}};ee.blessings=[Qh,sd,rd,td];ee.targets=[];ee.outlets=[];ee.values={};var Xi=class extends ee{static targets=["links"];connect(){this.generateDirectory(),this.hightLightActiveLink(),window.addEventListener("scroll",this.hightLightActiveLink.bind(this))}generateDirectory(){let t=document.getElementsByClassName("ProseMirror")[0],e=Array.from(t.querySelectorAll("h1, h2, h3, h4, h5, h6")),i=this.buildDirectoryTree(e);this.renderDirectory(i,this.linksTarget)}buildDirectoryTree(t){let e={level:0,children:[]},i=e;return t.forEach((s,n)=>{let r=parseInt(s.tagName.substr(1),10),a=this.generateUniqueId(s,r,n),u={level:r,id:a,text:s.textContent,children:[]};if(r>i.level)i.children.push(u);else{for(;r<=i.level&&i!==e;)i=i.parent;i.children.push(u)}u.parent=i,i=u}),e}renderDirectory(t,e,i=0){if(t.children.length==0){let n=document.querySelector('[data-controller="menu"]');n&&n.remove();return}let s=document.createElement("ul");return s.classList="",t.children.forEach(n=>{let r=document.createElement("li");r.classList="space-y-3";let a=document.createElement("a");a.style.paddingLeft=`${(i+1)*8}px`,a.href=`#${n.id}`,a.setAttribute("data-turbo",!1),a.textContent=n.text,a.classList="relative line-clamp-1 font-normal my-2 before:absolute before:-left-px before:top-2 before:bottom-2 before:w-0.5",a.addEventListener("click",f=>{f.preventDefault(),this.navigateToAnchor(a.getAttribute("href"))}),r.appendChild(a),s.appendChild(r);let u=document.getElementById(n.id);if(u.classList="flex group",u.insertAdjacentHTML("beforeend",'<div data-controller="clipboard" data-clipboard-success-content-value=" Copied!"><input type="hidden" value="'+window.location.href.split("#")[0]+"#"+n.id+`" data-clipboard-target="source" /><button type="button" data-action="clipboard#copy" data-clipboard-target="button" class="flex ml-1 opacity-0 group-hover:opacity-100">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-full w-5 text-gray-300 group-hover:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
      </svg>
    </button></div>`),u.insertAdjacentHTML("beforeend",'<a name="'+n.id+'"></a>'),n.children.length>0){let f=this.renderDirectory(n,r,i+1);r.appendChild(f)}}),e.appendChild(s),s}generateUniqueId(t,e,i){if(t.id)return t.id;{let s=`h${e}-${i}`;return t.id=s,s}}hightLightActiveLink(){let t=Array.from(document.querySelectorAll("h1, h2, h3, h4, h5, h6")),e=Array.from(this.linksTarget.querySelectorAll("a")),i=null;for(let s=0;s<t.length;s++){let n=t[s],r=e.find(a=>a.getAttribute("href")===`#${n.id}`);if(r&&this.isHeadingInView(n)){i=r;break}}e.forEach(s=>s.classList.remove("text-primary")),i&&i.classList.add("text-primary")}isHeadingInView(t){let e=t.getBoundingClientRect();return e.top>=this.headerHeight()&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}navigateToAnchor(t){let e=document.querySelector(t);if(e){let i=this.headerHeight(),n=e.getBoundingClientRect().top-i,r={top:n,behavior:"smooth"};e.scrollIntoView({behavior:"smooth",block:"start"}),window.scrollBy(0,-i),window.scrollBy(0,n)}}headerHeight(){let t=document.getElementById("header"),e=0;return t&&window.getComputedStyle(t).getPropertyValue("position")==="fixed"&&(e=t.offsetHeight),e}};var Ia=pl(Fa());var Ji=class extends ee{connect(){let t=this.element.getElementsByTagName("img");Array.from(t).forEach(i=>{i.addEventListener("click",this.openViewer)})}openViewer=t=>{let e=t.currentTarget;new Ia.default(this.element,{toolbar:{zoomIn:1,zoomOut:1,oneToOne:1,reset:1,prev:1,play:{show:1,size:"large"},next:1,rotateLeft:1,rotateRight:1,flipHorizontal:1,flipVertical:1}}).view(e)}};var Zi=class extends ee{static targets=["menuList"];connect(){this.addActiveClassToCurrentPage()}toggleActive(t){let e=t.currentTarget.closest("li");this.deactivateAll(),this.activateAncestors(e)}activateAncestors(t){t.classList.add("active");let e=t.closest("ul").previousElementSibling;for(;e&&e.tagName==="LI";)e.classList.add("active"),e=e.closest("ul").previousElementSibling}deactivateAll(){this.menuListTarget.querySelectorAll("li").forEach(t=>{t.classList.remove("active")})}addActiveClassToCurrentPage(){let t=window.location.pathname,e=setInterval(()=>{let s=Array.from(this.menuListTarget.querySelectorAll("li")).find(n=>{let r=n.querySelector("a");return r&&r.pathname===t});s&&(clearInterval(e),this.activateAncestors(s))},100)}};var Wn=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Un(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on".concat(e),i)}function Qt(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on".concat(e),i)}function Na(t,e){let i=e.slice(0,e.length-1);for(let s=0;s<i.length;s++)i[s]=t[i[s].toLowerCase()];return i}function Da(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");let e=t.split(","),i=e.lastIndexOf("");for(;i>=0;)e[i-1]+=",",e.splice(i,1),i=e.lastIndexOf("");return e}function fd(t,e){let i=t.length>=e.length?t:e,s=t.length>=e.length?e:t,n=!0;for(let r=0;r<i.length;r++)s.indexOf(i[r])===-1&&(n=!1);return n}var ti={backspace:8,"\u232B":8,tab:9,clear:12,enter:13,"\u21A9":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":Wn?173:189,"=":Wn?61:187,";":Wn?59:186,"'":222,"[":219,"]":221,"\\":220},Te={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},Xn={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},ne={16:!1,18:!1,17:!1,91:!1},W={};for(let t=1;t<20;t++)ti["f".concat(t)]=111+t;var V=[],ei=null,Ba="all",De=new Map,si=t=>ti[t.toLowerCase()]||Te[t.toLowerCase()]||t.toUpperCase().charCodeAt(0),md=t=>Object.keys(ti).find(e=>ti[e]===t),pd=t=>Object.keys(Te).find(e=>Te[e]===t);function Va(t){Ba=t||"all"}function ii(){return Ba||"all"}function gd(){return V.slice(0)}function vd(){return V.map(t=>md(t)||pd(t)||String.fromCharCode(t))}function bd(){let t=[];return Object.keys(W).forEach(e=>{W[e].forEach(i=>{let{key:s,scope:n,mods:r,shortcut:a}=i;t.push({scope:n,shortcut:a,mods:r,keys:s.split("+").map(u=>si(u))})})}),t}function yd(t){let e=t.target||t.srcElement,{tagName:i}=e,s=!0,n=i==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(n||i==="TEXTAREA"||i==="SELECT")&&!e.readOnly)&&(s=!1),s}function wd(t){return typeof t=="string"&&(t=si(t)),V.indexOf(t)!==-1}function Ed(t,e){let i,s;t||(t=ii());for(let n in W)if(Object.prototype.hasOwnProperty.call(W,n))for(i=W[n],s=0;s<i.length;)i[s].scope===t?i.splice(s,1).forEach(a=>{let{element:u}=a;return Jn(u)}):s++;ii()===t&&Va(e||"all")}function Sd(t){let e=t.keyCode||t.which||t.charCode,i=V.indexOf(e);if(i>=0&&V.splice(i,1),t.key&&t.key.toLowerCase()==="meta"&&V.splice(0,V.length),(e===93||e===224)&&(e=91),e in ne){ne[e]=!1;for(let s in Te)Te[s]===e&&(Be[s]=!1)}}function ja(t){if(typeof t>"u")Object.keys(W).forEach(n=>{Array.isArray(W[n])&&W[n].forEach(r=>Gi(r)),delete W[n]}),Jn(null);else if(Array.isArray(t))t.forEach(n=>{n.key&&Gi(n)});else if(typeof t=="object")t.key&&Gi(t);else if(typeof t=="string"){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];let[n,r]=i;typeof n=="function"&&(r=n,n=""),Gi({key:t,scope:n,method:r,splitKey:"+"})}}var Gi=t=>{let{key:e,scope:i,method:s,splitKey:n="+"}=t;Da(e).forEach(a=>{let u=a.split(n),f=u.length,g=u[f-1],v=g==="*"?"*":si(g);if(!W[v])return;i||(i=ii());let E=f>1?Na(Te,u):[],S=[];W[v]=W[v].filter(L=>{let x=(s?L.method===s:!0)&&L.scope===i&&fd(L.mods,E);return x&&S.push(L.element),!x}),S.forEach(L=>Jn(L))})};function Ra(t,e,i,s){if(e.element!==s)return;let n;if(e.scope===i||e.scope==="all"){n=e.mods.length>0;for(let r in ne)Object.prototype.hasOwnProperty.call(ne,r)&&(!ne[r]&&e.mods.indexOf(+r)>-1||ne[r]&&e.mods.indexOf(+r)===-1)&&(n=!1);(e.mods.length===0&&!ne[16]&&!ne[18]&&!ne[17]&&!ne[91]||n||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(V),e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}function Pa(t,e){let i=W["*"],s=t.keyCode||t.which||t.charCode;if(!Be.filter.call(this,t))return;if((s===93||s===224)&&(s=91),V.indexOf(s)===-1&&s!==229&&V.push(s),["ctrlKey","altKey","shiftKey","metaKey"].forEach(u=>{let f=Xn[u];t[u]&&V.indexOf(f)===-1?V.push(f):!t[u]&&V.indexOf(f)>-1?V.splice(V.indexOf(f),1):u==="metaKey"&&t[u]&&V.length===3&&(t.ctrlKey||t.shiftKey||t.altKey||(V=V.slice(V.indexOf(f))))}),s in ne){ne[s]=!0;for(let u in Te)Te[u]===s&&(Be[u]=!0);if(!i)return}for(let u in ne)Object.prototype.hasOwnProperty.call(ne,u)&&(ne[u]=t[Xn[u]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(V.indexOf(17)===-1&&V.push(17),V.indexOf(18)===-1&&V.push(18),ne[17]=!0,ne[18]=!0);let n=ii();if(i)for(let u=0;u<i.length;u++)i[u].scope===n&&(t.type==="keydown"&&i[u].keydown||t.type==="keyup"&&i[u].keyup)&&Ra(t,i[u],n,e);if(!(s in W))return;let r=W[s],a=r.length;for(let u=0;u<a;u++)if((t.type==="keydown"&&r[u].keydown||t.type==="keyup"&&r[u].keyup)&&r[u].key){let f=r[u],{splitKey:g}=f,v=f.key.split(g),E=[];for(let S=0;S<v.length;S++)E.push(si(v[S]));E.sort().join("")===V.sort().join("")&&Ra(t,f,n,e)}}function Be(t,e,i){V=[];let s=Da(t),n=[],r="all",a=document,u=0,f=!1,g=!0,v="+",E=!1,S=!1;for(i===void 0&&typeof e=="function"&&(i=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(r=e.scope),e.element&&(a=e.element),e.keyup&&(f=e.keyup),e.keydown!==void 0&&(g=e.keydown),e.capture!==void 0&&(E=e.capture),typeof e.splitKey=="string"&&(v=e.splitKey),e.single===!0&&(S=!0)),typeof e=="string"&&(r=e),S&&ja(t,r);u<s.length;u++)t=s[u].split(v),n=[],t.length>1&&(n=Na(Te,t)),t=t[t.length-1],t=t==="*"?"*":si(t),t in W||(W[t]=[]),W[t].push({keyup:f,keydown:g,scope:r,mods:n,shortcut:s[u],method:i,key:s[u],splitKey:v,element:a});if(typeof a<"u"&&window){if(!De.has(a)){let L=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return Pa(x,a)},H=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;Pa(x,a),Sd(x)};De.set(a,{keydownListener:L,keyupListenr:H,capture:E}),Un(a,"keydown",L,E),Un(a,"keyup",H,E)}if(!ei){let L=()=>{V=[]};ei={listener:L,capture:E},Un(window,"focus",L,E)}}}function _d(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(W).forEach(i=>{W[i].filter(n=>n.scope===e&&n.shortcut===t).forEach(n=>{n&&n.method&&n.method()})})}function Jn(t){let e=Object.values(W).flat();if(e.findIndex(s=>{let{element:n}=s;return n===t})<0){let{keydownListener:s,keyupListenr:n,capture:r}=De.get(t)||{};s&&n&&(Qt(t,"keyup",n,r),Qt(t,"keydown",s,r),De.delete(t))}if((e.length<=0||De.size<=0)&&(Object.keys(De).forEach(n=>{let{keydownListener:r,keyupListenr:a,capture:u}=De.get(n)||{};r&&a&&(Qt(n,"keyup",a,u),Qt(n,"keydown",r,u),De.delete(n))}),De.clear(),Object.keys(W).forEach(n=>delete W[n]),ei)){let{listener:n,capture:r}=ei;Qt(window,"focus",n,r),ei=null}}var Yn={getPressedKeyString:vd,setScope:Va,getScope:ii,deleteScope:Ed,getPressedKeyCodes:gd,getAllKeyCodes:bd,isPressed:wd,filter:yd,trigger:_d,unbind:ja,keyMap:ti,modifier:Te,modifierMap:Xn};for(let t in Yn)Object.prototype.hasOwnProperty.call(Yn,t)&&(Be[t]=Yn[t]);if(typeof window<"u"){let t=window.hotkeys;Be.noConflict=e=>(e&&window.hotkeys===Be&&(window.hotkeys=t),Be),window.hotkeys=Be}var Zn=class extends ee{};Zn.debounces=[];var Gn=class extends ee{};Gn.throttles=[];var Ad={enterFromClass:"enter",enterActiveClass:"enterStart",enterToClass:"enterEnd",leaveFromClass:"leave",leaveActiveClass:"leaveStart",leaveToClass:"leaveEnd"},xd={transitioned:!1,hiddenClass:"hidden",preserveOriginalClass:!0,removeToClasses:!0},$a=(t,e={})=>{var i,s,n;let r=t,a=r.element.dataset.transitionTarget,u;a&&(u=r[`${a}Target`]);let f=e?.element||u||r.element;if(!(f instanceof HTMLElement||f instanceof SVGElement))return;let g=f.dataset,v=parseInt(g.leaveAfter||"")||e.leaveAfter||0,{transitioned:E,hiddenClass:S,preserveOriginalClass:L,removeToClasses:H}=Object.assign({},xd,e),x=(i=r.enter)===null||i===void 0?void 0:i.bind(r),T=(s=r.leave)===null||s===void 0?void 0:s.bind(r),I=(n=r.toggleTransition)===null||n===void 0?void 0:n.bind(r);async function F(M){if(r.transitioned)return;r.transitioned=!0,x&&x(M);let ie=Ye("enterFrom",e,g),Ce=Ye("enterActive",e,g),Le=Ye("enterTo",e,g),Z=Ye("leaveTo",e,g);S&&f.classList.remove(S),H||ge(f,Z),await le(f,ie,Ce,Le,S,L,H),v>0&&setTimeout(()=>{P(M)},v)}async function P(M){if(!r.transitioned)return;r.transitioned=!1,T&&T(M);let ie=Ye("leaveFrom",e,g),Ce=Ye("leaveActive",e,g),Le=Ye("leaveTo",e,g),Z=Ye("enterTo",e,g);H||ge(f,Z),await le(f,ie,Ce,Le,S,L,H),S&&f.classList.add(S)}function te(M){I&&I(M),r.transitioned?P():F()}async function le(M,ie,Ce,Le,Z,Xe,Ve){let Je=[];Xe&&(ie.forEach(ce=>M.classList.contains(ce)&&ce!==Z&&Je.push(ce)),Ce.forEach(ce=>M.classList.contains(ce)&&ce!==Z&&Je.push(ce)),Le.forEach(ce=>M.classList.contains(ce)&&ce!==Z&&Je.push(ce))),Oe(M,ie),ge(M,Je),Oe(M,Ce),await Od(),ge(M,ie),Oe(M,Le),await Td(M),ge(M,Ce),Ve&&ge(M,Le),Oe(M,Je)}function pe(){r.transitioned=E,E?(S&&f.classList.remove(S),F()):(S&&f.classList.add(S),P())}function Oe(M,ie){ie.length>0&&M.classList.add(...ie)}function ge(M,ie){ie.length>0&&M.classList.remove(...ie)}return pe(),Object.assign(r,{enter:F,leave:P,toggleTransition:te}),[F,P,te]};function Ye(t,e,i){let s=`transition${t[0].toUpperCase()}${t.substr(1)}`,n=Ad[t],r=e[t]||i[s]||i[n]||" ";return Cd(r)?[]:r.split(" ")}async function Td(t){return new Promise(e=>{let i=Number(getComputedStyle(t).transitionDuration.split(",")[0].replace("s",""))*1e3;setTimeout(()=>{e(i)},i)})}async function Od(){return new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(t)})})}function Cd(t){return t.length===0||!t.trim()}var ni=class extends ee{connect(){$a(this,{element:this.menuTarget})}toggle(){this.toggleTransition()}hide(e){!this.element.contains(e.target)&&!this.menuTarget.classList.contains("hidden")&&this.leave()}};ni.targets=["menu"];var Qn=class extends ee{connect(){this.hasButtonTarget&&(this.originalContent=this.buttonTarget.innerHTML)}copy(e){e.preventDefault();let i=this.sourceTarget.innerHTML||this.sourceTarget.value;navigator.clipboard.writeText(i).then(()=>this.copied())}copied(){this.hasButtonTarget&&(this.timeout&&clearTimeout(this.timeout),this.buttonTarget.innerHTML=this.successContentValue,this.timeout=setTimeout(()=>{this.buttonTarget.innerHTML=this.originalContent},this.successDurationValue))}};Qn.targets=["button","source"],Qn.values={successContent:String,successDuration:{type:Number,default:2e3}};var Ha=Qn;window.Alpine=$i;$i.plugin(ba);$i.start();var Tt=Ui.start();window.Stimulus=Tt;Tt.register("menu",Xi);Tt.register("view_images",Ji);Tt.register("navtree",Zi);Tt.register("dropdown",ni);Tt.register("clipboard",Ha);})();
/*! Bundled license information:

viewerjs/dist/viewer.js:
  (*!
   * Viewer.js v1.11.6
   * https://fengyuanchen.github.io/viewerjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2023-09-17T03:16:38.052Z
   *)

stimulus-use/dist/index.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
