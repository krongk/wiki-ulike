(()=>{var yl=Object.create;var Rs=Object.defineProperty;var wl=Object.getOwnPropertyDescriptor;var El=Object.getOwnPropertyNames;var Sl=Object.getPrototypeOf,Al=Object.prototype.hasOwnProperty;var _l=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Tl=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of El(e))!Al.call(t,n)&&n!==i&&Rs(t,n,{get:()=>e[n],enumerable:!(r=wl(e,n))||r.enumerable});return t};var xl=(t,e,i)=>(i=t!=null?yl(Sl(t)):{},Tl(e||!t||!t.__esModule?Rs(i,"default",{value:t,enumerable:!0}):i,t));var ja=_l((Jn,Zn)=>{(function(t,e){typeof Jn=="object"&&typeof Zn<"u"?Zn.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Viewer=e())})(Jn,function(){"use strict";function t(d,a){var u=Object.keys(d);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(d);a&&(c=c.filter(function(f){return Object.getOwnPropertyDescriptor(d,f).enumerable})),u.push.apply(u,c)}return u}function e(d){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?t(Object(u),!0).forEach(function(c){o(d,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach(function(c){Object.defineProperty(d,c,Object.getOwnPropertyDescriptor(u,c))})}return d}function i(d){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i(d)}function r(d,a){if(!(d instanceof a))throw new TypeError("Cannot call a class as a function")}function n(d,a){for(var u=0;u<a.length;u++){var c=a[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(d,h(c.key),c)}}function s(d,a,u){return a&&n(d.prototype,a),u&&n(d,u),Object.defineProperty(d,"prototype",{writable:!1}),d}function o(d,a,u){return a=h(a),a in d?Object.defineProperty(d,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):d[a]=u,d}function l(d,a){if(typeof d!="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var c=u.call(d,a||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(d)}function h(d){var a=l(d,"string");return typeof a=="symbol"?a:String(a)}var p={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},v='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',y=typeof window<"u"&&typeof window.document<"u",b=y?window:{},C=y&&b.document.documentElement?"ontouchstart"in b.document.documentElement:!1,B=y?"PointerEvent"in b:!1,A="viewer",x="move",O="switch",k="zoom",I="".concat(A,"-active"),U="".concat(A,"-close"),Y="".concat(A,"-fade"),ce="".concat(A,"-fixed"),ye="".concat(A,"-fullscreen"),Z="".concat(A,"-fullscreen-exit"),P="".concat(A,"-hide"),ne="".concat(A,"-hide-md-down"),ke="".concat(A,"-hide-sm-down"),Me="".concat(A,"-hide-xs-down"),ee="".concat(A,"-in"),Ze="".concat(A,"-invisible"),$e="".concat(A,"-loading"),Ge="".concat(A,"-move"),de="".concat(A,"-open"),ht="".concat(A,"-show"),X="".concat(A,"-transition"),dt="click",sr="dblclick",ls="dragstart",cs="focusin",us="keydown",ve="load",Qe="error",el=C?"touchend touchcancel":"mouseup",tl=C?"touchmove":"mousemove",il=C?"touchstart":"mousedown",hs=B?"pointerdown":il,ds=B?"pointermove":tl,fs=B?"pointerup pointercancel":el,ms="resize",we="transitionend",ps="wheel",gs="ready",vs="show",bs="shown",ys="hide",ws="hidden",Es="view",Mt="viewed",Ss="move",As="moved",_s="rotate",Ts="rotated",xs="scale",Cs="scaled",Os="zoom",Ls="zoomed",ks="play",Ms="stop",hi="".concat(A,"Action"),or=/\s\s*/,di=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Ft(d){return typeof d=="string"}var rl=Number.isNaN||b.isNaN;function H(d){return typeof d=="number"&&!rl(d)}function ft(d){return typeof d>"u"}function mt(d){return i(d)==="object"&&d!==null}var nl=Object.prototype.hasOwnProperty;function pt(d){if(!mt(d))return!1;try{var a=d.constructor,u=a.prototype;return a&&u&&nl.call(u,"isPrototypeOf")}catch{return!1}}function N(d){return typeof d=="function"}function V(d,a){if(d&&N(a))if(Array.isArray(d)||H(d.length)){var u=d.length,c;for(c=0;c<u&&a.call(d,d[c],c,d)!==!1;c+=1);}else mt(d)&&Object.keys(d).forEach(function(f){a.call(d,d[f],f,d)});return d}var ge=Object.assign||function(a){for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];return mt(a)&&c.length>0&&c.forEach(function(m){mt(m)&&Object.keys(m).forEach(function(g){a[g]=m[g]})}),a},sl=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Ee(d,a){var u=d.style;V(a,function(c,f){sl.test(f)&&H(c)&&(c+="px"),u[f]=c})}function ol(d){return Ft(d)?d.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):d}function gt(d,a){return!d||!a?!1:d.classList?d.classList.contains(a):d.className.indexOf(a)>-1}function L(d,a){if(!(!d||!a)){if(H(d.length)){V(d,function(c){L(c,a)});return}if(d.classList){d.classList.add(a);return}var u=d.className.trim();u?u.indexOf(a)<0&&(d.className="".concat(u," ").concat(a)):d.className=a}}function R(d,a){if(!(!d||!a)){if(H(d.length)){V(d,function(u){R(u,a)});return}if(d.classList){d.classList.remove(a);return}d.className.indexOf(a)>=0&&(d.className=d.className.replace(a,""))}}function It(d,a,u){if(a){if(H(d.length)){V(d,function(c){It(c,a,u)});return}u?L(d,a):R(d,a)}}var al=/([a-z\d])([A-Z])/g;function ar(d){return d.replace(al,"$1-$2").toLowerCase()}function vt(d,a){return mt(d[a])?d[a]:d.dataset?d.dataset[a]:d.getAttribute("data-".concat(ar(a)))}function lr(d,a,u){mt(u)?d[a]=u:d.dataset?d.dataset[a]=u:d.setAttribute("data-".concat(ar(a)),u)}var Fs=function(){var d=!1;if(y){var a=!1,u=function(){},c=Object.defineProperty({},"once",{get:function(){return d=!0,a},set:function(m){a=m}});b.addEventListener("test",u,c),b.removeEventListener("test",u,c)}return d}();function D(d,a,u){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=u;a.trim().split(or).forEach(function(m){if(!Fs){var g=d.listeners;g&&g[m]&&g[m][u]&&(f=g[m][u],delete g[m][u],Object.keys(g[m]).length===0&&delete g[m],Object.keys(g).length===0&&delete d.listeners)}d.removeEventListener(m,f,c)})}function M(d,a,u){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=u;a.trim().split(or).forEach(function(m){if(c.once&&!Fs){var g=d.listeners,E=g===void 0?{}:g;f=function(){delete E[m][u],d.removeEventListener(m,f,c);for(var S=arguments.length,w=new Array(S),T=0;T<S;T++)w[T]=arguments[T];u.apply(d,w)},E[m]||(E[m]={}),E[m][u]&&d.removeEventListener(m,E[m][u],c),E[m][u]=f,d.listeners=E}d.addEventListener(m,f,c)})}function G(d,a,u,c){var f;return N(Event)&&N(CustomEvent)?f=new CustomEvent(a,e({bubbles:!0,cancelable:!0,detail:u},c)):(f=document.createEvent("CustomEvent"),f.initCustomEvent(a,!0,!0,u)),d.dispatchEvent(f)}function ll(d){var a=d.getBoundingClientRect();return{left:a.left+(window.pageXOffset-document.documentElement.clientLeft),top:a.top+(window.pageYOffset-document.documentElement.clientTop)}}function fi(d){var a=d.rotate,u=d.scaleX,c=d.scaleY,f=d.translateX,m=d.translateY,g=[];H(f)&&f!==0&&g.push("translateX(".concat(f,"px)")),H(m)&&m!==0&&g.push("translateY(".concat(m,"px)")),H(a)&&a!==0&&g.push("rotate(".concat(a,"deg)")),H(u)&&u!==1&&g.push("scaleX(".concat(u,")")),H(c)&&c!==1&&g.push("scaleY(".concat(c,")"));var E=g.length?g.join(" "):"none";return{WebkitTransform:E,msTransform:E,transform:E}}function cl(d){return Ft(d)?decodeURIComponent(d.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var cr=b.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(b.navigator.userAgent);function Is(d,a,u){var c=document.createElement("img");if(d.naturalWidth&&!cr)return u(d.naturalWidth,d.naturalHeight),c;var f=document.body||document.documentElement;return c.onload=function(){u(c.width,c.height),cr||f.removeChild(c)},V(a.inheritedAttributes,function(m){var g=d.getAttribute(m);g!==null&&c.setAttribute(m,g)}),c.src=d.src,cr||(c.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",f.appendChild(c)),c}function mi(d){switch(d){case 2:return Me;case 3:return ke;case 4:return ne;default:return""}}function ul(d){var a=e({},d),u=[];return V(d,function(c,f){delete a[f],V(a,function(m){var g=Math.abs(c.startX-m.startX),E=Math.abs(c.startY-m.startY),_=Math.abs(c.endX-m.endX),S=Math.abs(c.endY-m.endY),w=Math.sqrt(g*g+E*E),T=Math.sqrt(_*_+S*S),F=(T-w)/w;u.push(F)})}),u.sort(function(c,f){return Math.abs(c)<Math.abs(f)}),u[0]}function pi(d,a){var u=d.pageX,c=d.pageY,f={endX:u,endY:c};return a?f:e({timeStamp:Date.now(),startX:u,startY:c},f)}function hl(d){var a=0,u=0,c=0;return V(d,function(f){var m=f.startX,g=f.startY;a+=m,u+=g,c+=1}),a/=c,u/=c,{pageX:a,pageY:u}}var dl={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var a=this.element.ownerDocument,u=a.body||a.documentElement;this.body=u,this.scrollbarWidth=window.innerWidth-a.documentElement.clientWidth,this.initialBodyPaddingRight=u.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(u).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var a=this.options,u=this.parent,c;a.inline&&(c={width:Math.max(u.offsetWidth,a.minWidth),height:Math.max(u.offsetHeight,a.minHeight)},this.parentData=c),(this.fulled||!c)&&(c=this.containerData),this.viewerData=ge({},c)},renderViewer:function(){this.options.inline&&!this.fulled&&Ee(this.viewer,this.viewerData)},initList:function(){var a=this,u=this.element,c=this.options,f=this.list,m=[];f.innerHTML="",V(this.images,function(g,E){var _=g.src,S=g.alt||cl(_),w=a.getImageURL(g);if(_||w){var T=document.createElement("li"),F=document.createElement("img");V(c.inheritedAttributes,function(Q){var J=g.getAttribute(Q);J!==null&&F.setAttribute(Q,J)}),c.navbar&&(F.src=_||w),F.alt=S,F.setAttribute("data-original-url",w||_),T.setAttribute("data-index",E),T.setAttribute("data-viewer-action","view"),T.setAttribute("role","button"),c.keyboard&&T.setAttribute("tabindex",0),T.appendChild(F),f.appendChild(T),m.push(T)}}),this.items=m,V(m,function(g){var E=g.firstElementChild,_,S;lr(E,"filled",!0),c.loading&&L(g,$e),M(E,ve,_=function(T){D(E,Qe,S),c.loading&&R(g,$e),a.loadImage(T)},{once:!0}),M(E,Qe,S=function(){D(E,ve,_),c.loading&&R(g,$e)},{once:!0})}),c.transition&&M(u,Mt,function(){L(f,X)},{once:!0})},renderList:function(){var a=this.index,u=this.items[a];if(u){var c=u.nextElementSibling,f=parseInt(window.getComputedStyle(c||u).marginLeft,10),m=u.offsetWidth,g=m+f;Ee(this.list,ge({width:g*this.length-f},fi({translateX:(this.viewerData.width-m)/2-g*a})))}},resetList:function(){var a=this.list;a.innerHTML="",R(a,X),Ee(a,fi({translateX:0}))},initImage:function(a){var u=this,c=this.options,f=this.image,m=this.viewerData,g=this.footer.offsetHeight,E=m.width,_=Math.max(m.height-g,g),S=this.imageData||{},w;this.imageInitializing={abort:function(){w.onload=null}},w=Is(f,c,function(T,F){var Q=T/F,J=Math.max(0,Math.min(1,c.initialCoverage)),z=E,ae=_;u.imageInitializing=!1,_*Q>E?ae=E/Q:z=_*Q,J=H(J)?J:.9,z=Math.min(z*J,T),ae=Math.min(ae*J,F);var fe=(E-z)/2,me=(_-ae)/2,q={left:fe,top:me,x:fe,y:me,width:z,height:ae,oldRatio:1,ratio:z/T,aspectRatio:Q,naturalWidth:T,naturalHeight:F},Fe=ge({},q);c.rotatable&&(q.rotate=S.rotate||0,Fe.rotate=0),c.scalable&&(q.scaleX=S.scaleX||1,q.scaleY=S.scaleY||1,Fe.scaleX=1,Fe.scaleY=1),u.imageData=q,u.initialImageData=Fe,a&&a()})},renderImage:function(a){var u=this,c=this.image,f=this.imageData;if(Ee(c,ge({width:f.width,height:f.height,marginLeft:f.x,marginTop:f.y},fi(f))),a)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&gt(c,X)){var m=function(){u.imageRendering=!1,a()};this.imageRendering={abort:function(){D(c,we,m)}},M(c,we,m,{once:!0})}else a()},resetImage:function(){var a=this.image;a&&(this.viewing&&this.viewing.abort(),a.parentNode.removeChild(a),this.image=null,this.title.innerHTML="")}},fl={bind:function(){var a=this.options,u=this.viewer,c=this.canvas,f=this.element.ownerDocument;M(u,dt,this.onClick=this.click.bind(this)),M(u,ls,this.onDragStart=this.dragstart.bind(this)),M(c,hs,this.onPointerDown=this.pointerdown.bind(this)),M(f,ds,this.onPointerMove=this.pointermove.bind(this)),M(f,fs,this.onPointerUp=this.pointerup.bind(this)),M(f,us,this.onKeyDown=this.keydown.bind(this)),M(window,ms,this.onResize=this.resize.bind(this)),a.zoomable&&a.zoomOnWheel&&M(u,ps,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),a.toggleOnDblclick&&M(c,sr,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var a=this.options,u=this.viewer,c=this.canvas,f=this.element.ownerDocument;D(u,dt,this.onClick),D(u,ls,this.onDragStart),D(c,hs,this.onPointerDown),D(f,ds,this.onPointerMove),D(f,fs,this.onPointerUp),D(f,us,this.onKeyDown),D(window,ms,this.onResize),a.zoomable&&a.zoomOnWheel&&D(u,ps,this.onWheel,{passive:!1,capture:!0}),a.toggleOnDblclick&&D(c,sr,this.onDblclick)}},ml={click:function(a){var u=this.options,c=this.imageData,f=a.target,m=vt(f,hi);switch(!m&&f.localName==="img"&&f.parentElement.localName==="li"&&(f=f.parentElement,m=vt(f,hi)),C&&a.isTrusted&&f===this.canvas&&clearTimeout(this.clickCanvasTimeout),m){case"mix":this.played?this.stop():u.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(vt(f,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(u.loop);break;case"play":this.play(u.fullscreen);break;case"next":this.next(u.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-c.scaleX||-1);break;case"flip-vertical":this.scaleY(-c.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(a){a.preventDefault(),this.viewed&&a.target===this.image&&(C&&a.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(a.isTrusted?a:a.detail&&a.detail.originalEvent))},load:function(){var a=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var u=this.element,c=this.options,f=this.image,m=this.index,g=this.viewerData;R(f,Ze),c.loading&&R(this.canvas,$e),f.style.cssText="height:0;"+"margin-left:".concat(g.width/2,"px;")+"margin-top:".concat(g.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){It(f,Ge,c.movable),It(f,X,c.transition),a.renderImage(function(){a.viewed=!0,a.viewing=!1,N(c.viewed)&&M(u,Mt,c.viewed,{once:!0}),G(u,Mt,{originalImage:a.images[m],index:m,image:f},{cancelable:!1})})})},loadImage:function(a){var u=a.target,c=u.parentNode,f=c.offsetWidth||30,m=c.offsetHeight||50,g=!!vt(u,"filled");Is(u,this.options,function(E,_){var S=E/_,w=f,T=m;m*S>f?g?w=m*S:T=f/S:g?T=f/S:w=m*S,Ee(u,ge({width:w,height:T},fi({translateX:(f-w)/2,translateY:(m-T)/2})))})},keydown:function(a){var u=this.options;if(u.keyboard){var c=a.keyCode||a.which||a.charCode;switch(c){case 13:this.viewer.contains(a.target)&&this.click(a);break}if(this.fulled)switch(c){case 27:this.played?this.stop():u.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(u.loop);break;case 38:a.preventDefault(),this.zoom(u.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(u.loop);break;case 40:a.preventDefault(),this.zoom(-u.zoomRatio,!0);break;case 48:case 49:a.ctrlKey&&(a.preventDefault(),this.toggle());break}}},dragstart:function(a){a.target.localName==="img"&&a.preventDefault()},pointerdown:function(a){var u=this.options,c=this.pointers,f=a.buttons,m=a.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(a.type==="mousedown"||a.type==="pointerdown"&&a.pointerType==="mouse")&&(H(f)&&f!==1||H(m)&&m!==0||a.ctrlKey))){a.preventDefault(),a.changedTouches?V(a.changedTouches,function(E){c[E.identifier]=pi(E)}):c[a.pointerId||0]=pi(a);var g=u.movable?x:!1;u.zoomOnTouch&&u.zoomable&&Object.keys(c).length>1?g=k:u.slideOnTouch&&(a.pointerType==="touch"||a.type==="touchstart")&&this.isSwitchable()&&(g=O),u.transition&&(g===x||g===k)&&R(this.image,X),this.action=g}},pointermove:function(a){var u=this.pointers,c=this.action;!this.viewed||!c||(a.preventDefault(),a.changedTouches?V(a.changedTouches,function(f){ge(u[f.identifier]||{},pi(f,!0))}):ge(u[a.pointerId||0]||{},pi(a,!0)),this.change(a))},pointerup:function(a){var u=this,c=this.options,f=this.action,m=this.pointers,g;a.changedTouches?V(a.changedTouches,function(E){g=m[E.identifier],delete m[E.identifier]}):(g=m[a.pointerId||0],delete m[a.pointerId||0]),f&&(a.preventDefault(),c.transition&&(f===x||f===k)&&L(this.image,X),this.action=!1,C&&f!==k&&g&&Date.now()-g.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),c.toggleOnDblclick&&this.viewed&&a.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){G(u.image,sr,{originalEvent:a})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){u.imageClicked=!1},500)):(this.imageClicked=!1,c.backdrop&&c.backdrop!=="static"&&a.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){G(u.canvas,dt,{originalEvent:a})},50)))))},resize:function(){var a=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){a.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}V(this.player.getElementsByTagName("img"),function(u){M(u,ve,a.loadImage.bind(a),{once:!0}),G(u,ve)})}},wheel:function(a){var u=this;if(this.viewed&&(a.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){u.wheeling=!1},50);var c=Number(this.options.zoomRatio)||.1,f=1;a.deltaY?f=a.deltaY>0?1:-1:a.wheelDelta?f=-a.wheelDelta/120:a.detail&&(f=a.detail>0?1:-1),this.zoom(-f*c,!0,null,a)}}},pl={show:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,u=this.element,c=this.options;if(c.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(a),this;if(N(c.show)&&M(u,vs,c.show,{once:!0}),G(u,vs)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var f=this.viewer;if(R(f,P),f.setAttribute("role","dialog"),f.setAttribute("aria-labelledby",this.title.id),f.setAttribute("aria-modal",!0),f.removeAttribute("aria-hidden"),c.transition&&!a){var m=this.shown.bind(this);this.transitioning={abort:function(){D(f,we,m),R(f,ee)}},L(f,X),f.initialOffsetWidth=f.offsetWidth,M(f,we,m,{once:!0}),L(f,ee)}else L(f,ee),this.shown();return this},hide:function(){var a=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,c=this.element,f=this.options;if(f.inline||this.hiding||!(this.isShown||this.showing))return this;if(N(f.hide)&&M(c,ys,f.hide,{once:!0}),G(c,ys)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var m=this.viewer,g=this.image,E=function(){R(m,ee),a.hidden()};if(f.transition&&!u){var _=function w(T){T&&T.target===m&&(D(m,we,w),a.hidden())},S=function(){gt(m,X)?(M(m,we,_),R(m,ee)):E()};this.transitioning={abort:function(){a.viewed&&gt(g,X)?D(g,we,S):gt(m,X)&&D(m,we,_)}},this.viewed&&gt(g,X)?(M(g,we,S,{once:!0}),this.zoomTo(0,!1,null,null,!0)):S()}else E();return this},view:function(){var a=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(u=Number(u)||0,this.hiding||this.played||u<0||u>=this.length||this.viewed&&u===this.index)return this;if(!this.isShown)return this.index=u,this.show();this.viewing&&this.viewing.abort();var c=this.element,f=this.options,m=this.title,g=this.canvas,E=this.items[u],_=E.querySelector("img"),S=vt(_,"originalUrl"),w=_.getAttribute("alt"),T=document.createElement("img");if(V(f.inheritedAttributes,function(ae){var fe=_.getAttribute(ae);fe!==null&&T.setAttribute(ae,fe)}),T.src=S,T.alt=w,N(f.view)&&M(c,Es,f.view,{once:!0}),G(c,Es,{originalImage:this.images[u],index:u,image:T})===!1||!this.isShown||this.hiding||this.played)return this;var F=this.items[this.index];F&&(R(F,I),F.removeAttribute("aria-selected")),L(E,I),E.setAttribute("aria-selected",!0),f.focus&&E.focus(),this.image=T,this.viewed=!1,this.index=u,this.imageData={},L(T,Ze),f.loading&&L(g,$e),g.innerHTML="",g.appendChild(T),this.renderList(),m.innerHTML="";var Q=function(){var fe=a.imageData,me=Array.isArray(f.title)?f.title[1]:f.title;m.innerHTML=ol(N(me)?me.call(a,T,fe):"".concat(w," (").concat(fe.naturalWidth," \xD7 ").concat(fe.naturalHeight,")"))},J,z;return M(c,Mt,Q,{once:!0}),this.viewing={abort:function(){D(c,Mt,Q),T.complete?a.imageRendering?a.imageRendering.abort():a.imageInitializing&&a.imageInitializing.abort():(T.src="",D(T,ve,J),a.timeout&&clearTimeout(a.timeout))}},T.complete?this.load():(M(T,ve,J=function(){D(T,Qe,z),a.load()},{once:!0}),M(T,Qe,z=function(){D(T,ve,J),a.timeout&&(clearTimeout(a.timeout),a.timeout=!1),R(T,Ze),f.loading&&R(a.canvas,$e)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){R(T,Ze),a.timeout=!1},1e3)),this},prev:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,u=this.index-1;return u<0&&(u=a?this.length-1:0),this.view(u),this},next:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,u=this.length-1,c=this.index+1;return c>u&&(c=a?0:u),this.view(c),this},move:function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,c=this.imageData;return this.moveTo(ft(a)?a:c.x+Number(a),ft(u)?u:c.y+Number(u)),this},moveTo:function(a){var u=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,m=this.element,g=this.options,E=this.imageData;if(a=Number(a),c=Number(c),this.viewed&&!this.played&&g.movable){var _=E.x,S=E.y,w=!1;if(H(a)?w=!0:a=_,H(c)?w=!0:c=S,w){if(N(g.move)&&M(m,Ss,g.move,{once:!0}),G(m,Ss,{x:a,y:c,oldX:_,oldY:S,originalEvent:f})===!1)return this;E.x=a,E.y=c,E.left=a,E.top=c,this.moving=!0,this.renderImage(function(){u.moving=!1,N(g.moved)&&M(m,As,g.moved,{once:!0}),G(m,As,{x:a,y:c,oldX:_,oldY:S,originalEvent:f},{cancelable:!1})})}}return this},rotate:function(a){return this.rotateTo((this.imageData.rotate||0)+Number(a)),this},rotateTo:function(a){var u=this,c=this.element,f=this.options,m=this.imageData;if(a=Number(a),H(a)&&this.viewed&&!this.played&&f.rotatable){var g=m.rotate;if(N(f.rotate)&&M(c,_s,f.rotate,{once:!0}),G(c,_s,{degree:a,oldDegree:g})===!1)return this;m.rotate=a,this.rotating=!0,this.renderImage(function(){u.rotating=!1,N(f.rotated)&&M(c,Ts,f.rotated,{once:!0}),G(c,Ts,{degree:a,oldDegree:g},{cancelable:!1})})}return this},scaleX:function(a){return this.scale(a,this.imageData.scaleY),this},scaleY:function(a){return this.scale(this.imageData.scaleX,a),this},scale:function(a){var u=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,f=this.element,m=this.options,g=this.imageData;if(a=Number(a),c=Number(c),this.viewed&&!this.played&&m.scalable){var E=g.scaleX,_=g.scaleY,S=!1;if(H(a)?S=!0:a=E,H(c)?S=!0:c=_,S){if(N(m.scale)&&M(f,xs,m.scale,{once:!0}),G(f,xs,{scaleX:a,scaleY:c,oldScaleX:E,oldScaleY:_})===!1)return this;g.scaleX=a,g.scaleY=c,this.scaling=!0,this.renderImage(function(){u.scaling=!1,N(m.scaled)&&M(f,Cs,m.scaled,{once:!0}),G(f,Cs,{scaleX:a,scaleY:c,oldScaleX:E,oldScaleY:_},{cancelable:!1})})}}return this},zoom:function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,m=this.imageData;return a=Number(a),a<0?a=1/(1-a):a=1+a,this.zoomTo(m.width*a/m.naturalWidth,u,c,f),this},zoomTo:function(a){var u=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,E=this.element,_=this.options,S=this.pointers,w=this.imageData,T=w.x,F=w.y,Q=w.width,J=w.height,z=w.naturalWidth,ae=w.naturalHeight;if(a=Math.max(0,a),H(a)&&this.viewed&&!this.played&&(g||_.zoomable)){if(!g){var fe=Math.max(.01,_.minZoomRatio),me=Math.min(100,_.maxZoomRatio);a=Math.min(Math.max(a,fe),me)}if(m)switch(m.type){case"wheel":_.zoomRatio>=.055&&a>.95&&a<1.05&&(a=1);break;case"pointermove":case"touchmove":case"mousemove":a>.99&&a<1.01&&(a=1);break}var q=z*a,Fe=ae*a,et=q-Q,Ce=Fe-J,tt=w.ratio;if(N(_.zoom)&&M(E,Os,_.zoom,{once:!0}),G(E,Os,{ratio:a,oldRatio:tt,originalEvent:m})===!1)return this;if(this.zooming=!0,m){var Pt=ll(this.viewer),bt=S&&Object.keys(S).length>0?hl(S):{pageX:m.pageX,pageY:m.pageY};w.x-=et*((bt.pageX-Pt.left-T)/Q),w.y-=Ce*((bt.pageY-Pt.top-F)/J)}else pt(f)&&H(f.x)&&H(f.y)?(w.x-=et*((f.x-T)/Q),w.y-=Ce*((f.y-F)/J)):(w.x-=et/2,w.y-=Ce/2);w.left=w.x,w.top=w.y,w.width=q,w.height=Fe,w.oldRatio=tt,w.ratio=a,this.renderImage(function(){u.zooming=!1,N(_.zoomed)&&M(E,Ls,_.zoomed,{once:!0}),G(E,Ls,{ratio:a,oldRatio:tt,originalEvent:m},{cancelable:!1})}),c&&this.tooltip()}return this},play:function(){var a=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var c=this.element,f=this.options;if(N(f.play)&&M(c,ks,f.play,{once:!0}),G(c,ks)===!1)return this;var m=this.player,g=this.loadImage.bind(this),E=[],_=0,S=0;if(this.played=!0,this.onLoadWhenPlay=g,u&&this.requestFullscreen(u),L(m,ht),V(this.items,function(F,Q){var J=F.querySelector("img"),z=document.createElement("img");z.src=vt(J,"originalUrl"),z.alt=J.getAttribute("alt"),z.referrerPolicy=J.referrerPolicy,_+=1,L(z,Y),It(z,X,f.transition),gt(F,I)&&(L(z,ee),S=Q),E.push(z),M(z,ve,g,{once:!0}),m.appendChild(z)}),H(f.interval)&&f.interval>0){var w=function F(){clearTimeout(a.playing.timeout),R(E[S],ee),S-=1,S=S>=0?S:_-1,L(E[S],ee),a.playing.timeout=setTimeout(F,f.interval)},T=function F(){clearTimeout(a.playing.timeout),R(E[S],ee),S+=1,S=S<_?S:0,L(E[S],ee),a.playing.timeout=setTimeout(F,f.interval)};_>1&&(this.playing={prev:w,next:T,timeout:setTimeout(T,f.interval)})}return this},stop:function(){var a=this;if(!this.played)return this;var u=this.element,c=this.options;if(N(c.stop)&&M(u,Ms,c.stop,{once:!0}),G(u,Ms)===!1)return this;var f=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,V(f.getElementsByTagName("img"),function(m){D(m,ve,a.onLoadWhenPlay)}),R(f,ht),f.innerHTML="",this.exitFullscreen(),this},full:function(){var a=this,u=this.options,c=this.viewer,f=this.image,m=this.list;return!this.isShown||this.played||this.fulled||!u.inline?this:(this.fulled=!0,this.open(),L(this.button,Z),u.transition&&(R(m,X),this.viewed&&R(f,X)),L(c,ce),c.setAttribute("role","dialog"),c.setAttribute("aria-labelledby",this.title.id),c.setAttribute("aria-modal",!0),c.removeAttribute("style"),Ee(c,{zIndex:u.zIndex}),u.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=ge({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){a.renderImage(function(){u.transition&&setTimeout(function(){L(f,X),L(m,X)},0)})}),this)},exit:function(){var a=this,u=this.options,c=this.viewer,f=this.image,m=this.list;return!this.isShown||this.played||!this.fulled||!u.inline?this:(this.fulled=!1,this.close(),R(this.button,Z),u.transition&&(R(m,X),this.viewed&&R(f,X)),u.focus&&this.clearEnforceFocus(),c.removeAttribute("role"),c.removeAttribute("aria-labelledby"),c.removeAttribute("aria-modal"),R(c,ce),Ee(c,{zIndex:u.zIndexInline}),this.viewerData=ge({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){a.renderImage(function(){u.transition&&setTimeout(function(){L(f,X),L(m,X)},0)})}),this)},tooltip:function(){var a=this,u=this.options,c=this.tooltipBox,f=this.imageData;return!this.viewed||this.played||!u.tooltip?this:(c.textContent="".concat(Math.round(f.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):u.transition?(this.fading&&G(c,we),L(c,ht),L(c,Y),L(c,X),c.removeAttribute("aria-hidden"),c.initialOffsetWidth=c.offsetWidth,L(c,ee)):(L(c,ht),c.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){u.transition?(M(c,we,function(){R(c,ht),R(c,Y),R(c,X),c.setAttribute("aria-hidden",!0),a.fading=!1},{once:!0}),R(c,ee),a.fading=!0):(R(c,ht),c.setAttribute("aria-hidden",!0)),a.tooltipping=!1},1e3),this)},toggle:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,a):this.zoomTo(1,!0,null,a),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=ge({},this.initialImageData),this.renderImage()),this},update:function(){var a=this,u=this.element,c=this.options,f=this.isImg;if(f&&!u.parentNode)return this.destroy();var m=[];if(V(f?[u]:u.querySelectorAll("img"),function(S){N(c.filter)?c.filter.call(a,S)&&m.push(S):a.getImageURL(S)&&m.push(S)}),!m.length)return this;if(this.images=m,this.length=m.length,this.ready){var g=[];if(V(this.items,function(S,w){var T=S.querySelector("img"),F=m[w];F&&T?(F.src!==T.src||F.alt!==T.alt)&&g.push(w):g.push(w)}),Ee(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var E=g.indexOf(this.index);if(E>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-E,this.length-1),0));else{var _=this.items[this.index];L(_,I),_.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var a=this.element,u=this.options;return a[A]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),u.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):u.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),u.inline||D(a,dt,this.onStart),a[A]=void 0,this):this}},gl={getImageURL:function(a){var u=this.options.url;return Ft(u)?u=a.getAttribute(u):N(u)?u=u.call(this,a):u="",u},enforceFocus:function(){var a=this;this.clearEnforceFocus(),M(document,cs,this.onFocusin=function(u){var c=a.viewer,f=u.target;if(!(f===document||f===c||c.contains(f))){for(;f;){if(f.getAttribute("tabindex")!==null||f.getAttribute("aria-modal")==="true")return;f=f.parentElement}c.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(D(document,cs,this.onFocusin),this.onFocusin=null)},open:function(){var a=this.body;L(a,de),this.scrollbarWidth>0&&(a.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var a=this.body;R(a,de),this.scrollbarWidth>0&&(a.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var a=this.element,u=this.options,c=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,u.focus&&(c.focus(),this.enforceFocus()),N(u.shown)&&M(a,bs,u.shown,{once:!0}),G(a,bs)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var a=this.element,u=this.options,c=this.viewer;u.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),L(c,P),c.removeAttribute("role"),c.removeAttribute("aria-labelledby"),c.removeAttribute("aria-modal"),c.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(N(u.hidden)&&M(a,ws,u.hidden,{once:!0}),G(a,ws,null,{cancelable:!1}))},requestFullscreen:function(a){var u=this.element.ownerDocument;if(this.fulled&&!(u.fullscreenElement||u.webkitFullscreenElement||u.mozFullScreenElement||u.msFullscreenElement)){var c=u.documentElement;c.requestFullscreen?pt(a)?c.requestFullscreen(a):c.requestFullscreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):c.mozRequestFullScreen?c.mozRequestFullScreen():c.msRequestFullscreen&&c.msRequestFullscreen()}},exitFullscreen:function(){var a=this.element.ownerDocument;this.fulled&&(a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement||a.msFullscreenElement)&&(a.exitFullscreen?a.exitFullscreen():a.webkitExitFullscreen?a.webkitExitFullscreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.msExitFullscreen&&a.msExitFullscreen())},change:function(a){var u=this.options,c=this.pointers,f=c[Object.keys(c)[0]];if(f){var m=f.endX-f.startX,g=f.endY-f.startY;switch(this.action){case x:(m!==0||g!==0)&&(this.pointerMoved=!0,this.move(m,g,a));break;case k:this.zoom(ul(c),!1,null,a);break;case O:{this.action="switched";var E=Math.abs(m);E>1&&E>Math.abs(g)&&(this.pointers={},m>1?this.prev(u.loop):m<-1&&this.next(u.loop));break}}V(c,function(_){_.startX=_.endX,_.startY=_.endY})}},isSwitchable:function(){var a=this.imageData,u=this.viewerData;return this.length>1&&a.x>=0&&a.y>=0&&a.width<=u.width&&a.height<=u.height}},vl=b.Viewer,bl=function(d){return function(){return d+=1,d}}(-1),Ps=function(){function d(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r(this,d),!a||a.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=a,this.options=ge({},p,pt(u)&&u),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=bl(),this.init()}return s(d,[{key:"init",value:function(){var u=this,c=this.element,f=this.options;if(!c[A]){c[A]=this,f.focus&&!f.keyboard&&(f.focus=!1);var m=c.localName==="img",g=[];if(V(m?[c]:c.querySelectorAll("img"),function(S){N(f.filter)?f.filter.call(u,S)&&g.push(S):u.getImageURL(S)&&g.push(S)}),this.isImg=m,this.length=g.length,this.images=g,this.initBody(),ft(document.createElement(A).style.transition)&&(f.transition=!1),f.inline){var E=0,_=function(){if(E+=1,E===u.length){var w;u.initializing=!1,u.delaying={abort:function(){clearTimeout(w)}},w=setTimeout(function(){u.delaying=!1,u.build()},0)}};this.initializing={abort:function(){V(g,function(w){w.complete||(D(w,ve,_),D(w,Qe,_))})}},V(g,function(S){if(S.complete)_();else{var w,T;M(S,ve,w=function(){D(S,Qe,T),_()},{once:!0}),M(S,Qe,T=function(){D(S,ve,w),_()},{once:!0})}})}else M(c,dt,this.onStart=function(S){var w=S.target;w.localName==="img"&&(!N(f.filter)||f.filter.call(u,w))&&u.view(u.images.indexOf(w))})}}},{key:"build",value:function(){if(!this.ready){var u=this.element,c=this.options,f=u.parentNode,m=document.createElement("div");m.innerHTML=v;var g=m.querySelector(".".concat(A,"-container")),E=g.querySelector(".".concat(A,"-title")),_=g.querySelector(".".concat(A,"-toolbar")),S=g.querySelector(".".concat(A,"-navbar")),w=g.querySelector(".".concat(A,"-button")),T=g.querySelector(".".concat(A,"-canvas"));if(this.parent=f,this.viewer=g,this.title=E,this.toolbar=_,this.navbar=S,this.button=w,this.canvas=T,this.footer=g.querySelector(".".concat(A,"-footer")),this.tooltipBox=g.querySelector(".".concat(A,"-tooltip")),this.player=g.querySelector(".".concat(A,"-player")),this.list=g.querySelector(".".concat(A,"-list")),g.id="".concat(A).concat(this.id),E.id="".concat(A,"Title").concat(this.id),L(E,c.title?mi(Array.isArray(c.title)?c.title[0]:c.title):P),L(S,c.navbar?mi(c.navbar):P),It(w,P,!c.button),c.keyboard&&w.setAttribute("tabindex",0),c.backdrop&&(L(g,"".concat(A,"-backdrop")),!c.inline&&c.backdrop!=="static"&&lr(T,hi,"hide")),Ft(c.className)&&c.className&&c.className.split(or).forEach(function(q){L(g,q)}),c.toolbar){var F=document.createElement("ul"),Q=pt(c.toolbar),J=di.slice(0,3),z=di.slice(7,9),ae=di.slice(9);Q||L(_,mi(c.toolbar)),V(Q?c.toolbar:di,function(q,Fe){var et=Q&&pt(q),Ce=Q?ar(Fe):q,tt=et&&!ft(q.show)?q.show:q;if(!(!tt||!c.zoomable&&J.indexOf(Ce)!==-1||!c.rotatable&&z.indexOf(Ce)!==-1||!c.scalable&&ae.indexOf(Ce)!==-1)){var Pt=et&&!ft(q.size)?q.size:q,bt=et&&!ft(q.click)?q.click:q,Ie=document.createElement("li");c.keyboard&&Ie.setAttribute("tabindex",0),Ie.setAttribute("role","button"),L(Ie,"".concat(A,"-").concat(Ce)),N(bt)||lr(Ie,hi,Ce),H(tt)&&L(Ie,mi(tt)),["small","large"].indexOf(Pt)!==-1?L(Ie,"".concat(A,"-").concat(Pt)):Ce==="play"&&L(Ie,"".concat(A,"-large")),N(bt)&&M(Ie,dt,bt),F.appendChild(Ie)}}),_.appendChild(F)}else L(_,P);if(!c.rotatable){var fe=_.querySelectorAll('li[class*="rotate"]');L(fe,Ze),V(fe,function(q){_.appendChild(q)})}if(c.inline)L(w,ye),Ee(g,{zIndex:c.zIndexInline}),window.getComputedStyle(f).position==="static"&&Ee(f,{position:"relative"}),f.insertBefore(g,u.nextSibling);else{L(w,U),L(g,ce),L(g,Y),L(g,P),Ee(g,{zIndex:c.zIndex});var me=c.container;Ft(me)&&(me=u.ownerDocument.querySelector(me)),me||(me=this.body),me.appendChild(g)}if(c.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,N(c.ready)&&M(u,gs,c.ready,{once:!0}),G(u,gs)===!1){this.ready=!1;return}this.ready&&c.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=vl,d}},{key:"setDefaults",value:function(u){ge(p,pt(u)&&u)}}]),d}();return ge(Ps.prototype,dl,fl,ml,pl,gl),Ps})});(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;let t=HTMLElement,e={HTMLElement:function(){return Reflect.construct(t,[],this.constructor)}};window.HTMLElement=e.HTMLElement,HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)})();(function(t){if(typeof t.requestSubmit=="function")return;t.requestSubmit=function(r){r?(e(r,this),r.click()):(r=document.createElement("input"),r.type="submit",r.hidden=!0,this.appendChild(r),r.click(),this.removeChild(r))};function e(r,n){r instanceof HTMLElement||i(TypeError,"parameter 1 is not of type 'HTMLElement'"),r.type=="submit"||i(TypeError,"The specified element is not a submit button"),r.form==n||i(DOMException,"The specified element is not owned by this form element","NotFoundError")}function i(r,n,s){throw new r("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+n+".",s)}})(HTMLFormElement.prototype);var js=new WeakMap;function Cl(t){let e=t instanceof Element?t:t instanceof Node?t.parentElement:null,i=e?e.closest("input, button"):null;return i?.type=="submit"?i:null}function Ol(t){let e=Cl(t.target);e&&e.form&&js.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let t=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))t=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",Ol,!0),Object.defineProperty(t,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return js.get(this.target)}})})();var ze;(function(t){t.eager="eager",t.lazy="lazy"})(ze||(ze={}));var Re=class t extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new t.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="complete"?this.delegate.completeChanged():e=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loading(){return Ll(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,i;return(i=(e=this.ownerDocument)===null||e===void 0?void 0:e.documentElement)===null||i===void 0?void 0:i.hasAttribute("data-turbo-preview")}};function Ll(t){switch(t.toLowerCase()){case"lazy":return ze.lazy;default:return ze.eager}}function le(t){return new URL(t.toString(),document.baseURI)}function it(t){let e;if(t.hash)return t.hash.slice(1);if(e=t.href.match(/#(.*)$/))return e[1]}function Rr(t,e){let i=e?.getAttribute("formaction")||t.getAttribute("action")||t.action;return le(i)}function kl(t){return(Rl(t).match(/\.[^.]*$/)||[])[0]||""}function Ml(t){return!!kl(t).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function Fl(t,e){let i=Nl(e);return t.href===le(i).href||t.href.startsWith(i)}function wt(t,e){return Fl(t,e)&&Ml(t)}function ur(t){let e=it(t);return e!=null?t.href.slice(0,-(e.length+1)):t.href}function gi(t){return ur(t)}function Il(t,e){return le(t).href==le(e).href}function Pl(t){return t.pathname.split("/").slice(1)}function Rl(t){return Pl(t).slice(-1)[0]}function Nl(t){return Dl(t.origin+t.pathname)}function Dl(t){return t.endsWith("/")?t:t+"/"}var Rt=class{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return le(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}};function Nt(t){if(t.getAttribute("data-turbo-eval")=="false")return t;{let e=document.createElement("script"),i=yi("csp-nonce");return i&&(e.nonce=i),e.textContent=t.textContent,e.async=!1,Bl(e,t),e}}function Bl(t,e){for(let{name:i,value:r}of e.attributes)t.setAttribute(i,r)}function Vl(t){let e=document.createElement("template");return e.innerHTML=t,e.content}function se(t,{target:e,cancelable:i,detail:r}={}){let n=new CustomEvent(t,{cancelable:i,bubbles:!0,composed:!0,detail:r});return e&&e.isConnected?e.dispatchEvent(n):document.documentElement.dispatchEvent(n),n}function vi(){return new Promise(t=>requestAnimationFrame(()=>t()))}function jl(){return new Promise(t=>setTimeout(()=>t(),0))}function $l(){return Promise.resolve()}function $s(t=""){return new DOMParser().parseFromString(t,"text/html")}function qs(t,...e){let i=ql(t,e).replace(/^\n/,"").split(`
`),r=i[0].match(/^\s+/),n=r?r[0].length:0;return i.map(s=>s.slice(n)).join(`
`)}function ql(t,e){return t.reduce((i,r,n)=>{let s=e[n]==null?"":e[n];return i+r+s},"")}function Et(){return Array.from({length:36}).map((t,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function bi(t,...e){for(let i of e.map(r=>r?.getAttribute(t)))if(typeof i=="string")return i;return null}function Hl(t,...e){return e.some(i=>i&&i.hasAttribute(t))}function hr(...t){for(let e of t)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function dr(...t){for(let e of t)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function zl(t,e=2e3){return new Promise(i=>{let r=()=>{t.removeEventListener("error",r),t.removeEventListener("load",r),i()};t.addEventListener("load",r,{once:!0}),t.addEventListener("error",r,{once:!0}),setTimeout(i,e)})}function Hs(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function Kl(t){return t=="advance"||t=="replace"||t=="restore"}function Oi(...t){let e=bi("data-turbo-action",...t);return Kl(e)?e:null}function zs(t){return document.querySelector(`meta[name="${t}"]`)}function yi(t){let e=zs(t);return e&&e.content}function Wl(t,e){let i=zs(t);return i||(i=document.createElement("meta"),i.setAttribute("name",t),document.head.appendChild(i)),i.setAttribute("content",e),i}function wi(t,e){var i;if(t instanceof Element)return t.closest(e)||wi(t.assignedSlot||((i=t.getRootNode())===null||i===void 0?void 0:i.host),e)}var pe;(function(t){t[t.get=0]="get",t[t.post=1]="post",t[t.put=2]="put",t[t.patch=3]="patch",t[t.delete=4]="delete"})(pe||(pe={}));function Ul(t){switch(t.toLowerCase()){case"get":return pe.get;case"post":return pe.post;case"put":return pe.put;case"patch":return pe.patch;case"delete":return pe.delete}}var Dt=class{constructor(e,i,r,n=new URLSearchParams,s=null){this.abortController=new AbortController,this.resolveRequestPromise=o=>{},this.delegate=e,this.method=i,this.headers=this.defaultHeaders,this.body=n,this.url=r,this.target=s}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:e}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(e);try{this.delegate.requestStarted(this);let i=await fetch(this.url.href,e);return await this.receive(i)}catch(i){if(i.name!=="AbortError")throw this.willDelegateErrorHandling(i)&&this.delegate.requestErrored(this,i),i}finally{this.delegate.requestFinished(this)}}async receive(e){let i=new Rt(e);return se("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:i},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,i):i.succeeded?this.delegate.requestSucceededWithResponse(this,i):this.delegate.requestFailedWithResponse(this,i),i}get fetchOptions(){var e;return{method:pe[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:(e=this.delegate.referrer)===null||e===void 0?void 0:e.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===pe.get}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(e){let i=new Promise(n=>this.resolveRequestPromise=n);se("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await i}willDelegateErrorHandling(e){return!se("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}},fr=class{constructor(e,i){this.started=!1,this.intersect=r=>{let n=r.slice(-1)[0];n?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=e,this.element=i,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}},Ne=class{static wrap(e){return typeof e=="string"?new this(Vl(e)):e}constructor(e){this.fragment=Yl(e)}};Ne.contentType="text/vnd.turbo-stream.html";function Yl(t){for(let e of t.querySelectorAll("turbo-stream")){let i=document.importNode(e,!0);for(let r of i.templateElement.content.querySelectorAll("script"))r.replaceWith(Nt(r));e.replaceWith(i)}return t}var qe;(function(t){t[t.initialized=0]="initialized",t[t.requesting=1]="requesting",t[t.waiting=2]="waiting",t[t.receiving=3]="receiving",t[t.stopping=4]="stopping",t[t.stopped=5]="stopped"})(qe||(qe={}));var He;(function(t){t.urlEncoded="application/x-www-form-urlencoded",t.multipart="multipart/form-data",t.plain="text/plain"})(He||(He={}));function Xl(t){switch(t.toLowerCase()){case He.multipart:return He.multipart;case He.plain:return He.plain;default:return He.urlEncoded}}var Bt=class t{static confirmMethod(e,i,r){return Promise.resolve(confirm(e))}constructor(e,i,r,n=!1){this.state=qe.initialized,this.delegate=e,this.formElement=i,this.submitter=r,this.formData=Jl(i,r),this.location=le(this.action),this.method==pe.get&&Ql(this.location,[...this.body.entries()]),this.fetchRequest=new Dt(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=n}get method(){var e;let i=((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return Ul(i.toLowerCase())||pe.get}get action(){var e;let i=typeof this.formElement.action=="string"?this.formElement.action:null;return!((e=this.submitter)===null||e===void 0)&&e.hasAttribute("formaction")?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||i||""}get body(){return this.enctype==He.urlEncoded||this.method==pe.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return Xl(((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce((e,[i,r])=>e.concat(typeof r=="string"?[[i,r]]:[]),[])}async start(){let{initialized:e,requesting:i}=qe,r=bi("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof r=="string"&&!await t.confirmMethod(r,this.formElement,this.submitter))&&this.state==e)return this.state=i,this.fetchRequest.perform()}stop(){let{stopping:e,stopped:i}=qe;if(this.state!=e&&this.state!=i)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){let i=Zl(yi("csrf-param"))||yi("csrf-token");i&&(e.headers["X-CSRF-Token"]=i)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(Ne.contentType)}requestStarted(e){var i;this.state=qe.waiting,(i=this.submitter)===null||i===void 0||i.setAttribute("disabled",""),this.setSubmitsWith(),se("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,i){this.result={success:i.succeeded,fetchResponse:i}}requestSucceededWithResponse(e,i){if(i.clientError||i.serverError)this.delegate.formSubmissionFailedWithResponse(this,i);else if(this.requestMustRedirect(e)&&Gl(i)){let r=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,r)}else this.state=qe.receiving,this.result={success:!0,fetchResponse:i},this.delegate.formSubmissionSucceededWithResponse(this,i)}requestFailedWithResponse(e,i){this.result={success:!1,fetchResponse:i},this.delegate.formSubmissionFailedWithResponse(this,i)}requestErrored(e,i){this.result={success:!1,error:i},this.delegate.formSubmissionErrored(this,i)}requestFinished(e){var i;this.state=qe.stopped,(i=this.submitter)===null||i===void 0||i.removeAttribute("disabled"),this.resetSubmitterText(),se("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||Hl("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var e;return(e=this.submitter)===null||e===void 0?void 0:e.getAttribute("data-turbo-submits-with")}};function Jl(t,e){let i=new FormData(t),r=e?.getAttribute("name"),n=e?.getAttribute("value");return r&&i.append(r,n||""),i}function Zl(t){if(t!=null){let i=(document.cookie?document.cookie.split("; "):[]).find(r=>r.startsWith(t));if(i){let r=i.split("=").slice(1).join("=");return r?decodeURIComponent(r):void 0}}}function Gl(t){return t.statusCode==200&&!t.redirected}function Ql(t,e){let i=new URLSearchParams;for(let[r,n]of e)n instanceof File||i.append(r,n);return t.search=i.toString(),t}var St=class{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){let e="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";for(let i of this.element.querySelectorAll("[autofocus]"))if(i.closest(e)==null)return i;return null}get permanentElements(){return Ws(this.element)}getPermanentElementById(e){return Ks(this.element,e)}getPermanentElementMapForSnapshot(e){let i={};for(let r of this.permanentElements){let{id:n}=r,s=e.getPermanentElementById(n);s&&(i[n]=[r,s])}return i}};function Ks(t,e){return t.querySelector(`#${e}[data-turbo-permanent]`)}function Ws(t){return t.querySelectorAll("[id][data-turbo-permanent]")}var Vt=class{constructor(e,i){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=r=>{if(!r.defaultPrevented){let n=r.target instanceof HTMLFormElement?r.target:void 0,s=r.submitter||void 0;n&&ec(n,s)&&tc(n,s)&&this.delegate.willSubmitForm(n,s)&&(r.preventDefault(),r.stopImmediatePropagation(),this.delegate.formSubmitted(n,s))}},this.delegate=e,this.eventTarget=i}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}};function ec(t,e){return(e?.getAttribute("formmethod")||t.getAttribute("method"))!="dialog"}function tc(t,e){if(e?.hasAttribute("formtarget")||t.hasAttribute("target")){let i=e?.getAttribute("formtarget")||t.target;for(let r of document.getElementsByName(i))if(r instanceof HTMLIFrameElement)return!1;return!0}else return!0}var Ei=class{constructor(e,i){this.resolveRenderPromise=r=>{},this.resolveInterceptionPromise=r=>{},this.delegate=e,this.element=i}scrollToAnchor(e){let i=this.snapshot.getElementForAnchor(e);i?(this.scrollToElement(i),this.focusElement(i)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(it(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:i}){this.scrollRoot.scrollTo(e,i)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){let{isPreview:i,shouldRender:r,newSnapshot:n}=e;if(r)try{this.renderPromise=new Promise(h=>this.resolveRenderPromise=h),this.renderer=e,await this.prepareToRenderSnapshot(e);let s=new Promise(h=>this.resolveInterceptionPromise=h),o={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(n,o)||await s,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(n,i),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}},mr=class extends Ei{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new St(this.element)}},Si=class{constructor(e,i){this.clickBubbled=r=>{this.respondsToEventTarget(r.target)?this.clickEvent=r:delete this.clickEvent},this.linkClicked=r=>{this.clickEvent&&this.respondsToEventTarget(r.target)&&r.target instanceof Element&&this.delegate.shouldInterceptLinkClick(r.target,r.detail.url,r.detail.originalEvent)&&(this.clickEvent.preventDefault(),r.preventDefault(),this.delegate.linkClickIntercepted(r.target,r.detail.url,r.detail.originalEvent)),delete this.clickEvent},this.willVisit=r=>{delete this.clickEvent},this.delegate=e,this.element=i}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){let i=e instanceof Element?e:e instanceof Node?e.parentElement:null;return i&&i.closest("turbo-frame, html")==this.element}},Ai=class{constructor(e,i){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=r=>{if(r instanceof MouseEvent&&this.clickEventIsSignificant(r)){let n=r.composedPath&&r.composedPath()[0]||r.target,s=this.findLinkFromClickTarget(n);if(s&&ic(s)){let o=this.getLocationForLink(s);this.delegate.willFollowLinkToLocation(s,o,r)&&(r.preventDefault(),this.delegate.followedLinkToLocation(s,o))}}},this.delegate=e,this.eventTarget=i}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){return wi(e,"a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return le(e.getAttribute("href")||"")}};function ic(t){if(t.hasAttribute("target")){for(let e of document.getElementsByName(t.target))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}var _i=class{constructor(e,i){this.delegate=e,this.linkInterceptor=new Ai(this,i)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(e,i,r){return this.delegate.willSubmitFormLinkToLocation(e,i,r)&&e.hasAttribute("data-turbo-method")}followedLinkToLocation(e,i){let r=document.createElement("form"),n="hidden";for(let[y,b]of i.searchParams)r.append(Object.assign(document.createElement("input"),{type:n,name:y,value:b}));let s=Object.assign(i,{search:""});r.setAttribute("data-turbo","true"),r.setAttribute("action",s.href),r.setAttribute("hidden","");let o=e.getAttribute("data-turbo-method");o&&r.setAttribute("method",o);let l=e.getAttribute("data-turbo-frame");l&&r.setAttribute("data-turbo-frame",l);let h=Oi(e);h&&r.setAttribute("data-turbo-action",h);let p=e.getAttribute("data-turbo-confirm");p&&r.setAttribute("data-turbo-confirm",p),e.hasAttribute("data-turbo-stream")&&r.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,i,r),document.body.appendChild(r),r.addEventListener("turbo:submit-end",()=>r.remove(),{once:!0}),requestAnimationFrame(()=>r.requestSubmit())}},Ti=class{static async preservingPermanentElements(e,i,r){let n=new this(e,i);n.enter(),await r(),n.leave()}constructor(e,i){this.delegate=e,this.permanentElementMap=i}enter(){for(let e in this.permanentElementMap){let[i,r]=this.permanentElementMap[e];this.delegate.enteringBardo(i,r),this.replaceNewPermanentElementWithPlaceholder(r)}}leave(){for(let e in this.permanentElementMap){let[i]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(i),this.replacePlaceholderWithPermanentElement(i),this.delegate.leavingBardo(i)}}replaceNewPermanentElementWithPlaceholder(e){let i=rc(e);e.replaceWith(i)}replaceCurrentPermanentElementWithClone(e){let i=e.cloneNode(!0);e.replaceWith(i)}replacePlaceholderWithPermanentElement(e){let i=this.getPlaceholderById(e.id);i?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(i=>i.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};function rc(t){let e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",t.id),e}var jt=class{constructor(e,i,r,n,s=!0){this.activeElement=null,this.currentSnapshot=e,this.newSnapshot=i,this.isPreview=n,this.willRender=s,this.renderElement=r,this.promise=new Promise((o,l)=>this.resolvingFunctions={resolve:o,reject:l})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await Ti.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){let e=this.connectedSnapshot.firstAutofocusableElement;nc(e)&&e.focus()}enteringBardo(e){this.activeElement||e.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}};function nc(t){return t&&typeof t.focus=="function"}var $t=class extends jt{static renderElement(e,i){var r;let n=document.createRange();n.selectNodeContents(e),n.deleteContents();let s=i,o=(r=s.ownerDocument)===null||r===void 0?void 0:r.createRange();o&&(o.selectNodeContents(s),e.appendChild(o.extractContents()))}constructor(e,i,r,n,s,o=!0){super(i,r,n,s,o),this.delegate=e}get shouldRender(){return!0}async render(){await vi(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await vi(),this.focusFirstAutofocusableElement(),await vi(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let e=this.currentElement.firstElementChild,i=sc(this.currentElement.getAttribute("data-autoscroll-block"),"end"),r=oc(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:i,behavior:r}),!0}return!1}activateScriptElements(){for(let e of this.newScriptElements){let i=Nt(e);e.replaceWith(i)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};function sc(t,e){return t=="end"||t=="start"||t=="center"||t=="nearest"?t:e}function oc(t,e){return t=="auto"||t=="smooth"?t:e}var xi=class t{static get defaultCSS(){return qs`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${t.animationDuration}ms ease-out,
          opacity ${t.animationDuration/2}ms ${t.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,t.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,t.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let e=document.createElement("style");return e.type="text/css",e.textContent=t.defaultCSS,this.cspNonce&&(e.nonce=this.cspNonce),e}createProgressElement(){let e=document.createElement("div");return e.className="turbo-progress-bar",e}get cspNonce(){return yi("csp-nonce")}};xi.animationDuration=300;var pr=class extends St{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(e=>!uc(e)).map(e=>fc(e)).reduce((e,i)=>{let{outerHTML:r}=i,n=r in e?e[r]:{type:ac(i),tracked:lc(i),elements:[]};return Object.assign(Object.assign({},e),{[r]:Object.assign(Object.assign({},n),{elements:[...n.elements,i]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,i){return Object.keys(this.detailsByOuterHTML).filter(r=>!(r in i.detailsByOuterHTML)).map(r=>this.detailsByOuterHTML[r]).filter(({type:r})=>r==e).map(({elements:[r]})=>r)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,i)=>{let{type:r,tracked:n,elements:s}=this.detailsByOuterHTML[i];return r==null&&!n?[...e,...s]:s.length>1?[...e,...s.slice(1)]:e},[])}getMetaValue(e){let i=this.findMetaElementByName(e);return i?i.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((i,r)=>{let{elements:[n]}=this.detailsByOuterHTML[r];return dc(n,e)?n:i},void 0)}};function ac(t){if(cc(t))return"script";if(hc(t))return"stylesheet"}function lc(t){return t.getAttribute("data-turbo-track")=="reload"}function cc(t){return t.localName=="script"}function uc(t){return t.localName=="noscript"}function hc(t){let e=t.localName;return e=="style"||e=="link"&&t.getAttribute("rel")=="stylesheet"}function dc(t,e){return t.localName=="meta"&&t.getAttribute("name")==e}function fc(t){return t.hasAttribute("nonce")&&t.setAttribute("nonce",""),t}var Ae=class t extends St{static fromHTMLString(e=""){return this.fromDocument($s(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:i}){return new this(i,new pr(e))}constructor(e,i){super(e),this.headSnapshot=i}clone(){let e=this.element.cloneNode(!0),i=this.element.querySelectorAll("select"),r=e.querySelectorAll("select");for(let[n,s]of i.entries()){let o=r[n];for(let l of o.selectedOptions)l.selected=!1;for(let l of s.selectedOptions)o.options[l.index].selected=!0}for(let n of e.querySelectorAll('input[type="password"]'))n.value="";return new t(e,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;let i=(e=this.getSetting("root"))!==null&&e!==void 0?e:"/";return le(i)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}},yt;(function(t){t.visitStart="visitStart",t.requestStart="requestStart",t.requestEnd="requestEnd",t.visitEnd="visitEnd"})(yt||(yt={}));var Se;(function(t){t.initialized="initialized",t.started="started",t.canceled="canceled",t.failed="failed",t.completed="completed"})(Se||(Se={}));var mc={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},Ke;(function(t){t[t.networkFailure=0]="networkFailure",t[t.timeoutFailure=-1]="timeoutFailure",t[t.contentTypeMismatch=-2]="contentTypeMismatch"})(Ke||(Ke={}));var gr=class{constructor(e,i,r,n={}){this.identifier=Et(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=Se.initialized,this.delegate=e,this.location=i,this.restorationIdentifier=r||Et();let{action:s,historyChanged:o,referrer:l,snapshot:h,snapshotHTML:p,response:v,visitCachedSnapshot:y,willRender:b,updateHistory:C,shouldCacheSnapshot:B,acceptsStreamResponse:A}=Object.assign(Object.assign({},mc),n);this.action=s,this.historyChanged=o,this.referrer=l,this.snapshot=h,this.snapshotHTML=p,this.response=v,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=y,this.willRender=b,this.updateHistory=C,this.scrolled=!b,this.shouldCacheSnapshot=B,this.acceptsStreamResponse=A}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==Se.initialized&&(this.recordTimingMetric(yt.visitStart),this.state=Se.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==Se.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=Se.canceled)}complete(){this.state==Se.started&&(this.recordTimingMetric(yt.visitEnd),this.state=Se.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==Se.started&&(this.state=Se.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){let i=this.location.href===((e=this.referrer)===null||e===void 0?void 0:e.href)?"replace":this.action,r=Hs(i);this.history.update(r,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Dt(this,pe.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(yt.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){let{statusCode:i}=e;Ns(i)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,i)}}finishRequest(){this.recordTimingMetric(yt.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:e,responseHTML:i}=this.response;this.render(async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,Ns(e)&&i!=null?(await this.view.renderPage(Ae.fromHTMLString(i),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(Ae.fromHTMLString(i),this),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){let e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!it(this.location)||e.hasAnchor(it(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return Ae.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let e=this.getCachedSnapshot();if(e){let i=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(e,i,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),i||this.complete())})}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&(!((e=this.response)===null||e===void 0)&&e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(Ne.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,i){}async requestSucceededWithResponse(e,i){let r=await i.responseHTML,{redirected:n,statusCode:s}=i;r==null?this.recordResponse({statusCode:Ke.contentTypeMismatch,redirected:n}):(this.redirectedToLocation=i.redirected?i.location:void 0,this.recordResponse({statusCode:s,responseHTML:r,redirected:n}))}async requestFailedWithResponse(e,i){let r=await i.responseHTML,{redirected:n,statusCode:s}=i;r==null?this.recordResponse({statusCode:Ke.contentTypeMismatch,redirected:n}):this.recordResponse({statusCode:s,responseHTML:r,redirected:n})}requestErrored(e,i){this.recordResponse({statusCode:Ke.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){let e=it(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(i=>{this.frame=requestAnimationFrame(()=>i())}),await e(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};function Ns(t){return t>=200&&t<300}var vr=class{constructor(e){this.progressBar=new xi,this.showProgressBar=()=>{this.progressBar.show()},this.session=e}visitProposedToLocation(e,i){this.navigator.startVisit(e,i?.restorationIdentifier||Et(),i)}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,i){switch(i){case Ke.networkFailure:case Ke.timeoutFailure:case Ke.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:i}});default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(e){this.reload(e)}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var i;se("turbo:reload",{detail:e}),window.location.href=((i=this.location)===null||i===void 0?void 0:i.toString())||window.location.href}get navigator(){return this.session.navigator}},br=class{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=e=>{for(let i of this.temporaryElements)i.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}},yr=class{constructor(e,i){this.session=e,this.element=i,this.linkInterceptor=new Si(this,i),this.formSubmitObserver=new Vt(this,i)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,i,r){return this.shouldRedirect(e)}linkClickIntercepted(e,i,r){let n=this.findFrameElement(e);n&&n.delegate.linkClickIntercepted(e,i,r)}willSubmitForm(e,i){return e.closest("turbo-frame")==null&&this.shouldSubmit(e,i)&&this.shouldRedirect(e,i)}formSubmitted(e,i){let r=this.findFrameElement(e,i);r&&r.delegate.formSubmitted(e,i)}shouldSubmit(e,i){var r;let n=Rr(e,i),s=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),o=le((r=s?.content)!==null&&r!==void 0?r:"/");return this.shouldRedirect(e,i)&&wt(n,o)}shouldRedirect(e,i){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,i):this.session.elementIsNavigatable(e)){let n=this.findFrameElement(e,i);return n?n!=e.closest("turbo-frame"):!1}else return!1}findFrameElement(e,i){let r=i?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(r&&r!="_top"){let n=this.element.querySelector(`#${r}:not([disabled])`);if(n instanceof Re)return n}}},wr=class{constructor(e){this.restorationIdentifier=Et(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=i=>{if(this.shouldHandlePopState()){let{turbo:r}=i.state||{};if(r){this.location=new URL(window.location.href);let{restorationIdentifier:n}=r;this.restorationIdentifier=n,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,n)}}},this.onPageLoad=async i=>{await $l(),this.pageLoaded=!0},this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,i){this.update(history.pushState,e,i)}replace(e,i){this.update(history.replaceState,e,i)}update(e,i,r=Et()){let n={turbo:{restorationIdentifier:r}};e.call(history,n,"",i.href),this.location=i,this.restorationIdentifier=r}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){let{restorationIdentifier:i}=this,r=this.restorationData[i];this.restorationData[i]=Object.assign(Object.assign({},r),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=(e=history.scrollRestoration)!==null&&e!==void 0?e:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},Er=class{constructor(e){this.delegate=e}proposeVisit(e,i={}){this.delegate.allowsVisitingLocationWithAction(e,i.action)&&(wt(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,i):window.location.href=e.toString())}startVisit(e,i,r={}){this.stop(),this.currentVisit=new gr(this,le(e),i,Object.assign({referrer:this.location},r)),this.currentVisit.start()}submitForm(e,i){this.stop(),this.formSubmission=new Bt(this,e,i,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,i){if(e==this.formSubmission){let r=await i.responseHTML;if(r){let n=e.isSafe;n||this.view.clearSnapshotCache();let{statusCode:s,redirected:o}=i,h={action:this.getActionForFormSubmission(e),shouldCacheSnapshot:n,response:{statusCode:s,responseHTML:r,redirected:o}};this.proposeVisit(i.location,h)}}}async formSubmissionFailedWithResponse(e,i){let r=await i.responseHTML;if(r){let n=Ae.fromHTMLString(r);i.serverError?await this.view.renderError(n,this.currentVisit):await this.view.renderPage(n,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,i){console.error(i)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,i){let r=it(e),n=it(this.view.lastRenderedLocation),s=i==="restore"&&typeof r>"u";return i!=="replace"&&ur(e)===ur(this.view.lastRenderedLocation)&&(s||r!=null&&r!==n)}visitScrolledToSamePageLocation(e,i){this.delegate.visitScrolledToSamePageLocation(e,i)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:e,formElement:i}){return Oi(e,i)||"advance"}},Pe;(function(t){t[t.initial=0]="initial",t[t.loading=1]="loading",t[t.interactive=2]="interactive",t[t.complete=3]="complete"})(Pe||(Pe={}));var Sr=class{constructor(e){this.stage=Pe.initial,this.started=!1,this.interpretReadyState=()=>{let{readyState:i}=this;i=="interactive"?this.pageIsInteractive():i=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=e}start(){this.started||(this.stage==Pe.initial&&(this.stage=Pe.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==Pe.loading&&(this.stage=Pe.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==Pe.interactive&&(this.stage=Pe.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}},Ar=class{constructor(e){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}},_r=class{render({fragment:e}){Ti.preservingPermanentElements(this,pc(e),()=>document.documentElement.appendChild(e))}enteringBardo(e,i){i.replaceWith(e.cloneNode(!0))}leavingBardo(){}};function pc(t){let e=Ws(document.documentElement),i={};for(let r of e){let{id:n}=r;for(let s of t.querySelectorAll("turbo-stream")){let o=Ks(s.templateElement.content,n);o&&(i[n]=[r,o])}}return i}var Tr=class{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=i=>{let r=gc(i);r&&vc(r)&&(i.preventDefault(),this.receiveMessageResponse(r))},this.receiveMessageEvent=i=>{this.started&&typeof i.data=="string"&&this.receiveMessageHTML(i.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){let i=await e.responseHTML;i&&this.receiveMessageHTML(i)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(Ne.wrap(e))}};function gc(t){var e;let i=(e=t.detail)===null||e===void 0?void 0:e.fetchResponse;if(i instanceof Rt)return i}function vc(t){var e;return((e=t.contentType)!==null&&e!==void 0?e:"").startsWith(Ne.contentType)}var Ci=class extends jt{static renderElement(e,i){let{documentElement:r,body:n}=document;r.replaceChild(i,n)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:e,head:i}=document;e.replaceChild(this.newHead,i),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let e of this.scriptElements){let i=e.parentNode;if(i){let r=Nt(e);i.replaceChild(r,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},qt=class extends jt{static renderElement(e,i){document.body&&i instanceof HTMLBodyElement?document.body.replaceWith(i):document.documentElement.appendChild(i)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){let e=this.mergeProvisionalElements(),i=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await i}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let e=[];for(let i of this.newHeadStylesheetElements)e.push(zl(i)),document.head.appendChild(i);await Promise.all(e)}copyNewHeadScriptElements(){for(let e of this.newHeadScriptElements)document.head.appendChild(Nt(e))}async mergeProvisionalElements(){let e=[...this.newHeadProvisionalElements];for(let i of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(i,e)||document.head.removeChild(i);for(let i of e)document.head.appendChild(i)}isCurrentElementInElementList(e,i){for(let[r,n]of i.entries()){if(e.tagName=="TITLE"){if(n.tagName!="TITLE")continue;if(e.innerHTML==n.innerHTML)return i.splice(r,1),!0}if(n.isEqualNode(e))return i.splice(r,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(let e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let e of this.newBodyScriptElements){let i=Nt(e);e.replaceWith(i)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}},xr=class{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return gi(e)in this.snapshots}get(e){if(this.has(e)){let i=this.read(e);return this.touch(e),i}}put(e,i){return this.write(e,i),this.touch(e),i}clear(){this.snapshots={}}read(e){return this.snapshots[gi(e)]}write(e,i){this.snapshots[gi(e)]=i}touch(e){let i=gi(e),r=this.keys.indexOf(i);r>-1&&this.keys.splice(r,1),this.keys.unshift(i),this.trim()}trim(){for(let e of this.keys.splice(this.size))delete this.snapshots[e]}},Cr=class extends Ei{constructor(){super(...arguments),this.snapshotCache=new xr(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(e,i=!1,r=!0,n){let s=new qt(this.snapshot,e,qt.renderElement,i,r);return s.shouldRender?n?.changeHistory():this.forceReloaded=!0,this.render(s)}renderError(e,i){i?.changeHistory();let r=new Ci(this.snapshot,e,Ci.renderElement,!1);return this.render(r)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:i}=this;await jl();let r=e.clone();return this.snapshotCache.put(i,r),r}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return Ae.fromElement(this.element)}},Or=class{constructor(e){this.selector="a[data-turbo-preload]",this.delegate=e}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(e){for(let i of e.querySelectorAll(this.selector))this.preloadURL(i)}async preloadURL(e){let i=new URL(e.href);if(!this.snapshotCache.has(i))try{let n=await(await fetch(i.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),s=Ae.fromHTMLString(n);this.snapshotCache.put(i,s)}catch{}}},Lr=class{constructor(){this.navigator=new Er(this),this.history=new wr(this),this.preloader=new Or(this),this.view=new Cr(this,document.documentElement),this.adapter=new vr(this),this.pageObserver=new Sr(this),this.cacheObserver=new br,this.linkClickObserver=new Ai(this,window),this.formSubmitObserver=new Vt(this,document),this.scrollObserver=new Ar(this),this.streamObserver=new Tr(this),this.formLinkClickObserver=new _i(this,document.documentElement),this.frameRedirector=new yr(this,document.documentElement),this.streamMessageRenderer=new _r,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,i={}){let r=i.frame?document.getElementById(i.frame):null;r instanceof Re?(r.src=e.toString(),r.loaded):this.navigator.proposeVisit(le(e),i)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(Ne.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}setFormMode(e){this.formMode=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,i){this.enabled?this.navigator.startVisit(e,i,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,i){return this.elementIsNavigatable(e)&&wt(i,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(e,i,r){return this.elementIsNavigatable(e)&&wt(i,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,i,r)}followedLinkToLocation(e,i){let r=this.getActionForLink(e),n=e.hasAttribute("data-turbo-stream");this.visit(i.href,{action:r,acceptsStreamResponse:n})}allowsVisitingLocationWithAction(e,i){return this.locationWithActionIsSamePage(e,i)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,i){Ds(e),this.adapter.visitProposedToLocation(e,i)}visitStarted(e){e.acceptsStreamResponse||hr(document.documentElement),Ds(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){dr(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,i){return this.navigator.locationWithActionIsSamePage(e,i)}visitScrolledToSamePageLocation(e,i){this.notifyApplicationAfterVisitingSamePageLocation(e,i)}willSubmitForm(e,i){let r=Rr(e,i);return this.submissionIsNavigatable(e,i)&&wt(le(r),this.snapshot.rootLocation)}formSubmitted(e,i){this.navigator.submitForm(e,i)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;!((e=this.navigator.currentVisit)===null||e===void 0)&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},i){let r=this.notifyApplicationBeforeRender(e,i),{defaultPrevented:n,detail:{render:s}}=r;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!n}viewRenderedSnapshot(e,i){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,i){this.notifyApplicationAfterFrameRender(e,i)}applicationAllowsFollowingLinkToLocation(e,i,r){return!this.notifyApplicationAfterClickingLinkToLocation(e,i,r).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,i,r){return se("turbo:click",{target:e,detail:{url:i.href,originalEvent:r},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return se("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,i){return se("turbo:visit",{detail:{url:e.href,action:i}})}notifyApplicationBeforeCachingSnapshot(){return se("turbo:before-cache")}notifyApplicationBeforeRender(e,i){return se("turbo:before-render",{detail:Object.assign({newBody:e},i),cancelable:!0})}notifyApplicationAfterRender(){return se("turbo:render")}notifyApplicationAfterPageLoad(e={}){return se("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,i){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:i.toString()}))}notifyApplicationAfterFrameLoad(e){return se("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,i){return se("turbo:frame-render",{detail:{fetchResponse:e},target:i,cancelable:!0})}submissionIsNavigatable(e,i){if(this.formMode=="off")return!1;{let r=i?this.elementIsNavigatable(i):!0;return this.formMode=="optin"?r&&e.closest('[data-turbo="true"]')!=null:r&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){let i=wi(e,"[data-turbo]"),r=wi(e,"turbo-frame");return this.drive||r?i?i.getAttribute("data-turbo")!="false":!0:i?i.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return Oi(e)||"advance"}get snapshot(){return this.view.snapshot}};function Ds(t){Object.defineProperties(t,bc)}var bc={absoluteURL:{get(){return this.toString()}}},kr=class{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(e){Wl("turbo-cache-control",e)}},Us={after(){this.targetElements.forEach(t=>{var e;return(e=t.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,t.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.append(this.templateContent))},before(){this.targetElements.forEach(t=>{var e;return(e=t.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,t)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.prepend(this.templateContent))},remove(){this.targetElements.forEach(t=>t.remove())},replace(){this.targetElements.forEach(t=>t.replaceWith(this.templateContent))},update(){this.targetElements.forEach(t=>{t.innerHTML="",t.append(this.templateContent)})}},K=new Lr,yc=new kr(K),{navigator:wc}=K;function Ys(){K.start()}function Ec(t){K.registerAdapter(t)}function Sc(t,e){K.visit(t,e)}function Xs(t){K.connectStreamSource(t)}function Js(t){K.disconnectStreamSource(t)}function Ac(t){K.renderStreamMessage(t)}function _c(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),K.clearCache()}function Tc(t){K.setProgressBarDelay(t)}function xc(t){Bt.confirmMethod=t}function Cc(t){K.setFormMode(t)}var Oc=Object.freeze({__proto__:null,navigator:wc,session:K,cache:yc,PageRenderer:qt,PageSnapshot:Ae,FrameRenderer:$t,start:Ys,registerAdapter:Ec,visit:Sc,connectStreamSource:Xs,disconnectStreamSource:Js,renderStreamMessage:Ac,clearCache:_c,setProgressBarDelay:Tc,setConfirmMethod:xc,setFormMode:Cc,StreamActions:Us}),Mr=class extends Error{},Fr=class{constructor(e){this.fetchResponseLoaded=i=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:i})=>{let r=i.querySelector("#"+this.element.id);r&&this.previousFrameElement&&r.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=e,this.view=new mr(this,this.element),this.appearanceObserver=new fr(this,this.element),this.formLinkClickObserver=new _i(this,this.element),this.linkInterceptor=new Si(this,this.element),this.restorationIdentifier=Et(),this.formSubmitObserver=new Vt(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==ze.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==ze.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==ze.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){let{src:e}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=e,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==ze.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(le(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{let i=await e.responseHTML;if(i){let r=$s(i);Ae.fromDocument(r).isVisitable?await this.loadFrameResponse(e,r):await this.handleUnvisitableFrameResponse(e)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,e),this.loadSourceURL()}willSubmitFormLinkToLocation(e){return this.shouldInterceptNavigation(e)}submittedFormLinkToLocation(e,i,r){let n=this.findFrameElement(e);n&&r.setAttribute("data-turbo-frame",n.id)}shouldInterceptLinkClick(e,i,r){return this.shouldInterceptNavigation(e)}linkClickIntercepted(e,i){this.navigateFrame(e,i)}willSubmitForm(e,i){return e.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(e,i)}formSubmitted(e,i){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new Bt(this,e,i);let{fetchRequest:r}=this.formSubmission;this.prepareRequest(r),this.formSubmission.start()}prepareRequest(e){var i;e.headers["Turbo-Frame"]=this.id,!((i=this.currentNavigationElement)===null||i===void 0)&&i.hasAttribute("data-turbo-stream")&&e.acceptResponseType(Ne.contentType)}requestStarted(e){hr(this.element)}requestPreventedHandlingResponse(e,i){this.resolveVisitPromise()}async requestSucceededWithResponse(e,i){await this.loadResponse(i),this.resolveVisitPromise()}async requestFailedWithResponse(e,i){await this.loadResponse(i),this.resolveVisitPromise()}requestErrored(e,i){console.error(i),this.resolveVisitPromise()}requestFinished(e){dr(this.element)}formSubmissionStarted({formElement:e}){hr(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,i){let r=this.findFrameElement(e.formElement,e.submitter);r.delegate.proposeVisitIfNavigatedWithAction(r,e.formElement,e.submitter),r.delegate.loadResponse(i),e.isSafe||K.clearCache()}formSubmissionFailedWithResponse(e,i){this.element.delegate.loadResponse(i),K.clearCache()}formSubmissionErrored(e,i){console.error(i)}formSubmissionFinished({formElement:e}){dr(e,this.findFrameElement(e))}allowsImmediateRender({element:e},i){let r=se("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:e},i),cancelable:!0}),{defaultPrevented:n,detail:{render:s}}=r;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!n}viewRenderedSnapshot(e,i){}preloadOnLoadLinksForView(e){K.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,i){this.previousFrameElement=e.cloneNode(!0)}async loadFrameResponse(e,i){let r=await this.extractForeignFrameElement(i.body);if(r){let n=new St(r),s=new $t(this,this.view.snapshot,n,$t.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(s),this.complete=!0,K.frameRendered(e,this.element),K.frameLoaded(this.element),this.fetchResponseLoaded(e)}else this.willHandleFrameMissingFromResponse(e)&&this.handleFrameMissingFromResponse(e)}async visit(e){var i;let r=new Dt(this,pe.get,e,new URLSearchParams,this.element);return(i=this.currentFetchRequest)===null||i===void 0||i.cancel(),this.currentFetchRequest=r,new Promise(n=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,n()},r.perform()})}navigateFrame(e,i,r){let n=this.findFrameElement(e,r);n.delegate.proposeVisitIfNavigatedWithAction(n,e,r),this.withCurrentNavigationElement(e,()=>{n.src=i})}proposeVisitIfNavigatedWithAction(e,i,r){if(this.action=Oi(r,i,e),this.action){let n=Ae.fromElement(e).clone(),{visitCachedSnapshot:s}=e.delegate;e.delegate.fetchResponseLoaded=o=>{if(e.src){let{statusCode:l,redirected:h}=o,p=e.ownerDocument.documentElement.outerHTML,y={response:{statusCode:l,redirected:h,responseHTML:p},visitCachedSnapshot:s,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:n};this.action&&(y.action=this.action),K.visit(e.src,y)}}}}changeHistory(){if(this.action){let e=Hs(this.action);K.history.update(e,le(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(e.response)}willHandleFrameMissingFromResponse(e){this.element.setAttribute("complete","");let i=e.response,r=async(s,o={})=>{s instanceof Response?this.visitResponse(s):K.visit(s,o)};return!se("turbo:frame-missing",{target:this.element,detail:{response:i,visit:r},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(e){this.view.missing(),this.throwFrameMissingError(e)}throwFrameMissingError(e){let i=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new Mr(i)}async visitResponse(e){let i=new Rt(e),r=await i.responseHTML,{location:n,redirected:s,statusCode:o}=i;return K.visit(n,{response:{redirected:s,statusCode:o,responseHTML:r}})}findFrameElement(e,i){var r;let n=bi("data-turbo-frame",i,e)||this.element.getAttribute("target");return(r=Bs(n))!==null&&r!==void 0?r:this.element}async extractForeignFrameElement(e){let i,r=CSS.escape(this.id);try{if(i=Vs(e.querySelector(`turbo-frame#${r}`),this.sourceURL),i)return i;if(i=Vs(e.querySelector(`turbo-frame[src][recurse~=${r}]`),this.sourceURL),i)return await i.loaded,await this.extractForeignFrameElement(i)}catch(n){return console.error(n),new Re}return null}formActionIsVisitable(e,i){let r=Rr(e,i);return wt(le(r),this.rootLocation)}shouldInterceptNavigation(e,i){let r=bi("data-turbo-frame",i,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.formActionIsVisitable(e,i)||!this.enabled||r=="_top")return!1;if(r){let n=Bs(r);if(n)return!n.disabled}return!(!K.elementIsNavigatable(e)||i&&!K.elementIsNavigatable(i))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.ignoringChangesToAttribute("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){this.ignoringChangesToAttribute("complete",()=>{e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var e;let i=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),r=(e=i?.content)!==null&&e!==void 0?e:"/";return le(r)}isIgnoringChangesTo(e){return this.ignoredAttributes.has(e)}ignoringChangesToAttribute(e,i){this.ignoredAttributes.add(e),i(),this.ignoredAttributes.delete(e)}withCurrentNavigationElement(e,i){this.currentNavigationElement=e,i(),delete this.currentNavigationElement}};function Bs(t){if(t!=null){let e=document.getElementById(t);if(e instanceof Re)return e}}function Vs(t,e){if(t){let i=t.getAttribute("src");if(i!=null&&e!=null&&Il(i,e))throw new Error(`Matching <turbo-frame id="${t.id}"> element has a source URL which references itself`);if(t.ownerDocument!==document&&(t=document.importNode(t,!0)),t instanceof Re)return t.connectedCallback(),t.disconnectedCallback(),t}}var Ir=class t extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return(e=this.renderPromise)!==null&&e!==void 0?e:this.renderPromise=(async()=>{let i=this.beforeRenderEvent;this.dispatchEvent(i)&&(await vi(),await i.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){var e;let i=this.targetElements.flatMap(n=>[...n.children]).filter(n=>!!n.id),r=[...((e=this.templateContent)===null||e===void 0?void 0:e.children)||[]].filter(n=>!!n.id).map(n=>n.id);return i.filter(n=>r.includes(n.id))}get performAction(){if(this.action){let e=Us[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,i;return(i=((e=this.outerHTML.match(/<[^>]+>/))!==null&&e!==void 0?e:[])[0])!==null&&i!==void 0?i:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:t.renderElement}})}get targetElementsById(){var e;let i=(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.target);return i!==null?[i]:[]}get targetElementsByQuery(){var e;let i=(e=this.ownerDocument)===null||e===void 0?void 0:e.querySelectorAll(this.targets);return i.length!==0?Array.prototype.slice.call(i):[]}},Pr=class extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Xs(this.streamSource)}disconnectedCallback(){this.streamSource&&Js(this.streamSource)}get src(){return this.getAttribute("src")||""}};Re.delegateConstructor=Fr;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Re);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",Ir);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",Pr);(()=>{let t=document.currentScript;if(t&&!t.hasAttribute("data-turbo-suppress-warning"))for(t=t.parentElement;t;){if(t==document.body)return console.warn(qs`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,t.outerHTML);t=t.parentElement}})();window.Turbo=Oc;Ys();var jr=!1,$r=!1,st=[],qr=-1;function Lc(t){kc(t)}function kc(t){st.includes(t)||st.push(t),Mc()}function fo(t){let e=st.indexOf(t);e!==-1&&e>qr&&st.splice(e,1)}function Mc(){!$r&&!jr&&(jr=!0,queueMicrotask(Fc))}function Fc(){jr=!1,$r=!0;for(let t=0;t<st.length;t++)st[t](),qr=t;st.length=0,qr=-1,$r=!1}var Tt,ct,xt,mo,Hr=!0;function Ic(t){Hr=!1,t(),Hr=!0}function Pc(t){Tt=t.reactive,xt=t.release,ct=e=>t.effect(e,{scheduler:i=>{Hr?Lc(i):i()}}),mo=t.raw}function Zs(t){ct=t}function Rc(t){let e=()=>{};return[r=>{let n=ct(r);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(s=>s())}),t._x_effects.add(n),e=()=>{n!==void 0&&(t._x_effects.delete(n),xt(n))},n},()=>{e()}]}function po(t,e){let i=!0,r,n=ct(()=>{let s=t();JSON.stringify(s),i?r=s:queueMicrotask(()=>{e(s,r),r=s}),i=!1});return()=>xt(n)}function Ut(t,e,i={}){t.dispatchEvent(new CustomEvent(e,{detail:i,bubbles:!0,composed:!0,cancelable:!0}))}function Ue(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(n=>Ue(n,e));return}let i=!1;if(e(t,()=>i=!0),i)return;let r=t.firstElementChild;for(;r;)Ue(r,e,!1),r=r.nextElementSibling}function _e(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var Gs=!1;function Nc(){Gs&&_e("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Gs=!0,document.body||_e("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Ut(document,"alpine:init"),Ut(document,"alpine:initializing"),un(),Vc(e=>De(e,Ue)),an(e=>on(e)),To((e,i)=>{mn(e,i).forEach(r=>r())});let t=e=>!Vi(e.parentElement,!0);Array.from(document.querySelectorAll(bo().join(","))).filter(t).forEach(e=>{De(e)}),Ut(document,"alpine:initialized")}var sn=[],go=[];function vo(){return sn.map(t=>t())}function bo(){return sn.concat(go).map(t=>t())}function yo(t){sn.push(t)}function wo(t){go.push(t)}function Vi(t,e=!1){return Jt(t,i=>{if((e?bo():vo()).some(n=>i.matches(n)))return!0})}function Jt(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Jt(t.parentElement,e)}}function Dc(t){return vo().some(e=>t.matches(e))}var Eo=[];function Bc(t){Eo.push(t)}function De(t,e=Ue,i=()=>{}){Qc(()=>{e(t,(r,n)=>{i(r,n),Eo.forEach(s=>s(r,n)),mn(r,r.attributes).forEach(s=>s()),r._x_ignore&&n()})})}function on(t,e=Ue){e(t,i=>{Co(i),jc(i)})}var So=[],Ao=[],_o=[];function Vc(t){_o.push(t)}function an(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,Ao.push(e))}function To(t){So.push(t)}function xo(t,e,i){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(i)}function Co(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([i,r])=>{(e===void 0||e.includes(i))&&(r.forEach(n=>n()),delete t._x_attributeCleanups[i])})}function jc(t){if(t._x_cleanups)for(;t._x_cleanups.length;)t._x_cleanups.pop()()}var ln=new MutationObserver(dn),cn=!1;function un(){ln.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),cn=!0}function Oo(){$c(),ln.disconnect(),cn=!1}var Ht=[];function $c(){let t=ln.takeRecords();Ht.push(()=>t.length>0&&dn(t));let e=Ht.length;queueMicrotask(()=>{if(Ht.length===e)for(;Ht.length>0;)Ht.shift()()})}function ie(t){if(!cn)return t();Oo();let e=t();return un(),e}var hn=!1,Ni=[];function qc(){hn=!0}function Hc(){hn=!1,dn(Ni),Ni=[]}function dn(t){if(hn){Ni=Ni.concat(t);return}let e=new Set,i=new Set,r=new Map,n=new Map;for(let s=0;s<t.length;s++)if(!t[s].target._x_ignoreMutationObserver&&(t[s].type==="childList"&&(t[s].addedNodes.forEach(o=>o.nodeType===1&&e.add(o)),t[s].removedNodes.forEach(o=>o.nodeType===1&&i.add(o))),t[s].type==="attributes")){let o=t[s].target,l=t[s].attributeName,h=t[s].oldValue,p=()=>{r.has(o)||r.set(o,[]),r.get(o).push({name:l,value:o.getAttribute(l)})},v=()=>{n.has(o)||n.set(o,[]),n.get(o).push(l)};o.hasAttribute(l)&&h===null?p():o.hasAttribute(l)?(v(),p()):v()}n.forEach((s,o)=>{Co(o,s)}),r.forEach((s,o)=>{So.forEach(l=>l(o,s))});for(let s of i)e.has(s)||(Ao.forEach(o=>o(s)),on(s));e.forEach(s=>{s._x_ignoreSelf=!0,s._x_ignore=!0});for(let s of e)i.has(s)||s.isConnected&&(delete s._x_ignoreSelf,delete s._x_ignore,_o.forEach(o=>o(s)),s._x_ignore=!0,s._x_ignoreSelf=!0);e.forEach(s=>{delete s._x_ignoreSelf,delete s._x_ignore}),e=null,i=null,r=null,n=null}function Lo(t){return Gt(At(t))}function Zt(t,e,i){return t._x_dataStack=[e,...At(i||t)],()=>{t._x_dataStack=t._x_dataStack.filter(r=>r!==e)}}function At(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?At(t.host):t.parentNode?At(t.parentNode):[]}function Gt(t){return new Proxy({objects:t},zc)}var zc={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(e=>Object.keys(e))))},has({objects:t},e){return e==Symbol.unscopables?!1:t.some(i=>Object.prototype.hasOwnProperty.call(i,e)||Reflect.has(i,e))},get({objects:t},e,i){return e=="toJSON"?Kc:Reflect.get(t.find(r=>Reflect.has(r,e))||{},e,i)},set({objects:t},e,i,r){let n=t.find(o=>Object.prototype.hasOwnProperty.call(o,e))||t[t.length-1],s=Object.getOwnPropertyDescriptor(n,e);return s?.set&&s?.get?Reflect.set(n,e,i,r):Reflect.set(n,e,i)}};function Kc(){return Reflect.ownKeys(this).reduce((e,i)=>(e[i]=Reflect.get(this,i),e),{})}function ko(t){let e=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,i=(r,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([s,{value:o,enumerable:l}])=>{if(l===!1||o===void 0||typeof o=="object"&&o!==null&&o.__v_skip)return;let h=n===""?s:`${n}.${s}`;typeof o=="object"&&o!==null&&o._x_interceptor?r[s]=o.initialize(t,h,s):e(o)&&o!==r&&!(o instanceof Element)&&i(o,h)})};return i(t)}function Mo(t,e=()=>{}){let i={initialValue:void 0,_x_interceptor:!0,initialize(r,n,s){return t(this.initialValue,()=>Wc(r,n),o=>zr(r,n,o),n,s)}};return e(i),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let n=i.initialize.bind(i);i.initialize=(s,o,l)=>{let h=r.initialize(s,o,l);return i.initialValue=h,n(s,o,l)}}else i.initialValue=r;return i}}function Wc(t,e){return e.split(".").reduce((i,r)=>i[r],t)}function zr(t,e,i){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=i;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),zr(t[e[0]],e.slice(1),i)}}var Fo={};function xe(t,e){Fo[t]=e}function Kr(t,e){return Object.entries(Fo).forEach(([i,r])=>{let n=null;function s(){if(n)return n;{let[o,l]=Bo(e);return n={interceptor:Mo,...o},an(e,l),n}}Object.defineProperty(t,`$${i}`,{get(){return r(e,s())},enumerable:!1})}),t}function Uc(t,e,i,...r){try{return i(...r)}catch(n){Xt(n,t,e)}}function Xt(t,e,i=void 0){t=Object.assign(t??{message:"No error message given."},{el:e,expression:i}),console.warn(`Alpine Expression Error: ${t.message}

${i?'Expression: "'+i+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var Pi=!0;function Io(t){let e=Pi;Pi=!1;let i=t();return Pi=e,i}function ot(t,e,i={}){let r;return ue(t,e)(n=>r=n,i),r}function ue(...t){return Po(...t)}var Po=Ro;function Yc(t){Po=t}function Ro(t,e){let i={};Kr(i,t);let r=[i,...At(t)],n=typeof e=="function"?Xc(r,e):Zc(r,e,t);return Uc.bind(null,t,e,n)}function Xc(t,e){return(i=()=>{},{scope:r={},params:n=[]}={})=>{let s=e.apply(Gt([r,...t]),n);Di(i,s)}}var Nr={};function Jc(t,e){if(Nr[t])return Nr[t];let i=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,s=(()=>{try{let o=new i(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(o,"name",{value:`[Alpine] ${t}`}),o}catch(o){return Xt(o,e,t),Promise.resolve()}})();return Nr[t]=s,s}function Zc(t,e,i){let r=Jc(e,i);return(n=()=>{},{scope:s={},params:o=[]}={})=>{r.result=void 0,r.finished=!1;let l=Gt([s,...t]);if(typeof r=="function"){let h=r(r,l).catch(p=>Xt(p,i,e));r.finished?(Di(n,r.result,l,o,i),r.result=void 0):h.then(p=>{Di(n,p,l,o,i)}).catch(p=>Xt(p,i,e)).finally(()=>r.result=void 0)}}}function Di(t,e,i,r,n){if(Pi&&typeof e=="function"){let s=e.apply(i,r);s instanceof Promise?s.then(o=>Di(t,o,i,r)).catch(o=>Xt(o,n,e)):t(s)}else typeof e=="object"&&e instanceof Promise?e.then(s=>t(s)):t(e)}var fn="x-";function Ct(t=""){return fn+t}function Gc(t){fn=t}var Wr={};function te(t,e){return Wr[t]=e,{before(i){if(!Wr[i]){console.warn(String.raw`Cannot find directive \`${i}\`. \`${t}\` will use the default order of execution`);return}let r=nt.indexOf(i);nt.splice(r>=0?r:nt.indexOf("DEFAULT"),0,t)}}}function mn(t,e,i){if(e=Array.from(e),t._x_virtualDirectives){let s=Object.entries(t._x_virtualDirectives).map(([l,h])=>({name:l,value:h})),o=No(s);s=s.map(l=>o.find(h=>h.name===l.name)?{name:`x-bind:${l.name}`,value:`"${l.value}"`}:l),e=e.concat(s)}let r={};return e.map($o((s,o)=>r[s]=o)).filter(Ho).map(tu(r,i)).sort(iu).map(s=>eu(t,s))}function No(t){return Array.from(t).map($o()).filter(e=>!Ho(e))}var Ur=!1,Wt=new Map,Do=Symbol();function Qc(t){Ur=!0;let e=Symbol();Do=e,Wt.set(e,[]);let i=()=>{for(;Wt.get(e).length;)Wt.get(e).shift()();Wt.delete(e)},r=()=>{Ur=!1,i()};t(i),r()}function Bo(t){let e=[],i=l=>e.push(l),[r,n]=Rc(t);return e.push(n),[{Alpine:Qt,effect:r,cleanup:i,evaluateLater:ue.bind(ue,t),evaluate:ot.bind(ot,t)},()=>e.forEach(l=>l())]}function eu(t,e){let i=()=>{},r=Wr[e.type]||i,[n,s]=Bo(t);xo(t,e.original,s);let o=()=>{t._x_ignore||t._x_ignoreSelf||(r.inline&&r.inline(t,e,n),r=r.bind(r,t,e,n),Ur?Wt.get(Do).push(r):r())};return o.runCleanups=s,o}var Vo=(t,e)=>({name:i,value:r})=>(i.startsWith(t)&&(i=i.replace(t,e)),{name:i,value:r}),jo=t=>t;function $o(t=()=>{}){return({name:e,value:i})=>{let{name:r,value:n}=qo.reduce((s,o)=>o(s),{name:e,value:i});return r!==e&&t(r,e),{name:r,value:n}}}var qo=[];function pn(t){qo.push(t)}function Ho({name:t}){return zo().test(t)}var zo=()=>new RegExp(`^${fn}([^:^.]+)\\b`);function tu(t,e){return({name:i,value:r})=>{let n=i.match(zo()),s=i.match(/:([a-zA-Z0-9\-_:]+)/),o=i.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],l=e||t[i]||i;return{type:n?n[1]:null,value:s?s[1]:null,modifiers:o.map(h=>h.replace(".","")),expression:r,original:l}}}var Yr="DEFAULT",nt=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Yr,"teleport"];function iu(t,e){let i=nt.indexOf(t.type)===-1?Yr:t.type,r=nt.indexOf(e.type)===-1?Yr:e.type;return nt.indexOf(i)-nt.indexOf(r)}var Xr=[],gn=!1;function vn(t=()=>{}){return queueMicrotask(()=>{gn||setTimeout(()=>{Jr()})}),new Promise(e=>{Xr.push(()=>{t(),e()})})}function Jr(){for(gn=!1;Xr.length;)Xr.shift()()}function ru(){gn=!0}function bn(t,e){return Array.isArray(e)?Qs(t,e.join(" ")):typeof e=="object"&&e!==null?nu(t,e):typeof e=="function"?bn(t,e()):Qs(t,e)}function Qs(t,e){let i=s=>s.split(" ").filter(Boolean),r=s=>s.split(" ").filter(o=>!t.classList.contains(o)).filter(Boolean),n=s=>(t.classList.add(...s),()=>{t.classList.remove(...s)});return e=e===!0?e="":e||"",n(r(e))}function nu(t,e){let i=l=>l.split(" ").filter(Boolean),r=Object.entries(e).flatMap(([l,h])=>h?i(l):!1).filter(Boolean),n=Object.entries(e).flatMap(([l,h])=>h?!1:i(l)).filter(Boolean),s=[],o=[];return n.forEach(l=>{t.classList.contains(l)&&(t.classList.remove(l),o.push(l))}),r.forEach(l=>{t.classList.contains(l)||(t.classList.add(l),s.push(l))}),()=>{o.forEach(l=>t.classList.add(l)),s.forEach(l=>t.classList.remove(l))}}function ji(t,e){return typeof e=="object"&&e!==null?su(t,e):ou(t,e)}function su(t,e){let i={};return Object.entries(e).forEach(([r,n])=>{i[r]=t.style[r],r.startsWith("--")||(r=au(r)),t.style.setProperty(r,n)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{ji(t,i)}}function ou(t,e){let i=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",i||"")}}function au(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Zr(t,e=()=>{}){let i=!1;return function(){i?e.apply(this,arguments):(i=!0,t.apply(this,arguments))}}te("transition",(t,{value:e,modifiers:i,expression:r},{evaluate:n})=>{typeof r=="function"&&(r=n(r)),r!==!1&&(!r||typeof r=="boolean"?cu(t,i,e):lu(t,r,e))});function lu(t,e,i){Ko(t,bn,""),{enter:n=>{t._x_transition.enter.during=n},"enter-start":n=>{t._x_transition.enter.start=n},"enter-end":n=>{t._x_transition.enter.end=n},leave:n=>{t._x_transition.leave.during=n},"leave-start":n=>{t._x_transition.leave.start=n},"leave-end":n=>{t._x_transition.leave.end=n}}[i](e)}function cu(t,e,i){Ko(t,ji);let r=!e.includes("in")&&!e.includes("out")&&!i,n=r||e.includes("in")||["enter"].includes(i),s=r||e.includes("out")||["leave"].includes(i);e.includes("in")&&!r&&(e=e.filter((O,k)=>k<e.indexOf("out"))),e.includes("out")&&!r&&(e=e.filter((O,k)=>k>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),l=o||e.includes("opacity"),h=o||e.includes("scale"),p=l?0:1,v=h?zt(e,"scale",95)/100:1,y=zt(e,"delay",0)/1e3,b=zt(e,"origin","center"),C="opacity, transform",B=zt(e,"duration",150)/1e3,A=zt(e,"duration",75)/1e3,x="cubic-bezier(0.4, 0.0, 0.2, 1)";n&&(t._x_transition.enter.during={transformOrigin:b,transitionDelay:`${y}s`,transitionProperty:C,transitionDuration:`${B}s`,transitionTimingFunction:x},t._x_transition.enter.start={opacity:p,transform:`scale(${v})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(t._x_transition.leave.during={transformOrigin:b,transitionDelay:`${y}s`,transitionProperty:C,transitionDuration:`${A}s`,transitionTimingFunction:x},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:p,transform:`scale(${v})`})}function Ko(t,e,i={}){t._x_transition||(t._x_transition={enter:{during:i,start:i,end:i},leave:{during:i,start:i,end:i},in(r=()=>{},n=()=>{}){Gr(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,n)},out(r=()=>{},n=()=>{}){Gr(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,n)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,i,r){let n=document.visibilityState==="visible"?requestAnimationFrame:setTimeout,s=()=>n(i);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(i):s():t._x_transition?t._x_transition.in(i):s();return}t._x_hidePromise=t._x_transition?new Promise((o,l)=>{t._x_transition.out(()=>{},()=>o(r)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>l({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let o=Wo(t);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(t)):n(()=>{let l=h=>{let p=Promise.all([h._x_hidePromise,...(h._x_hideChildren||[]).map(l)]).then(([v])=>v());return delete h._x_hidePromise,delete h._x_hideChildren,p};l(t).catch(h=>{if(!h.isFromCancelledTransition)throw h})})})};function Wo(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:Wo(e)}function Gr(t,e,{during:i,start:r,end:n}={},s=()=>{},o=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(i).length===0&&Object.keys(r).length===0&&Object.keys(n).length===0){s(),o();return}let l,h,p;uu(t,{start(){l=e(t,r)},during(){h=e(t,i)},before:s,end(){l(),p=e(t,n)},after:o,cleanup(){h(),p()}})}function uu(t,e){let i,r,n,s=Zr(()=>{ie(()=>{i=!0,r||e.before(),n||(e.end(),Jr()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:Zr(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},ie(()=>{e.start(),e.during()}),ru(),requestAnimationFrame(()=>{if(i)return;let o=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,l=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),ie(()=>{e.before()}),r=!0,requestAnimationFrame(()=>{i||(ie(()=>{e.end()}),Jr(),setTimeout(t._x_transitioning.finish,o+l),n=!0)})})}function zt(t,e,i){if(t.indexOf(e)===-1)return i;let r=t[t.indexOf(e)+1];if(!r||e==="scale"&&isNaN(r))return i;if(e==="duration"||e==="delay"){let n=r.match(/([0-9]+)ms/);if(n)return n[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[r,t[t.indexOf(e)+2]].join(" "):r}var Ye=!1;function ut(t,e=()=>{}){return(...i)=>Ye?e(...i):t(...i)}function hu(t){return(...e)=>Ye&&t(...e)}var Uo=[];function $i(t){Uo.push(t)}function du(t,e){Uo.forEach(i=>i(t,e)),Ye=!0,Yo(()=>{De(e,(i,r)=>{r(i,()=>{})})}),Ye=!1}var Qr=!1;function fu(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),Ye=!0,Qr=!0,Yo(()=>{mu(e)}),Ye=!1,Qr=!1}function mu(t){let e=!1;De(t,(r,n)=>{Ue(r,(s,o)=>{if(e&&Dc(s))return o();e=!0,n(s,o)})})}function Yo(t){let e=ct;Zs((i,r)=>{let n=e(i);return xt(n),()=>{}}),t(),Zs(e)}function Xo(t,e,i,r=[]){switch(t._x_bindings||(t._x_bindings=Tt({})),t._x_bindings[e]=i,e=r.includes("camel")?Su(e):e,e){case"value":pu(t,i);break;case"style":vu(t,i);break;case"class":gu(t,i);break;case"selected":case"checked":bu(t,e,i);break;default:Jo(t,e,i);break}}function pu(t,e){if(t.type==="radio")t.attributes.value===void 0&&(t.value=e),window.fromModel&&(typeof e=="boolean"?t.checked=Ri(t.value)===e:t.checked=eo(t.value,e));else if(t.type==="checkbox")Number.isInteger(e)?t.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(i=>eo(i,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")Eu(t,e);else{if(t.value===e)return;t.value=e===void 0?"":e}}function gu(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=bn(t,e)}function vu(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=ji(t,e)}function bu(t,e,i){Jo(t,e,i),wu(t,e,i)}function Jo(t,e,i){[null,void 0,!1].includes(i)&&Au(e)?t.removeAttribute(e):(Zo(e)&&(i=e),yu(t,e,i))}function yu(t,e,i){t.getAttribute(e)!=i&&t.setAttribute(e,i)}function wu(t,e,i){t[e]!==i&&(t[e]=i)}function Eu(t,e){let i=[].concat(e).map(r=>r+"");Array.from(t.options).forEach(r=>{r.selected=i.includes(r.value)})}function Su(t){return t.toLowerCase().replace(/-(\w)/g,(e,i)=>i.toUpperCase())}function eo(t,e){return t==e}function Ri(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}function Zo(t){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(t)}function Au(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function _u(t,e,i){return t._x_bindings&&t._x_bindings[e]!==void 0?t._x_bindings[e]:Go(t,e,i)}function Tu(t,e,i,r=!0){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];if(t._x_inlineBindings&&t._x_inlineBindings[e]!==void 0){let n=t._x_inlineBindings[e];return n.extract=r,Io(()=>ot(t,n.expression))}return Go(t,e,i)}function Go(t,e,i){let r=t.getAttribute(e);return r===null?typeof i=="function"?i():i:r===""?!0:Zo(e)?!![e,"true"].includes(r):r}function Qo(t,e){var i;return function(){var r=this,n=arguments,s=function(){i=null,t.apply(r,n)};clearTimeout(i),i=setTimeout(s,e)}}function ea(t,e){let i;return function(){let r=this,n=arguments;i||(t.apply(r,n),i=!0,setTimeout(()=>i=!1,e))}}function ta({get:t,set:e},{get:i,set:r}){let n=!0,s,o,l=ct(()=>{let h=t(),p=i();if(n)r(Dr(h)),n=!1;else{let v=JSON.stringify(h),y=JSON.stringify(p);v!==s?r(Dr(h)):v!==y&&e(Dr(p))}s=JSON.stringify(t()),o=JSON.stringify(i())});return()=>{xt(l)}}function Dr(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function xu(t){(Array.isArray(t)?t:[t]).forEach(i=>i(Qt))}var rt={},to=!1;function Cu(t,e){if(to||(rt=Tt(rt),to=!0),e===void 0)return rt[t];rt[t]=e,typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&rt[t].init(),ko(rt[t])}function Ou(){return rt}var ia={};function Lu(t,e){let i=typeof e!="function"?()=>e:e;return t instanceof Element?ra(t,i()):(ia[t]=i,()=>{})}function ku(t){return Object.entries(ia).forEach(([e,i])=>{Object.defineProperty(t,e,{get(){return(...r)=>i(...r)}})}),t}function ra(t,e,i){let r=[];for(;r.length;)r.pop()();let n=Object.entries(e).map(([o,l])=>({name:o,value:l})),s=No(n);return n=n.map(o=>s.find(l=>l.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),mn(t,n,i).map(o=>{r.push(o.runCleanups),o()}),()=>{for(;r.length;)r.pop()()}}var na={};function Mu(t,e){na[t]=e}function Fu(t,e){return Object.entries(na).forEach(([i,r])=>{Object.defineProperty(t,i,{get(){return(...n)=>r.bind(e)(...n)},enumerable:!1})}),t}var Iu={get reactive(){return Tt},get release(){return xt},get effect(){return ct},get raw(){return mo},version:"3.13.8",flushAndStopDeferringMutations:Hc,dontAutoEvaluateFunctions:Io,disableEffectScheduling:Ic,startObservingMutations:un,stopObservingMutations:Oo,setReactivityEngine:Pc,onAttributeRemoved:xo,onAttributesAdded:To,closestDataStack:At,skipDuringClone:ut,onlyDuringClone:hu,addRootSelector:yo,addInitSelector:wo,interceptClone:$i,addScopeToNode:Zt,deferMutations:qc,mapAttributes:pn,evaluateLater:ue,interceptInit:Bc,setEvaluator:Yc,mergeProxies:Gt,extractProp:Tu,findClosest:Jt,onElRemoved:an,closestRoot:Vi,destroyTree:on,interceptor:Mo,transition:Gr,setStyles:ji,mutateDom:ie,directive:te,entangle:ta,throttle:ea,debounce:Qo,evaluate:ot,initTree:De,nextTick:vn,prefixed:Ct,prefix:Gc,plugin:xu,magic:xe,store:Cu,start:Nc,clone:fu,cloneNode:du,bound:_u,$data:Lo,watch:po,walk:Ue,data:Mu,bind:Lu},Qt=Iu;function sa(t,e){let i=Object.create(null),r=t.split(",");for(let n=0;n<r.length;n++)i[r[n]]=!0;return e?n=>!!i[n.toLowerCase()]:n=>!!i[n]}var Pu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sf=sa(Pu+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),Ru=Object.freeze({}),of=Object.freeze([]),Nu=Object.prototype.hasOwnProperty,qi=(t,e)=>Nu.call(t,e),at=Array.isArray,Yt=t=>oa(t)==="[object Map]",Du=t=>typeof t=="string",yn=t=>typeof t=="symbol",Hi=t=>t!==null&&typeof t=="object",Bu=Object.prototype.toString,oa=t=>Bu.call(t),aa=t=>oa(t).slice(8,-1),wn=t=>Du(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zi=t=>{let e=Object.create(null);return i=>e[i]||(e[i]=t(i))},Vu=/-(\w)/g,af=zi(t=>t.replace(Vu,(e,i)=>i?i.toUpperCase():"")),ju=/\B([A-Z])/g,lf=zi(t=>t.replace(ju,"-$1").toLowerCase()),la=zi(t=>t.charAt(0).toUpperCase()+t.slice(1)),cf=zi(t=>t?`on${la(t)}`:""),ca=(t,e)=>t!==e&&(t===t||e===e),en=new WeakMap,Kt=[],Oe,lt=Symbol("iterate"),tn=Symbol("Map key iterate");function $u(t){return t&&t._isEffect===!0}function qu(t,e=Ru){$u(t)&&(t=t.raw);let i=Ku(t,e);return e.lazy||i(),i}function Hu(t){t.active&&(ua(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var zu=0;function Ku(t,e){let i=function(){if(!i.active)return t();if(!Kt.includes(i)){ua(i);try{return Uu(),Kt.push(i),Oe=i,t()}finally{Kt.pop(),ha(),Oe=Kt[Kt.length-1]}}};return i.id=zu++,i.allowRecurse=!!e.allowRecurse,i._isEffect=!0,i.active=!0,i.raw=t,i.deps=[],i.options=e,i}function ua(t){let{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}var _t=!0,En=[];function Wu(){En.push(_t),_t=!1}function Uu(){En.push(_t),_t=!0}function ha(){let t=En.pop();_t=t===void 0?!0:t}function Te(t,e,i){if(!_t||Oe===void 0)return;let r=en.get(t);r||en.set(t,r=new Map);let n=r.get(i);n||r.set(i,n=new Set),n.has(Oe)||(n.add(Oe),Oe.deps.push(n),Oe.options.onTrack&&Oe.options.onTrack({effect:Oe,target:t,type:e,key:i}))}function Xe(t,e,i,r,n,s){let o=en.get(t);if(!o)return;let l=new Set,h=v=>{v&&v.forEach(y=>{(y!==Oe||y.allowRecurse)&&l.add(y)})};if(e==="clear")o.forEach(h);else if(i==="length"&&at(t))o.forEach((v,y)=>{(y==="length"||y>=r)&&h(v)});else switch(i!==void 0&&h(o.get(i)),e){case"add":at(t)?wn(i)&&h(o.get("length")):(h(o.get(lt)),Yt(t)&&h(o.get(tn)));break;case"delete":at(t)||(h(o.get(lt)),Yt(t)&&h(o.get(tn)));break;case"set":Yt(t)&&h(o.get(lt));break}let p=v=>{v.options.onTrigger&&v.options.onTrigger({effect:v,target:t,key:i,type:e,newValue:r,oldValue:n,oldTarget:s}),v.options.scheduler?v.options.scheduler(v):v()};l.forEach(p)}var Yu=sa("__proto__,__v_isRef,__isVue"),da=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(yn)),Xu=fa(),Ju=fa(!0),io=Zu();function Zu(){let t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...i){let r=$(this);for(let s=0,o=this.length;s<o;s++)Te(r,"get",s+"");let n=r[e](...i);return n===-1||n===!1?r[e](...i.map($)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...i){Wu();let r=$(this)[e].apply(this,i);return ha(),r}}),t}function fa(t=!1,e=!1){return function(r,n,s){if(n==="__v_isReactive")return!t;if(n==="__v_isReadonly")return t;if(n==="__v_raw"&&s===(t?e?fh:va:e?dh:ga).get(r))return r;let o=at(r);if(!t&&o&&qi(io,n))return Reflect.get(io,n,s);let l=Reflect.get(r,n,s);return(yn(n)?da.has(n):Yu(n))||(t||Te(r,"get",n),e)?l:rn(l)?!o||!wn(n)?l.value:l:Hi(l)?t?ba(l):Tn(l):l}}var Gu=Qu();function Qu(t=!1){return function(i,r,n,s){let o=i[r];if(!t&&(n=$(n),o=$(o),!at(i)&&rn(o)&&!rn(n)))return o.value=n,!0;let l=at(i)&&wn(r)?Number(r)<i.length:qi(i,r),h=Reflect.set(i,r,n,s);return i===$(s)&&(l?ca(n,o)&&Xe(i,"set",r,n,o):Xe(i,"add",r,n)),h}}function eh(t,e){let i=qi(t,e),r=t[e],n=Reflect.deleteProperty(t,e);return n&&i&&Xe(t,"delete",e,void 0,r),n}function th(t,e){let i=Reflect.has(t,e);return(!yn(e)||!da.has(e))&&Te(t,"has",e),i}function ih(t){return Te(t,"iterate",at(t)?"length":lt),Reflect.ownKeys(t)}var rh={get:Xu,set:Gu,deleteProperty:eh,has:th,ownKeys:ih},nh={get:Ju,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},Sn=t=>Hi(t)?Tn(t):t,An=t=>Hi(t)?ba(t):t,_n=t=>t,Ki=t=>Reflect.getPrototypeOf(t);function Li(t,e,i=!1,r=!1){t=t.__v_raw;let n=$(t),s=$(e);e!==s&&!i&&Te(n,"get",e),!i&&Te(n,"get",s);let{has:o}=Ki(n),l=r?_n:i?An:Sn;if(o.call(n,e))return l(t.get(e));if(o.call(n,s))return l(t.get(s));t!==n&&t.get(e)}function ki(t,e=!1){let i=this.__v_raw,r=$(i),n=$(t);return t!==n&&!e&&Te(r,"has",t),!e&&Te(r,"has",n),t===n?i.has(t):i.has(t)||i.has(n)}function Mi(t,e=!1){return t=t.__v_raw,!e&&Te($(t),"iterate",lt),Reflect.get(t,"size",t)}function ro(t){t=$(t);let e=$(this);return Ki(e).has.call(e,t)||(e.add(t),Xe(e,"add",t,t)),this}function no(t,e){e=$(e);let i=$(this),{has:r,get:n}=Ki(i),s=r.call(i,t);s?pa(i,r,t):(t=$(t),s=r.call(i,t));let o=n.call(i,t);return i.set(t,e),s?ca(e,o)&&Xe(i,"set",t,e,o):Xe(i,"add",t,e),this}function so(t){let e=$(this),{has:i,get:r}=Ki(e),n=i.call(e,t);n?pa(e,i,t):(t=$(t),n=i.call(e,t));let s=r?r.call(e,t):void 0,o=e.delete(t);return n&&Xe(e,"delete",t,void 0,s),o}function oo(){let t=$(this),e=t.size!==0,i=Yt(t)?new Map(t):new Set(t),r=t.clear();return e&&Xe(t,"clear",void 0,void 0,i),r}function Fi(t,e){return function(r,n){let s=this,o=s.__v_raw,l=$(o),h=e?_n:t?An:Sn;return!t&&Te(l,"iterate",lt),o.forEach((p,v)=>r.call(n,h(p),h(v),s))}}function Ii(t,e,i){return function(...r){let n=this.__v_raw,s=$(n),o=Yt(s),l=t==="entries"||t===Symbol.iterator&&o,h=t==="keys"&&o,p=n[t](...r),v=i?_n:e?An:Sn;return!e&&Te(s,"iterate",h?tn:lt),{next(){let{value:y,done:b}=p.next();return b?{value:y,done:b}:{value:l?[v(y[0]),v(y[1])]:v(y),done:b}},[Symbol.iterator](){return this}}}}function We(t){return function(...e){{let i=e[0]?`on key "${e[0]}" `:"";console.warn(`${la(t)} operation ${i}failed: target is readonly.`,$(this))}return t==="delete"?!1:this}}function sh(){let t={get(s){return Li(this,s)},get size(){return Mi(this)},has:ki,add:ro,set:no,delete:so,clear:oo,forEach:Fi(!1,!1)},e={get(s){return Li(this,s,!1,!0)},get size(){return Mi(this)},has:ki,add:ro,set:no,delete:so,clear:oo,forEach:Fi(!1,!0)},i={get(s){return Li(this,s,!0)},get size(){return Mi(this,!0)},has(s){return ki.call(this,s,!0)},add:We("add"),set:We("set"),delete:We("delete"),clear:We("clear"),forEach:Fi(!0,!1)},r={get(s){return Li(this,s,!0,!0)},get size(){return Mi(this,!0)},has(s){return ki.call(this,s,!0)},add:We("add"),set:We("set"),delete:We("delete"),clear:We("clear"),forEach:Fi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Ii(s,!1,!1),i[s]=Ii(s,!0,!1),e[s]=Ii(s,!1,!0),r[s]=Ii(s,!0,!0)}),[t,i,e,r]}var[oh,ah,lh,ch]=sh();function ma(t,e){let i=e?t?ch:lh:t?ah:oh;return(r,n,s)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(qi(i,n)&&n in r?i:r,n,s)}var uh={get:ma(!1,!1)},hh={get:ma(!0,!1)};function pa(t,e,i){let r=$(i);if(r!==i&&e.call(t,r)){let n=aa(t);console.warn(`Reactive ${n} contains both the raw and reactive versions of the same object${n==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var ga=new WeakMap,dh=new WeakMap,va=new WeakMap,fh=new WeakMap;function mh(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ph(t){return t.__v_skip||!Object.isExtensible(t)?0:mh(aa(t))}function Tn(t){return t&&t.__v_isReadonly?t:ya(t,!1,rh,uh,ga)}function ba(t){return ya(t,!0,nh,hh,va)}function ya(t,e,i,r,n){if(!Hi(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;let s=n.get(t);if(s)return s;let o=ph(t);if(o===0)return t;let l=new Proxy(t,o===2?r:i);return n.set(t,l),l}function $(t){return t&&$(t.__v_raw)||t}function rn(t){return!!(t&&t.__v_isRef===!0)}xe("nextTick",()=>vn);xe("dispatch",t=>Ut.bind(Ut,t));xe("watch",(t,{evaluateLater:e,cleanup:i})=>(r,n)=>{let s=e(r),l=po(()=>{let h;return s(p=>h=p),h},n);i(l)});xe("store",Ou);xe("data",t=>Lo(t));xe("root",t=>Vi(t));xe("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=Gt(gh(t))),t._x_refs_proxy));function gh(t){let e=[];return Jt(t,i=>{i._x_refs&&e.push(i._x_refs)}),e}var Br={};function wa(t){return Br[t]||(Br[t]=0),++Br[t]}function vh(t,e){return Jt(t,i=>{if(i._x_ids&&i._x_ids[e])return!0})}function bh(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=wa(e))}xe("id",(t,{cleanup:e})=>(i,r=null)=>{let n=`${i}${r?`-${r}`:""}`;return yh(t,n,e,()=>{let s=vh(t,i),o=s?s._x_ids[i]:wa(i);return r?`${i}-${o}-${r}`:`${i}-${o}`})});$i((t,e)=>{t._x_id&&(e._x_id=t._x_id)});function yh(t,e,i,r){if(t._x_id||(t._x_id={}),t._x_id[e])return t._x_id[e];let n=r();return t._x_id[e]=n,i(()=>{delete t._x_id[e]}),n}xe("el",t=>t);Ea("Focus","focus","focus");Ea("Persist","persist","persist");function Ea(t,e,i){xe(e,r=>_e(`You can't use [$${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${i}`,r))}te("modelable",(t,{expression:e},{effect:i,evaluateLater:r,cleanup:n})=>{let s=r(e),o=()=>{let v;return s(y=>v=y),v},l=r(`${e} = __placeholder`),h=v=>l(()=>{},{scope:{__placeholder:v}}),p=o();h(p),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let v=t._x_model.get,y=t._x_model.set,b=ta({get(){return v()},set(C){y(C)}},{get(){return o()},set(C){h(C)}});n(b)})});te("teleport",(t,{modifiers:e,expression:i},{cleanup:r})=>{t.tagName.toLowerCase()!=="template"&&_e("x-teleport can only be used on a <template> tag",t);let n=ao(i),s=t.content.cloneNode(!0).firstElementChild;t._x_teleport=s,s._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),s.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(l=>{s.addEventListener(l,h=>{h.stopPropagation(),t.dispatchEvent(new h.constructor(h.type,h))})}),Zt(s,{},t);let o=(l,h,p)=>{p.includes("prepend")?h.parentNode.insertBefore(l,h):p.includes("append")?h.parentNode.insertBefore(l,h.nextSibling):h.appendChild(l)};ie(()=>{o(s,n,e),De(s),s._x_ignore=!0}),t._x_teleportPutBack=()=>{let l=ao(i);ie(()=>{o(t._x_teleport,l,e)})},r(()=>s.remove())});var wh=document.createElement("div");function ao(t){let e=ut(()=>document.querySelector(t),()=>wh)();return e||_e(`Cannot find x-teleport element for selector: "${t}"`),e}var Sa=()=>{};Sa.inline=(t,{modifiers:e},{cleanup:i})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,i(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};te("ignore",Sa);te("effect",ut((t,{expression:e},{effect:i})=>{i(ue(t,e))}));function nn(t,e,i,r){let n=t,s=h=>r(h),o={},l=(h,p)=>v=>p(h,v);if(i.includes("dot")&&(e=Eh(e)),i.includes("camel")&&(e=Sh(e)),i.includes("passive")&&(o.passive=!0),i.includes("capture")&&(o.capture=!0),i.includes("window")&&(n=window),i.includes("document")&&(n=document),i.includes("debounce")){let h=i[i.indexOf("debounce")+1]||"invalid-wait",p=Bi(h.split("ms")[0])?Number(h.split("ms")[0]):250;s=Qo(s,p)}if(i.includes("throttle")){let h=i[i.indexOf("throttle")+1]||"invalid-wait",p=Bi(h.split("ms")[0])?Number(h.split("ms")[0]):250;s=ea(s,p)}return i.includes("prevent")&&(s=l(s,(h,p)=>{p.preventDefault(),h(p)})),i.includes("stop")&&(s=l(s,(h,p)=>{p.stopPropagation(),h(p)})),i.includes("self")&&(s=l(s,(h,p)=>{p.target===t&&h(p)})),(i.includes("away")||i.includes("outside"))&&(n=document,s=l(s,(h,p)=>{t.contains(p.target)||p.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&h(p))})),i.includes("once")&&(s=l(s,(h,p)=>{h(p),n.removeEventListener(e,s,o)})),s=l(s,(h,p)=>{_h(e)&&Th(p,i)||h(p)}),n.addEventListener(e,s,o),()=>{n.removeEventListener(e,s,o)}}function Eh(t){return t.replace(/-/g,".")}function Sh(t){return t.toLowerCase().replace(/-(\w)/g,(e,i)=>i.toUpperCase())}function Bi(t){return!Array.isArray(t)&&!isNaN(t)}function Ah(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function _h(t){return["keydown","keyup"].includes(t)}function Th(t,e){let i=e.filter(s=>!["window","document","prevent","stop","once","capture"].includes(s));if(i.includes("debounce")){let s=i.indexOf("debounce");i.splice(s,Bi((i[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.includes("throttle")){let s=i.indexOf("throttle");i.splice(s,Bi((i[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.length===0||i.length===1&&lo(t.key).includes(i[0]))return!1;let n=["ctrl","shift","alt","meta","cmd","super"].filter(s=>i.includes(s));return i=i.filter(s=>!n.includes(s)),!(n.length>0&&n.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),t[`${o}Key`])).length===n.length&&lo(t.key).includes(i[0]))}function lo(t){if(!t)return[];t=Ah(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(i=>{if(e[i]===t)return i}).filter(i=>i)}te("model",(t,{modifiers:e,expression:i},{effect:r,cleanup:n})=>{let s=t;e.includes("parent")&&(s=t.parentNode);let o=ue(s,i),l;typeof i=="string"?l=ue(s,`${i} = __placeholder`):typeof i=="function"&&typeof i()=="string"?l=ue(s,`${i()} = __placeholder`):l=()=>{};let h=()=>{let b;return o(C=>b=C),uo(b)?b.get():b},p=b=>{let C;o(B=>C=B),uo(C)?C.set(b):l(()=>{},{scope:{__placeholder:b}})};typeof i=="string"&&t.type==="radio"&&ie(()=>{t.hasAttribute("name")||t.setAttribute("name",i)});var v=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let y=Ye?()=>{}:nn(t,v,e,b=>{p(co(t,e,b,h()))});if(e.includes("fill")&&([void 0,null,""].includes(h())||t.type==="checkbox"&&Array.isArray(h()))&&p(co(t,e,{target:t},h())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=y,n(()=>t._x_removeModelListeners.default()),t.form){let b=nn(t.form,"reset",[],C=>{vn(()=>t._x_model&&t._x_model.set(t.value))});n(()=>b())}t._x_model={get(){return h()},set(b){p(b)}},t._x_forceModelUpdate=b=>{b===void 0&&typeof i=="string"&&i.match(/\./)&&(b=""),window.fromModel=!0,ie(()=>Xo(t,"value",b)),delete window.fromModel},r(()=>{let b=h();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(b)})});function co(t,e,i,r){return ie(()=>{if(i instanceof CustomEvent&&i.detail!==void 0)return i.detail!==null&&i.detail!==void 0?i.detail:i.target.value;if(t.type==="checkbox")if(Array.isArray(r)){let n=null;return e.includes("number")?n=Vr(i.target.value):e.includes("boolean")?n=Ri(i.target.value):n=i.target.value,i.target.checked?r.concat([n]):r.filter(s=>!xh(s,n))}else return i.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(i.target.selectedOptions).map(n=>{let s=n.value||n.text;return Vr(s)}):e.includes("boolean")?Array.from(i.target.selectedOptions).map(n=>{let s=n.value||n.text;return Ri(s)}):Array.from(i.target.selectedOptions).map(n=>n.value||n.text);{let n;return t.type==="radio"?i.target.checked?n=i.target.value:n=r:n=i.target.value,e.includes("number")?Vr(n):e.includes("boolean")?Ri(n):e.includes("trim")?n.trim():n}}})}function Vr(t){let e=t?parseFloat(t):null;return Ch(e)?e:t}function xh(t,e){return t==e}function Ch(t){return!Array.isArray(t)&&!isNaN(t)}function uo(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}te("cloak",t=>queueMicrotask(()=>ie(()=>t.removeAttribute(Ct("cloak")))));wo(()=>`[${Ct("init")}]`);te("init",ut((t,{expression:e},{evaluate:i})=>typeof e=="string"?!!e.trim()&&i(e,{},!1):i(e,{},!1)));te("text",(t,{expression:e},{effect:i,evaluateLater:r})=>{let n=r(e);i(()=>{n(s=>{ie(()=>{t.textContent=s})})})});te("html",(t,{expression:e},{effect:i,evaluateLater:r})=>{let n=r(e);i(()=>{n(s=>{ie(()=>{t.innerHTML=s,t._x_ignoreSelf=!0,De(t),delete t._x_ignoreSelf})})})});pn(Vo(":",jo(Ct("bind:"))));var Aa=(t,{value:e,modifiers:i,expression:r,original:n},{effect:s,cleanup:o})=>{if(!e){let h={};ku(h),ue(t,r)(v=>{ra(t,v,n)},{scope:h});return}if(e==="key")return Oh(t,r);if(t._x_inlineBindings&&t._x_inlineBindings[e]&&t._x_inlineBindings[e].extract)return;let l=ue(t,r);s(()=>l(h=>{h===void 0&&typeof r=="string"&&r.match(/\./)&&(h=""),ie(()=>Xo(t,e,h,i))})),o(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};Aa.inline=(t,{value:e,modifiers:i,expression:r})=>{e&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[e]={expression:r,extract:!1})};te("bind",Aa);function Oh(t,e){t._x_keyExpression=e}yo(()=>`[${Ct("data")}]`);te("data",(t,{expression:e},{cleanup:i})=>{if(Lh(t))return;e=e===""?"{}":e;let r={};Kr(r,t);let n={};Fu(n,r);let s=ot(t,e,{scope:n});(s===void 0||s===!0)&&(s={}),Kr(s,t);let o=Tt(s);ko(o);let l=Zt(t,o);o.init&&ot(t,o.init),i(()=>{o.destroy&&ot(t,o.destroy),l()})});$i((t,e)=>{t._x_dataStack&&(e._x_dataStack=t._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function Lh(t){return Ye?Qr?!0:t.hasAttribute("data-has-alpine-state"):!1}te("show",(t,{modifiers:e,expression:i},{effect:r})=>{let n=ue(t,i);t._x_doHide||(t._x_doHide=()=>{ie(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{ie(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let s=()=>{t._x_doHide(),t._x_isShown=!1},o=()=>{t._x_doShow(),t._x_isShown=!0},l=()=>setTimeout(o),h=Zr(y=>y?o():s(),y=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,y,o,s):y?l():s()}),p,v=!0;r(()=>n(y=>{!v&&y===p||(e.includes("immediate")&&(y?l():s()),h(y),p=y,v=!1)}))});te("for",(t,{expression:e},{effect:i,cleanup:r})=>{let n=Mh(e),s=ue(t,n.items),o=ue(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},i(()=>kh(t,n,s,o)),r(()=>{Object.values(t._x_lookup).forEach(l=>l.remove()),delete t._x_prevKeys,delete t._x_lookup})});function kh(t,e,i,r){let n=o=>typeof o=="object"&&!Array.isArray(o),s=t;i(o=>{Fh(o)&&o>=0&&(o=Array.from(Array(o).keys(),x=>x+1)),o===void 0&&(o=[]);let l=t._x_lookup,h=t._x_prevKeys,p=[],v=[];if(n(o))o=Object.entries(o).map(([x,O])=>{let k=ho(e,O,x,o);r(I=>{v.includes(I)&&_e("Duplicate key on x-for",t),v.push(I)},{scope:{index:x,...k}}),p.push(k)});else for(let x=0;x<o.length;x++){let O=ho(e,o[x],x,o);r(k=>{v.includes(k)&&_e("Duplicate key on x-for",t),v.push(k)},{scope:{index:x,...O}}),p.push(O)}let y=[],b=[],C=[],B=[];for(let x=0;x<h.length;x++){let O=h[x];v.indexOf(O)===-1&&C.push(O)}h=h.filter(x=>!C.includes(x));let A="template";for(let x=0;x<v.length;x++){let O=v[x],k=h.indexOf(O);if(k===-1)h.splice(x,0,O),y.push([A,x]);else if(k!==x){let I=h.splice(x,1)[0],U=h.splice(k-1,1)[0];h.splice(x,0,U),h.splice(k,0,I),b.push([I,U])}else B.push(O);A=O}for(let x=0;x<C.length;x++){let O=C[x];l[O]._x_effects&&l[O]._x_effects.forEach(fo),l[O].remove(),l[O]=null,delete l[O]}for(let x=0;x<b.length;x++){let[O,k]=b[x],I=l[O],U=l[k],Y=document.createElement("div");ie(()=>{U||_e('x-for ":key" is undefined or invalid',s,k,l),U.after(Y),I.after(U),U._x_currentIfEl&&U.after(U._x_currentIfEl),Y.before(I),I._x_currentIfEl&&I.after(I._x_currentIfEl),Y.remove()}),U._x_refreshXForScope(p[v.indexOf(k)])}for(let x=0;x<y.length;x++){let[O,k]=y[x],I=O==="template"?s:l[O];I._x_currentIfEl&&(I=I._x_currentIfEl);let U=p[k],Y=v[k],ce=document.importNode(s.content,!0).firstElementChild,ye=Tt(U);Zt(ce,ye,s),ce._x_refreshXForScope=Z=>{Object.entries(Z).forEach(([P,ne])=>{ye[P]=ne})},ie(()=>{I.after(ce),ut(()=>De(ce))()}),typeof Y=="object"&&_e("x-for key cannot be an object, it must be a string or an integer",s),l[Y]=ce}for(let x=0;x<B.length;x++)l[B[x]]._x_refreshXForScope(p[v.indexOf(B[x])]);s._x_prevKeys=v})}function Mh(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,i=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,n=t.match(r);if(!n)return;let s={};s.items=n[2].trim();let o=n[1].replace(i,"").trim(),l=o.match(e);return l?(s.item=o.replace(e,"").trim(),s.index=l[1].trim(),l[2]&&(s.collection=l[2].trim())):s.item=o,s}function ho(t,e,i,r){let n={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,l)=>{n[o]=e[l]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{n[o]=e[o]}):n[t.item]=e,t.index&&(n[t.index]=i),t.collection&&(n[t.collection]=r),n}function Fh(t){return!Array.isArray(t)&&!isNaN(t)}function _a(){}_a.inline=(t,{expression:e},{cleanup:i})=>{let r=Vi(t);r._x_refs||(r._x_refs={}),r._x_refs[e]=t,i(()=>delete r._x_refs[e])};te("ref",_a);te("if",(t,{expression:e},{effect:i,cleanup:r})=>{t.tagName.toLowerCase()!=="template"&&_e("x-if can only be used on a <template> tag",t);let n=ue(t,e),s=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let l=t.content.cloneNode(!0).firstElementChild;return Zt(l,{},t),ie(()=>{t.after(l),ut(()=>De(l))()}),t._x_currentIfEl=l,t._x_undoIf=()=>{Ue(l,h=>{h._x_effects&&h._x_effects.forEach(fo)}),l.remove(),delete t._x_currentIfEl},l},o=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};i(()=>n(l=>{l?s():o()})),r(()=>t._x_undoIf&&t._x_undoIf())});te("id",(t,{expression:e},{evaluate:i})=>{i(e).forEach(n=>bh(t,n))});$i((t,e)=>{t._x_ids&&(e._x_ids=t._x_ids)});pn(Vo("@",jo(Ct("on:"))));te("on",ut((t,{value:e,modifiers:i,expression:r},{cleanup:n})=>{let s=r?ue(t,r):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let o=nn(t,e,i,l=>{s(()=>{},{scope:{$event:l},params:[l]})});n(()=>o())}));Wi("Collapse","collapse","collapse");Wi("Intersect","intersect","intersect");Wi("Focus","trap","focus");Wi("Mask","mask","mask");function Wi(t,e,i){te(e,r=>_e(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${i}`,r))}Qt.setEvaluator(Ro);Qt.setReactivityEngine({reactive:Tn,effect:qu,release:Hu,raw:$});var Ih=Qt,Ui=Ih;function Ph(t){t.directive("collapse",e),e.inline=(i,{modifiers:r})=>{r.includes("min")&&(i._x_doShow=()=>{},i._x_doHide=()=>{})};function e(i,{modifiers:r}){let n=Ta(r,"duration",250)/1e3,s=Ta(r,"min",0),o=!r.includes("min");i._x_isShown||(i.style.height=`${s}px`),!i._x_isShown&&o&&(i.hidden=!0),i._x_isShown||(i.style.overflow="hidden");let l=(p,v)=>{let y=t.setStyles(p,v);return v.height?()=>{}:y},h={transitionProperty:"height",transitionDuration:`${n}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};i._x_transition={in(p=()=>{},v=()=>{}){o&&(i.hidden=!1),o&&(i.style.display=null);let y=i.getBoundingClientRect().height;i.style.height="auto";let b=i.getBoundingClientRect().height;y===b&&(y=s),t.transition(i,t.setStyles,{during:h,start:{height:y+"px"},end:{height:b+"px"}},()=>i._x_isShown=!0,()=>{i.getBoundingClientRect().height==b&&(i.style.overflow=null)})},out(p=()=>{},v=()=>{}){let y=i.getBoundingClientRect().height;t.transition(i,l,{during:h,start:{height:y+"px"},end:{height:s+"px"}},()=>i.style.overflow="hidden",()=>{i._x_isShown=!1,i.style.height==`${s}px`&&o&&(i.style.display="none",i.hidden=!0)})}}}}function Ta(t,e,i){if(t.indexOf(e)===-1)return i;let r=t[t.indexOf(e)+1];if(!r)return i;if(e==="duration"){let n=r.match(/([0-9]+)ms/);if(n)return n[1]}if(e==="min"){let n=r.match(/([0-9]+)px/);if(n)return n[1]}return r}var xa=Ph;var xn=class{constructor(e,i,r){this.eventTarget=e,this.eventName=i,this.eventOptions=r,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let i=Rh(e);for(let r of this.bindings){if(i.immediatePropagationStopped)break;r.handleEvent(i)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,i)=>{let r=e.index,n=i.index;return r<n?-1:r>n?1:0})}};function Rh(t){if("immediatePropagationStopped"in t)return t;{let{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var Cn=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,i)=>e.concat(Array.from(i.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,i=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),i&&this.clearEventListenersForBinding(e)}handleError(e,i,r={}){this.application.handleError(e,`Error ${i}`,r)}clearEventListenersForBinding(e){let i=this.fetchEventListenerForBinding(e);i.hasBindings()||(i.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:i,eventName:r,eventOptions:n}=e,s=this.fetchEventListenerMapForEventTarget(i),o=this.cacheKey(r,n);s.delete(o),s.size==0&&this.eventListenerMaps.delete(i)}fetchEventListenerForBinding(e){let{eventTarget:i,eventName:r,eventOptions:n}=e;return this.fetchEventListener(i,r,n)}fetchEventListener(e,i,r){let n=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(i,r),o=n.get(s);return o||(o=this.createEventListener(e,i,r),n.set(s,o)),o}createEventListener(e,i,r){let n=new xn(e,i,r);return this.started&&n.connect(),n}fetchEventListenerMapForEventTarget(e){let i=this.eventListenerMaps.get(e);return i||(i=new Map,this.eventListenerMaps.set(e,i)),i}cacheKey(e,i){let r=[e];return Object.keys(i).sort().forEach(n=>{r.push(`${i[n]?"":"!"}${n}`)}),r.join(":")}},Nh={stop({event:t,value:e}){return e&&t.stopPropagation(),!0},prevent({event:t,value:e}){return e&&t.preventDefault(),!0},self({event:t,value:e,element:i}){return e?i===t.target:!0}},Dh=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function Bh(t){let i=t.trim().match(Dh)||[],r=i[2],n=i[3];return n&&!["keydown","keyup","keypress"].includes(r)&&(r+=`.${n}`,n=""),{eventTarget:Vh(i[4]),eventName:r,eventOptions:i[7]?jh(i[7]):{},identifier:i[5],methodName:i[6],keyFilter:i[1]||n}}function Vh(t){if(t=="window")return window;if(t=="document")return document}function jh(t){return t.split(":").reduce((e,i)=>Object.assign(e,{[i.replace(/^!/,"")]:!/^!/.test(i)}),{})}function $h(t){if(t==window)return"window";if(t==document)return"document"}function Xn(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,i)=>i.toUpperCase())}function On(t){return Xn(t.replace(/--/g,"-").replace(/__/g,"_"))}function ti(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Na(t){return t.replace(/([A-Z])/g,(e,i)=>`-${i.toLowerCase()}`)}function qh(t){return t.match(/[^\s]+/g)||[]}function Ca(t){return t!=null}function Ln(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Oa=["meta","ctrl","alt","shift"],kn=class{constructor(e,i,r,n){this.element=e,this.index=i,this.eventTarget=r.eventTarget||e,this.eventName=r.eventName||Hh(e)||Yi("missing event name"),this.eventOptions=r.eventOptions||{},this.identifier=r.identifier||Yi("missing identifier"),this.methodName=r.methodName||Yi("missing method name"),this.keyFilter=r.keyFilter||"",this.schema=n}static forToken(e,i){return new this(e.element,e.index,Bh(e.content),i)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",i=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${i}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let i=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,i))return!0;let r=i.filter(n=>!Oa.includes(n))[0];return r?(Ln(this.keyMappings,r)||Yi(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[r].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let i=[this.keyFilter];return!!this.keyFilterDissatisfied(e,i)}get params(){let e={},i=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:r,value:n}of Array.from(this.element.attributes)){let s=r.match(i),o=s&&s[1];o&&(e[Xn(o)]=zh(n))}return e}get eventTargetName(){return $h(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,i){let[r,n,s,o]=Oa.map(l=>i.includes(l));return e.metaKey!==r||e.ctrlKey!==n||e.altKey!==s||e.shiftKey!==o}},La={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function Hh(t){let e=t.tagName.toLowerCase();if(e in La)return La[e](t)}function Yi(t){throw new Error(t)}function zh(t){try{return JSON.parse(t)}catch{return t}}var Mn=class{constructor(e,i){this.context=e,this.action=i}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let i=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(i)&&this.invokeWithEvent(i)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:i}=this.action,{actionDescriptorFilters:r}=this.context.application,{controller:n}=this.context,s=!0;for(let[o,l]of Object.entries(this.eventOptions))if(o in r){let h=r[o];s=s&&h({name:o,value:l,event:e,element:i,controller:n})}else continue;return s}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:i,currentTarget:r}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:i,currentTarget:r,action:this.methodName})}catch(n){let{identifier:s,controller:o,element:l,index:h}=this,p={identifier:s,controller:o,element:l,index:h,event:e};this.context.handleError(n,`invoking action "${this.action}"`,p)}}willBeInvokedByEvent(e){let i=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===i?!0:i instanceof Element&&this.element.contains(i)?this.scope.containsElement(i):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},Xi=class{constructor(e,i){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=i,this.elements=new Set,this.mutationObserver=new MutationObserver(r=>this.processMutations(r))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let i of Array.from(this.elements))e.has(i)||this.removeElement(i);for(let i of Array.from(e))this.addElement(i)}}processMutations(e){if(this.started)for(let i of e)this.processMutation(i)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,i){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,i):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let i of Array.from(e)){let r=this.elementFromNode(i);r&&this.processTree(r,this.removeElement)}}processAddedNodes(e){for(let i of Array.from(e)){let r=this.elementFromNode(i);r&&this.elementIsActive(r)&&this.processTree(r,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,i){for(let r of this.matchElementsInTree(e))i.call(this,r)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},Ji=class{constructor(e,i,r){this.attributeName=i,this.delegate=r,this.elementObserver=new Xi(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let i=this.matchElement(e)?[e]:[],r=Array.from(e.querySelectorAll(this.selector));return i.concat(r)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,i){this.delegate.elementAttributeValueChanged&&this.attributeName==i&&this.delegate.elementAttributeValueChanged(e,i)}};function Kh(t,e,i){Da(t,e).add(i)}function Wh(t,e,i){Da(t,e).delete(i),Uh(t,e)}function Da(t,e){let i=t.get(e);return i||(i=new Set,t.set(e,i)),i}function Uh(t,e){let i=t.get(e);i!=null&&i.size==0&&t.delete(e)}var Be=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((i,r)=>i.concat(Array.from(r)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((i,r)=>i+r.size,0)}add(e,i){Kh(this.valuesByKey,e,i)}delete(e,i){Wh(this.valuesByKey,e,i)}has(e,i){let r=this.valuesByKey.get(e);return r!=null&&r.has(i)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(r=>r.has(e))}getValuesForKey(e){let i=this.valuesByKey.get(e);return i?Array.from(i):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([i,r])=>r.has(e)).map(([i,r])=>i)}};var Fn=class{constructor(e,i,r,n){this._selector=i,this.details=n,this.elementObserver=new Xi(e,this),this.delegate=r,this.matchesByElement=new Be}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:i}=this;if(i){let r=e.matches(i);return this.delegate.selectorMatchElement?r&&this.delegate.selectorMatchElement(e,this.details):r}else return!1}matchElementsInTree(e){let{selector:i}=this;if(i){let r=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(i)).filter(s=>this.matchElement(s));return r.concat(n)}else return[]}elementMatched(e){let{selector:i}=this;i&&this.selectorMatched(e,i)}elementUnmatched(e){let i=this.matchesByElement.getKeysForValue(e);for(let r of i)this.selectorUnmatched(e,r)}elementAttributeChanged(e,i){let{selector:r}=this;if(r){let n=this.matchElement(e),s=this.matchesByElement.has(r,e);n&&!s?this.selectorMatched(e,r):!n&&s&&this.selectorUnmatched(e,r)}}selectorMatched(e,i){this.delegate.selectorMatched(e,i,this.details),this.matchesByElement.add(i,e)}selectorUnmatched(e,i){this.delegate.selectorUnmatched(e,i,this.details),this.matchesByElement.delete(i,e)}},In=class{constructor(e,i){this.element=e,this.delegate=i,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(r=>this.processMutations(r))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let i of e)this.processMutation(i)}processMutation(e){let i=e.attributeName;i&&this.refreshAttribute(i,e.oldValue)}refreshAttribute(e,i){let r=this.delegate.getStringMapKeyForAttribute(e);if(r!=null){this.stringMap.has(e)||this.stringMapKeyAdded(r,e);let n=this.element.getAttribute(e);if(this.stringMap.get(e)!=n&&this.stringMapValueChanged(n,r,i),n==null){let s=this.stringMap.get(e);this.stringMap.delete(e),s&&this.stringMapKeyRemoved(r,e,s)}else this.stringMap.set(e,n)}}stringMapKeyAdded(e,i){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,i)}stringMapValueChanged(e,i,r){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,i,r)}stringMapKeyRemoved(e,i,r){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,i,r)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Zi=class{constructor(e,i,r){this.attributeObserver=new Ji(e,i,this),this.delegate=r,this.tokensByElement=new Be}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[i,r]=this.refreshTokensForElement(e);this.tokensUnmatched(i),this.tokensMatched(r)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(i=>this.tokenMatched(i))}tokensUnmatched(e){e.forEach(i=>this.tokenUnmatched(i))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let i=this.tokensByElement.getValuesForKey(e),r=this.readTokensForElement(e),n=Xh(i,r).findIndex(([s,o])=>!Jh(s,o));return n==-1?[[],[]]:[i.slice(n),r.slice(n)]}readTokensForElement(e){let i=this.attributeName,r=e.getAttribute(i)||"";return Yh(r,e,i)}};function Yh(t,e,i){return t.trim().split(/\s+/).filter(r=>r.length).map((r,n)=>({element:e,attributeName:i,content:r,index:n}))}function Xh(t,e){let i=Math.max(t.length,e.length);return Array.from({length:i},(r,n)=>[t[n],e[n]])}function Jh(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var Gi=class{constructor(e,i,r){this.tokenListObserver=new Zi(e,i,this),this.delegate=r,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:i}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(i).set(e,r),this.delegate.elementMatchedValue(i,r))}tokenUnmatched(e){let{element:i}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(i).delete(e),this.delegate.elementUnmatchedValue(i,r))}fetchParseResultForToken(e){let i=this.parseResultsByToken.get(e);return i||(i=this.parseToken(e),this.parseResultsByToken.set(e,i)),i}fetchValuesByTokenForElement(e){let i=this.valuesByTokenByElement.get(e);return i||(i=new Map,this.valuesByTokenByElement.set(e,i)),i}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(i){return{error:i}}}},Pn=class{constructor(e,i){this.context=e,this.delegate=i,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Gi(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let i=new Mn(this.context,e);this.bindingsByAction.set(e,i),this.delegate.bindingConnected(i)}disconnectAction(e){let i=this.bindingsByAction.get(e);i&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(i))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let i=kn.forToken(e,this.schema);if(i.identifier==this.identifier)return i}elementMatchedValue(e,i){this.connectAction(i)}elementUnmatchedValue(e,i){this.disconnectAction(i)}},Rn=class{constructor(e,i){this.context=e,this.receiver=i,this.stringMapObserver=new In(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,i){let r=this.valueDescriptorMap[i];this.hasValue(e)||this.invokeChangedCallback(e,r.writer(this.receiver[e]),r.writer(r.defaultValue))}stringMapValueChanged(e,i,r){let n=this.valueDescriptorNameMap[i];e!==null&&(r===null&&(r=n.writer(n.defaultValue)),this.invokeChangedCallback(i,e,r))}stringMapKeyRemoved(e,i,r){let n=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,n.writer(this.receiver[e]),r):this.invokeChangedCallback(e,n.writer(n.defaultValue),r)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:i,defaultValue:r,writer:n}of this.valueDescriptors)r!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(i,n(r),void 0)}invokeChangedCallback(e,i,r){let n=`${e}Changed`,s=this.receiver[n];if(typeof s=="function"){let o=this.valueDescriptorNameMap[e];try{let l=o.reader(i),h=r;r&&(h=o.reader(r)),s.call(this.receiver,l,h)}catch(l){throw l instanceof TypeError&&(l.message=`Stimulus Value "${this.context.identifier}.${o.name}" - ${l.message}`),l}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(i=>e[i])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(i=>{let r=this.valueDescriptorMap[i];e[r.name]=r}),e}hasValue(e){let i=this.valueDescriptorNameMap[e],r=`has${ti(i.name)}`;return this.receiver[r]}},Nn=class{constructor(e,i){this.context=e,this.delegate=i,this.targetsByName=new Be}start(){this.tokenListObserver||(this.tokenListObserver=new Zi(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:i}){this.scope.containsElement(e)&&this.connectTarget(e,i)}tokenUnmatched({element:e,content:i}){this.disconnectTarget(e,i)}connectTarget(e,i){var r;this.targetsByName.has(i,e)||(this.targetsByName.add(i,e),(r=this.tokenListObserver)===null||r===void 0||r.pause(()=>this.delegate.targetConnected(e,i)))}disconnectTarget(e,i){var r;this.targetsByName.has(i,e)&&(this.targetsByName.delete(i,e),(r=this.tokenListObserver)===null||r===void 0||r.pause(()=>this.delegate.targetDisconnected(e,i)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let i of this.targetsByName.getValuesForKey(e))this.disconnectTarget(i,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function ii(t,e){let i=Ba(t);return Array.from(i.reduce((r,n)=>(Gh(n,e).forEach(s=>r.add(s)),r),new Set))}function Zh(t,e){return Ba(t).reduce((r,n)=>(r.push(...Qh(n,e)),r),[])}function Ba(t){let e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function Gh(t,e){let i=t[e];return Array.isArray(i)?i:[]}function Qh(t,e){let i=t[e];return i?Object.keys(i).map(r=>[r,i[r]]):[]}var Dn=class{constructor(e,i){this.started=!1,this.context=e,this.delegate=i,this.outletsByName=new Be,this.outletElementsByName=new Be,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,i,{outletName:r}){let n=this.getOutlet(e,r);n&&this.connectOutlet(n,e,r)}selectorUnmatched(e,i,{outletName:r}){let n=this.getOutletFromMap(e,r);n&&this.disconnectOutlet(n,e,r)}selectorMatchElement(e,{outletName:i}){let r=this.selector(i),n=this.hasOutlet(e,i),s=e.matches(`[${this.schema.controllerAttribute}~=${i}]`);return r?n&&s&&e.matches(r):!1}elementMatchedAttribute(e,i){let r=this.getOutletNameFromOutletAttributeName(i);r&&this.updateSelectorObserverForOutlet(r)}elementAttributeValueChanged(e,i){let r=this.getOutletNameFromOutletAttributeName(i);r&&this.updateSelectorObserverForOutlet(r)}elementUnmatchedAttribute(e,i){let r=this.getOutletNameFromOutletAttributeName(i);r&&this.updateSelectorObserverForOutlet(r)}connectOutlet(e,i,r){var n;this.outletElementsByName.has(r,i)||(this.outletsByName.add(r,e),this.outletElementsByName.add(r,i),(n=this.selectorObserverMap.get(r))===null||n===void 0||n.pause(()=>this.delegate.outletConnected(e,i,r)))}disconnectOutlet(e,i,r){var n;this.outletElementsByName.has(r,i)&&(this.outletsByName.delete(r,e),this.outletElementsByName.delete(r,i),(n=this.selectorObserverMap.get(r))===null||n===void 0||n.pause(()=>this.delegate.outletDisconnected(e,i,r)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let i of this.outletElementsByName.getValuesForKey(e))for(let r of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(r,i,e)}updateSelectorObserverForOutlet(e){let i=this.selectorObserverMap.get(e);i&&(i.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let i=this.selector(e),r=new Fn(document.body,i,this,{outletName:e});this.selectorObserverMap.set(e,r),r.start()}setupAttributeObserverForOutlet(e){let i=this.attributeNameForOutletName(e),r=new Ji(this.scope.element,i,this);this.attributeObserverMap.set(e,r),r.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(i=>this.attributeNameForOutletName(i)===e)}get outletDependencies(){let e=new Be;return this.router.modules.forEach(i=>{let r=i.definition.controllerConstructor;ii(r,"outlets").forEach(s=>e.add(s,i.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(i=>e.includes(i.identifier))}hasOutlet(e,i){return!!this.getOutlet(e,i)||!!this.getOutletFromMap(e,i)}getOutlet(e,i){return this.application.getControllerForElementAndIdentifier(e,i)}getOutletFromMap(e,i){return this.outletsByName.getValuesForKey(i).find(r=>r.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},Bn=class{constructor(e,i){this.logDebugActivity=(r,n={})=>{let{identifier:s,controller:o,element:l}=this;n=Object.assign({identifier:s,controller:o,element:l},n),this.application.logDebugActivity(this.identifier,r,n)},this.module=e,this.scope=i,this.controller=new e.controllerConstructor(this),this.bindingObserver=new Pn(this,this.dispatcher),this.valueObserver=new Rn(this,this.controller),this.targetObserver=new Nn(this,this),this.outletObserver=new Dn(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(r){this.handleError(r,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,i,r={}){let{identifier:n,controller:s,element:o}=this;r=Object.assign({identifier:n,controller:s,element:o},r),this.application.handleError(e,`Error ${i}`,r)}targetConnected(e,i){this.invokeControllerMethod(`${i}TargetConnected`,e)}targetDisconnected(e,i){this.invokeControllerMethod(`${i}TargetDisconnected`,e)}outletConnected(e,i,r){this.invokeControllerMethod(`${On(r)}OutletConnected`,e,i)}outletDisconnected(e,i,r){this.invokeControllerMethod(`${On(r)}OutletDisconnected`,e,i)}invokeControllerMethod(e,...i){let r=this.controller;typeof r[e]=="function"&&r[e](...i)}};function ed(t){return td(t,id(t))}function td(t,e){let i=od(t),r=rd(t.prototype,e);return Object.defineProperties(i.prototype,r),i}function id(t){return ii(t,"blessings").reduce((i,r)=>{let n=r(t);for(let s in n){let o=i[s]||{};i[s]=Object.assign(o,n[s])}return i},{})}function rd(t,e){return sd(e).reduce((i,r)=>{let n=nd(t,e,r);return n&&Object.assign(i,{[r]:n}),i},{})}function nd(t,e,i){let r=Object.getOwnPropertyDescriptor(t,i);if(!(r&&"value"in r)){let s=Object.getOwnPropertyDescriptor(e,i).value;return r&&(s.get=r.get||s.get,s.set=r.set||s.set),s}}var sd=typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,od=(()=>{function t(i){function r(){return Reflect.construct(i,arguments,new.target)}return r.prototype=Object.create(i.prototype,{constructor:{value:r}}),Reflect.setPrototypeOf(r,i),r}function e(){let r=t(function(){this.a.call(this)});return r.prototype.a=function(){},new r}try{return e(),t}catch{return r=>class extends r{}}})();function ad(t){return{identifier:t.identifier,controllerConstructor:ed(t.controllerConstructor)}}var Vn=class{constructor(e,i){this.application=e,this.definition=ad(i),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let i=this.fetchContextForScope(e);this.connectedContexts.add(i),i.connect()}disconnectContextForScope(e){let i=this.contextsByScope.get(e);i&&(this.connectedContexts.delete(i),i.disconnect())}fetchContextForScope(e){let i=this.contextsByScope.get(e);return i||(i=new Bn(this,e),this.contextsByScope.set(e,i)),i}},jn=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let i=this.data.get(this.getDataKey(e))||"";return qh(i)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},$n=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let i=this.getAttributeNameForKey(e);return this.element.getAttribute(i)}set(e,i){let r=this.getAttributeNameForKey(e);return this.element.setAttribute(r,i),this.get(e)}has(e){let i=this.getAttributeNameForKey(e);return this.element.hasAttribute(i)}delete(e){if(this.has(e)){let i=this.getAttributeNameForKey(e);return this.element.removeAttribute(i),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${Na(e)}`}},qn=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,i,r){let n=this.warnedKeysByObject.get(e);n||(n=new Set,this.warnedKeysByObject.set(e,n)),n.has(i)||(n.add(i),this.logger.warn(r,e))}};function Hn(t,e){return`[${t}~="${e}"]`}var zn=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((i,r)=>i||this.findTarget(r)||this.findLegacyTarget(r),void 0)}findAll(...e){return e.reduce((i,r)=>[...i,...this.findAllTargets(r),...this.findAllLegacyTargets(r)],[])}findTarget(e){let i=this.getSelectorForTargetName(e);return this.scope.findElement(i)}findAllTargets(e){let i=this.getSelectorForTargetName(e);return this.scope.findAllElements(i)}getSelectorForTargetName(e){let i=this.schema.targetAttributeForScope(this.identifier);return Hn(i,e)}findLegacyTarget(e){let i=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(i),e)}findAllLegacyTargets(e){let i=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(i).map(r=>this.deprecate(r,e))}getLegacySelectorForTargetName(e){let i=`${this.identifier}.${e}`;return Hn(this.schema.targetAttribute,i)}deprecate(e,i){if(e){let{identifier:r}=this,n=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(r);this.guide.warn(e,`target:${i}`,`Please replace ${n}="${r}.${i}" with ${s}="${i}". The ${n} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},Kn=class{constructor(e,i){this.scope=e,this.controllerElement=i}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((i,r)=>i||this.findOutlet(r),void 0)}findAll(...e){return e.reduce((i,r)=>[...i,...this.findAllOutlets(r)],[])}getSelectorForOutletName(e){let i=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(i)}findOutlet(e){let i=this.getSelectorForOutletName(e);if(i)return this.findElement(i,e)}findAllOutlets(e){let i=this.getSelectorForOutletName(e);return i?this.findAllElements(i,e):[]}findElement(e,i){return this.scope.queryElements(e).filter(n=>this.matchesElement(n,e,i))[0]}findAllElements(e,i){return this.scope.queryElements(e).filter(n=>this.matchesElement(n,e,i))}matchesElement(e,i,r){let n=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(i)&&n.split(" ").includes(r)}},Wn=class t{constructor(e,i,r,n){this.targets=new zn(this),this.classes=new jn(this),this.data=new $n(this),this.containsElement=s=>s.closest(this.controllerSelector)===this.element,this.schema=e,this.element=i,this.identifier=r,this.guide=new qn(n),this.outlets=new Kn(this.documentScope,i)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return Hn(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new t(this.schema,document.documentElement,this.identifier,this.guide.logger)}},Un=class{constructor(e,i,r){this.element=e,this.schema=i,this.delegate=r,this.valueListObserver=new Gi(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:i,content:r}=e;return this.parseValueForElementAndIdentifier(i,r)}parseValueForElementAndIdentifier(e,i){let r=this.fetchScopesByIdentifierForElement(e),n=r.get(i);return n||(n=this.delegate.createScopeForElementAndIdentifier(e,i),r.set(i,n)),n}elementMatchedValue(e,i){let r=(this.scopeReferenceCounts.get(i)||0)+1;this.scopeReferenceCounts.set(i,r),r==1&&this.delegate.scopeConnected(i)}elementUnmatchedValue(e,i){let r=this.scopeReferenceCounts.get(i);r&&(this.scopeReferenceCounts.set(i,r-1),r==1&&this.delegate.scopeDisconnected(i))}fetchScopesByIdentifierForElement(e){let i=this.scopesByIdentifierByElement.get(e);return i||(i=new Map,this.scopesByIdentifierByElement.set(e,i)),i}},Yn=class{constructor(e){this.application=e,this.scopeObserver=new Un(this.element,this.schema,this),this.scopesByIdentifier=new Be,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,i)=>e.concat(i.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let i=new Vn(this.application,e);this.connectModule(i);let r=e.controllerConstructor.afterLoad;r&&r.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let i=this.modulesByIdentifier.get(e);i&&this.disconnectModule(i)}getContextForElementAndIdentifier(e,i){let r=this.modulesByIdentifier.get(i);if(r)return r.contexts.find(n=>n.element==e)}proposeToConnectScopeForElementAndIdentifier(e,i){let r=this.scopeObserver.parseValueForElementAndIdentifier(e,i);r?this.scopeObserver.elementMatchedValue(r.element,r):console.error(`Couldn't find or create scope for identifier: "${i}" and element:`,e)}handleError(e,i,r){this.application.handleError(e,i,r)}createScopeForElementAndIdentifier(e,i){return new Wn(this.schema,e,i,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let i=this.modulesByIdentifier.get(e.identifier);i&&i.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let i=this.modulesByIdentifier.get(e.identifier);i&&i.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(r=>e.connectContextForScope(r))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(r=>e.disconnectContextForScope(r))}},ld={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},ka("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),ka("0123456789".split("").map(t=>[t,t])))};function ka(t){return t.reduce((e,[i,r])=>Object.assign(Object.assign({},e),{[i]:r}),{})}var Qi=class{constructor(e=document.documentElement,i=ld){this.logger=console,this.debug=!1,this.logDebugActivity=(r,n,s={})=>{this.debug&&this.logFormattedMessage(r,n,s)},this.element=e,this.schema=i,this.dispatcher=new Cn(this),this.router=new Yn(this),this.actionDescriptorFilters=Object.assign({},Nh)}static start(e,i){let r=new this(e,i);return r.start(),r}async start(){await cd(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,i){this.load({identifier:e,controllerConstructor:i})}registerActionOption(e,i){this.actionDescriptorFilters[e]=i}load(e,...i){(Array.isArray(e)?e:[e,...i]).forEach(n=>{n.controllerConstructor.shouldLoad&&this.router.loadDefinition(n)})}unload(e,...i){(Array.isArray(e)?e:[e,...i]).forEach(n=>this.router.unloadIdentifier(n))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,i){let r=this.router.getContextForElementAndIdentifier(e,i);return r?r.controller:null}handleError(e,i,r){var n;this.logger.error(`%s

%o

%o`,i,e,r),(n=window.onerror)===null||n===void 0||n.call(window,i,"",0,0,e)}logFormattedMessage(e,i,r={}){r=Object.assign({application:this},r),this.logger.groupCollapsed(`${e} #${i}`),this.logger.log("details:",Object.assign({},r)),this.logger.groupEnd()}};function cd(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function ud(t){return ii(t,"classes").reduce((i,r)=>Object.assign(i,hd(r)),{})}function hd(t){return{[`${t}Class`]:{get(){let{classes:e}=this;if(e.has(t))return e.get(t);{let i=e.getAttributeName(t);throw new Error(`Missing attribute "${i}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${ti(t)}Class`]:{get(){return this.classes.has(t)}}}}function dd(t){return ii(t,"outlets").reduce((i,r)=>Object.assign(i,fd(r)),{})}function Ma(t,e,i){return t.application.getControllerForElementAndIdentifier(e,i)}function Fa(t,e,i){let r=Ma(t,e,i);if(r||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,i),r=Ma(t,e,i),r))return r}function fd(t){let e=On(t);return{[`${e}Outlet`]:{get(){let i=this.outlets.find(t),r=this.outlets.getSelectorForOutletName(t);if(i){let n=Fa(this,i,t);if(n)return n;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${e}Outlets`]:{get(){let i=this.outlets.findAll(t);return i.length>0?i.map(r=>{let n=Fa(this,r,t);if(n)return n;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,r)}).filter(r=>r):[]}},[`${e}OutletElement`]:{get(){let i=this.outlets.find(t),r=this.outlets.getSelectorForOutletName(t);if(i)return i;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${ti(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function md(t){return ii(t,"targets").reduce((i,r)=>Object.assign(i,pd(r)),{})}function pd(t){return{[`${t}Target`]:{get(){let e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${ti(t)}Target`]:{get(){return this.targets.has(t)}}}}function gd(t){let e=Zh(t,"values"),i={valueDescriptorMap:{get(){return e.reduce((r,n)=>{let s=Va(n,this.identifier),o=this.data.getAttributeNameForKey(s.key);return Object.assign(r,{[o]:s})},{})}}};return e.reduce((r,n)=>Object.assign(r,vd(n)),i)}function vd(t,e){let i=Va(t,e),{key:r,name:n,reader:s,writer:o}=i;return{[n]:{get(){let l=this.data.get(r);return l!==null?s(l):i.defaultValue},set(l){l===void 0?this.data.delete(r):this.data.set(r,o(l))}},[`has${ti(n)}`]:{get(){return this.data.has(r)||i.hasCustomDefaultValue}}}}function Va([t,e],i){return Ed({controller:i,token:t,typeDefinition:e})}function er(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function ei(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function bd(t){let{controller:e,token:i,typeObject:r}=t,n=Ca(r.type),s=Ca(r.default),o=n&&s,l=n&&!s,h=!n&&s,p=er(r.type),v=ei(t.typeObject.default);if(l)return p;if(h)return v;if(p!==v){let y=e?`${e}.${i}`:i;throw new Error(`The specified default value for the Stimulus Value "${y}" must match the defined type "${p}". The provided default value of "${r.default}" is of type "${v}".`)}if(o)return p}function yd(t){let{controller:e,token:i,typeDefinition:r}=t,s=bd({controller:e,token:i,typeObject:r}),o=ei(r),l=er(r),h=s||o||l;if(h)return h;let p=e?`${e}.${r}`:i;throw new Error(`Unknown value type "${p}" for "${i}" value`)}function wd(t){let e=er(t);if(e)return Ia[e];let i=Ln(t,"default"),r=Ln(t,"type"),n=t;if(i)return n.default;if(r){let{type:s}=n,o=er(s);if(o)return Ia[o]}return t}function Ed(t){let{token:e,typeDefinition:i}=t,r=`${Na(e)}-value`,n=yd(t);return{type:n,key:r,name:Xn(r),get defaultValue(){return wd(i)},get hasCustomDefaultValue(){return ei(i)!==void 0},reader:Sd[n],writer:Pa[n]||Pa.default}}var Ia={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Sd={array(t){let e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${ei(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){let e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${ei(e)}"`);return e},string(t){return t}},Pa={default:Ad,array:Ra,object:Ra};function Ra(t){return JSON.stringify(t)}function Ad(t){return`${t}`}var re=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,i){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:i=this.element,detail:r={},prefix:n=this.identifier,bubbles:s=!0,cancelable:o=!0}={}){let l=n?`${n}:${e}`:e,h=new CustomEvent(l,{detail:r,bubbles:s,cancelable:o});return i.dispatchEvent(h),h}};re.blessings=[ud,md,gd,dd];re.targets=[];re.outlets=[];re.values={};var tr=class extends re{static targets=["links"];connect(){this.generateDirectory(),this.hightLightActiveLink(),window.addEventListener("scroll",this.hightLightActiveLink.bind(this))}generateDirectory(){let t=document.getElementsByClassName("ProseMirror")[0],e=Array.from(t.querySelectorAll("h1, h2, h3, h4, h5, h6")),i=this.buildDirectoryTree(e);this.renderDirectory(i,this.linksTarget)}buildDirectoryTree(t){let e={level:0,children:[]},i=e;return t.forEach((r,n)=>{let s=parseInt(r.tagName.substr(1),10),o=this.generateUniqueId(r,s,n),l={level:s,id:o,text:r.textContent,children:[]};if(s>i.level)i.children.push(l);else{for(;s<=i.level&&i!==e;)i=i.parent;i.children.push(l)}l.parent=i,i=l}),e}renderDirectory(t,e,i=0){if(t.children.length==0){let n=document.querySelector('[data-controller="menu"]');n&&n.remove();return}let r=document.createElement("ul");return r.classList="",t.children.forEach(n=>{let s=document.createElement("li");s.classList="space-y-3";let o=document.createElement("a");o.style.paddingLeft=`${(i+1)*8}px`,o.href=`#${n.id}`,o.setAttribute("data-turbo",!1),o.textContent=n.text,o.classList="relative line-clamp-1 font-normal my-2 before:absolute before:-left-px before:top-2 before:bottom-2 before:w-0.5",o.addEventListener("click",h=>{h.preventDefault(),this.navigateToAnchor(o.getAttribute("href"))}),s.appendChild(o),r.appendChild(s);let l=document.getElementById(n.id);if(l.classList="flex group",l.insertAdjacentHTML("beforeend",'<div data-controller="clipboard" data-clipboard-success-content-value=" Copied!"><input type="hidden" value="'+window.location.href.split("#")[0]+"#"+n.id+`" data-clipboard-target="source" /><button type="button" data-action="clipboard#copy" data-clipboard-target="button" class="flex ml-1 opacity-0 group-hover:opacity-100">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-full w-5 text-gray-300 group-hover:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
      </svg>
    </button></div>`),l.insertAdjacentHTML("beforeend",'<a name="'+n.id+'"></a>'),n.children.length>0){let h=this.renderDirectory(n,s,i+1);s.appendChild(h)}}),e.appendChild(r),r}generateUniqueId(t,e,i){if(t.id)return t.id;{let r=`h${e}-${i}`;return t.id=r,r}}hightLightActiveLink(){let t=Array.from(document.querySelectorAll("h1, h2, h3, h4, h5, h6")),e=Array.from(this.linksTarget.querySelectorAll("a")),i=null;for(let r=0;r<t.length;r++){let n=t[r],s=e.find(o=>o.getAttribute("href")===`#${n.id}`);if(s&&this.isHeadingInView(n)){i=s;break}}e.forEach(r=>r.classList.remove("text-primary")),i&&i.classList.add("text-primary")}isHeadingInView(t){let e=t.getBoundingClientRect();return e.top>=this.headerHeight()&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}navigateToAnchor(t){let e=document.querySelector(t);if(e){let i=this.headerHeight(),n=e.getBoundingClientRect().top-i,s={top:n,behavior:"smooth"};e.scrollIntoView({behavior:"smooth",block:"start"}),window.scrollBy(0,-i),window.scrollBy(0,n)}}headerHeight(){let t=document.getElementById("header"),e=0;return t&&window.getComputedStyle(t).getPropertyValue("position")==="fixed"&&(e=t.offsetHeight),e}};var $a=xl(ja());var ir=class extends re{connect(){let t=this.element.getElementsByTagName("img");Array.from(t).forEach(i=>{i.addEventListener("click",this.openViewer)})}openViewer=t=>{let e=t.currentTarget;new $a.default(this.element,{toolbar:{zoomIn:1,zoomOut:1,oneToOne:1,reset:1,prev:1,play:{show:1,size:"large"},next:1,rotateLeft:1,rotateRight:1,flipHorizontal:1,flipVertical:1}}).view(e)}};var Gn=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Qn(t,e,i,r){t.addEventListener?t.addEventListener(e,i,r):t.attachEvent&&t.attachEvent("on".concat(e),i)}function ri(t,e,i,r){t.removeEventListener?t.removeEventListener(e,i,r):t.detachEvent&&t.detachEvent("on".concat(e),i)}function za(t,e){let i=e.slice(0,e.length-1);for(let r=0;r<i.length;r++)i[r]=t[i[r].toLowerCase()];return i}function Ka(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");let e=t.split(","),i=e.lastIndexOf("");for(;i>=0;)e[i-1]+=",",e.splice(i,1),i=e.lastIndexOf("");return e}function _d(t,e){let i=t.length>=e.length?t:e,r=t.length>=e.length?e:t,n=!0;for(let s=0;s<i.length;s++)r.indexOf(i[s])===-1&&(n=!1);return n}var si={backspace:8,"\u232B":8,tab:9,clear:12,enter:13,"\u21A9":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":Gn?173:189,"=":Gn?61:187,";":Gn?59:186,"'":222,"[":219,"]":221,"\\":220},Le={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},ts={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},oe={16:!1,18:!1,17:!1,91:!1},W={};for(let t=1;t<20;t++)si["f".concat(t)]=111+t;var j=[],ni=null,Wa="all",Ve=new Map,ai=t=>si[t.toLowerCase()]||Le[t.toLowerCase()]||t.toUpperCase().charCodeAt(0),Td=t=>Object.keys(si).find(e=>si[e]===t),xd=t=>Object.keys(Le).find(e=>Le[e]===t);function Ua(t){Wa=t||"all"}function oi(){return Wa||"all"}function Cd(){return j.slice(0)}function Od(){return j.map(t=>Td(t)||xd(t)||String.fromCharCode(t))}function Ld(){let t=[];return Object.keys(W).forEach(e=>{W[e].forEach(i=>{let{key:r,scope:n,mods:s,shortcut:o}=i;t.push({scope:n,shortcut:o,mods:s,keys:r.split("+").map(l=>ai(l))})})}),t}function kd(t){let e=t.target||t.srcElement,{tagName:i}=e,r=!0,n=i==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(n||i==="TEXTAREA"||i==="SELECT")&&!e.readOnly)&&(r=!1),r}function Md(t){return typeof t=="string"&&(t=ai(t)),j.indexOf(t)!==-1}function Fd(t,e){let i,r;t||(t=oi());for(let n in W)if(Object.prototype.hasOwnProperty.call(W,n))for(i=W[n],r=0;r<i.length;)i[r].scope===t?i.splice(r,1).forEach(o=>{let{element:l}=o;return is(l)}):r++;oi()===t&&Ua(e||"all")}function Id(t){let e=t.keyCode||t.which||t.charCode,i=j.indexOf(e);if(i>=0&&j.splice(i,1),t.key&&t.key.toLowerCase()==="meta"&&j.splice(0,j.length),(e===93||e===224)&&(e=91),e in oe){oe[e]=!1;for(let r in Le)Le[r]===e&&(je[r]=!1)}}function Ya(t){if(typeof t>"u")Object.keys(W).forEach(n=>{Array.isArray(W[n])&&W[n].forEach(s=>rr(s)),delete W[n]}),is(null);else if(Array.isArray(t))t.forEach(n=>{n.key&&rr(n)});else if(typeof t=="object")t.key&&rr(t);else if(typeof t=="string"){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];let[n,s]=i;typeof n=="function"&&(s=n,n=""),rr({key:t,scope:n,method:s,splitKey:"+"})}}var rr=t=>{let{key:e,scope:i,method:r,splitKey:n="+"}=t;Ka(e).forEach(o=>{let l=o.split(n),h=l.length,p=l[h-1],v=p==="*"?"*":ai(p);if(!W[v])return;i||(i=oi());let y=h>1?za(Le,l):[],b=[];W[v]=W[v].filter(C=>{let A=(r?C.method===r:!0)&&C.scope===i&&_d(C.mods,y);return A&&b.push(C.element),!A}),b.forEach(C=>is(C))})};function qa(t,e,i,r){if(e.element!==r)return;let n;if(e.scope===i||e.scope==="all"){n=e.mods.length>0;for(let s in oe)Object.prototype.hasOwnProperty.call(oe,s)&&(!oe[s]&&e.mods.indexOf(+s)>-1||oe[s]&&e.mods.indexOf(+s)===-1)&&(n=!1);(e.mods.length===0&&!oe[16]&&!oe[18]&&!oe[17]&&!oe[91]||n||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(j),e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}function Ha(t,e){let i=W["*"],r=t.keyCode||t.which||t.charCode;if(!je.filter.call(this,t))return;if((r===93||r===224)&&(r=91),j.indexOf(r)===-1&&r!==229&&j.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(l=>{let h=ts[l];t[l]&&j.indexOf(h)===-1?j.push(h):!t[l]&&j.indexOf(h)>-1?j.splice(j.indexOf(h),1):l==="metaKey"&&t[l]&&j.length===3&&(t.ctrlKey||t.shiftKey||t.altKey||(j=j.slice(j.indexOf(h))))}),r in oe){oe[r]=!0;for(let l in Le)Le[l]===r&&(je[l]=!0);if(!i)return}for(let l in oe)Object.prototype.hasOwnProperty.call(oe,l)&&(oe[l]=t[ts[l]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(j.indexOf(17)===-1&&j.push(17),j.indexOf(18)===-1&&j.push(18),oe[17]=!0,oe[18]=!0);let n=oi();if(i)for(let l=0;l<i.length;l++)i[l].scope===n&&(t.type==="keydown"&&i[l].keydown||t.type==="keyup"&&i[l].keyup)&&qa(t,i[l],n,e);if(!(r in W))return;let s=W[r],o=s.length;for(let l=0;l<o;l++)if((t.type==="keydown"&&s[l].keydown||t.type==="keyup"&&s[l].keyup)&&s[l].key){let h=s[l],{splitKey:p}=h,v=h.key.split(p),y=[];for(let b=0;b<v.length;b++)y.push(ai(v[b]));y.sort().join("")===j.sort().join("")&&qa(t,h,n,e)}}function je(t,e,i){j=[];let r=Ka(t),n=[],s="all",o=document,l=0,h=!1,p=!0,v="+",y=!1,b=!1;for(i===void 0&&typeof e=="function"&&(i=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(s=e.scope),e.element&&(o=e.element),e.keyup&&(h=e.keyup),e.keydown!==void 0&&(p=e.keydown),e.capture!==void 0&&(y=e.capture),typeof e.splitKey=="string"&&(v=e.splitKey),e.single===!0&&(b=!0)),typeof e=="string"&&(s=e),b&&Ya(t,s);l<r.length;l++)t=r[l].split(v),n=[],t.length>1&&(n=za(Le,t)),t=t[t.length-1],t=t==="*"?"*":ai(t),t in W||(W[t]=[]),W[t].push({keyup:h,keydown:p,scope:s,mods:n,shortcut:r[l],method:i,key:r[l],splitKey:v,element:o});if(typeof o<"u"&&window){if(!Ve.has(o)){let C=function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return Ha(A,o)},B=function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;Ha(A,o),Id(A)};Ve.set(o,{keydownListener:C,keyupListenr:B,capture:y}),Qn(o,"keydown",C,y),Qn(o,"keyup",B,y)}if(!ni){let C=()=>{j=[]};ni={listener:C,capture:y},Qn(window,"focus",C,y)}}}function Pd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(W).forEach(i=>{W[i].filter(n=>n.scope===e&&n.shortcut===t).forEach(n=>{n&&n.method&&n.method()})})}function is(t){let e=Object.values(W).flat();if(e.findIndex(r=>{let{element:n}=r;return n===t})<0){let{keydownListener:r,keyupListenr:n,capture:s}=Ve.get(t)||{};r&&n&&(ri(t,"keyup",n,s),ri(t,"keydown",r,s),Ve.delete(t))}if((e.length<=0||Ve.size<=0)&&(Object.keys(Ve).forEach(n=>{let{keydownListener:s,keyupListenr:o,capture:l}=Ve.get(n)||{};s&&o&&(ri(n,"keyup",o,l),ri(n,"keydown",s,l),Ve.delete(n))}),Ve.clear(),Object.keys(W).forEach(n=>delete W[n]),ni)){let{listener:n,capture:s}=ni;ri(window,"focus",n,s),ni=null}}var es={getPressedKeyString:Od,setScope:Ua,getScope:oi,deleteScope:Fd,getPressedKeyCodes:Cd,getAllKeyCodes:Ld,isPressed:Md,filter:kd,trigger:Pd,unbind:Ya,keyMap:si,modifier:Le,modifierMap:ts};for(let t in es)Object.prototype.hasOwnProperty.call(es,t)&&(je[t]=es[t]);if(typeof window<"u"){let t=window.hotkeys;je.noConflict=e=>(e&&window.hotkeys===je&&(window.hotkeys=t),je),window.hotkeys=je}var rs=class extends re{};rs.debounces=[];var ns=class extends re{};ns.throttles=[];var Rd={enterFromClass:"enter",enterActiveClass:"enterStart",enterToClass:"enterEnd",leaveFromClass:"leave",leaveActiveClass:"leaveStart",leaveToClass:"leaveEnd"},Nd={transitioned:!1,hiddenClass:"hidden",preserveOriginalClass:!0,removeToClasses:!0},Xa=(t,e={})=>{var i,r,n;let s=t,o=s.element.dataset.transitionTarget,l;o&&(l=s[`${o}Target`]);let h=e?.element||l||s.element;if(!(h instanceof HTMLElement||h instanceof SVGElement))return;let p=h.dataset,v=parseInt(p.leaveAfter||"")||e.leaveAfter||0,{transitioned:y,hiddenClass:b,preserveOriginalClass:C,removeToClasses:B}=Object.assign({},Nd,e),A=(i=s.enter)===null||i===void 0?void 0:i.bind(s),x=(r=s.leave)===null||r===void 0?void 0:r.bind(s),O=(n=s.toggleTransition)===null||n===void 0?void 0:n.bind(s);async function k(P){if(s.transitioned)return;s.transitioned=!0,A&&A(P);let ne=Je("enterFrom",e,p),ke=Je("enterActive",e,p),Me=Je("enterTo",e,p),ee=Je("leaveTo",e,p);b&&h.classList.remove(b),B||Z(h,ee),await Y(h,ne,ke,Me,b,C,B),v>0&&setTimeout(()=>{I(P)},v)}async function I(P){if(!s.transitioned)return;s.transitioned=!1,x&&x(P);let ne=Je("leaveFrom",e,p),ke=Je("leaveActive",e,p),Me=Je("leaveTo",e,p),ee=Je("enterTo",e,p);B||Z(h,ee),await Y(h,ne,ke,Me,b,C,B),b&&h.classList.add(b)}function U(P){O&&O(P),s.transitioned?I():k()}async function Y(P,ne,ke,Me,ee,Ze,$e){let Ge=[];Ze&&(ne.forEach(de=>P.classList.contains(de)&&de!==ee&&Ge.push(de)),ke.forEach(de=>P.classList.contains(de)&&de!==ee&&Ge.push(de)),Me.forEach(de=>P.classList.contains(de)&&de!==ee&&Ge.push(de))),ye(P,ne),Z(P,Ge),ye(P,ke),await Bd(),Z(P,ne),ye(P,Me),await Dd(P),Z(P,ke),$e&&Z(P,Me),ye(P,Ge)}function ce(){s.transitioned=y,y?(b&&h.classList.remove(b),k()):(b&&h.classList.add(b),I())}function ye(P,ne){ne.length>0&&P.classList.add(...ne)}function Z(P,ne){ne.length>0&&P.classList.remove(...ne)}return ce(),Object.assign(s,{enter:k,leave:I,toggleTransition:U}),[k,I,U]};function Je(t,e,i){let r=`transition${t[0].toUpperCase()}${t.substr(1)}`,n=Rd[t],s=e[t]||i[r]||i[n]||" ";return Vd(s)?[]:s.split(" ")}async function Dd(t){return new Promise(e=>{let i=Number(getComputedStyle(t).transitionDuration.split(",")[0].replace("s",""))*1e3;setTimeout(()=>{e(i)},i)})}async function Bd(){return new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(t)})})}function Vd(t){return t.length===0||!t.trim()}var li=class extends re{connect(){Xa(this,{element:this.menuTarget})}toggle(){this.toggleTransition()}hide(e){!this.element.contains(e.target)&&!this.menuTarget.classList.contains("hidden")&&this.leave()}};li.targets=["menu"];var ss=class extends re{connect(){this.hasButtonTarget&&(this.originalContent=this.buttonTarget.innerHTML)}copy(e){e.preventDefault();let i=this.sourceTarget.innerHTML||this.sourceTarget.value;navigator.clipboard.writeText(i).then(()=>this.copied())}copied(){this.hasButtonTarget&&(this.timeout&&clearTimeout(this.timeout),this.buttonTarget.innerHTML=this.successContentValue,this.timeout=setTimeout(()=>{this.buttonTarget.innerHTML=this.originalContent},this.successDurationValue))}};ss.targets=["button","source"],ss.values={successContent:String,successDuration:{type:Number,default:2e3}};var Ja=ss;var jd=Object.prototype.toString,Lt=Array.isArray||function(e){return jd.call(e)==="[object Array]"};function as(t){return typeof t=="function"}function $d(t){return Lt(t)?"array":typeof t}function os(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Za(t,e){return t!=null&&typeof t=="object"&&e in t}function qd(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var Hd=RegExp.prototype.test;function zd(t,e){return Hd.call(t,e)}var Kd=/\S/;function Wd(t){return!zd(Kd,t)}var Ud={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function Yd(t){return String(t).replace(/[&<>"'`=\/]/g,function(i){return Ud[i]})}var Xd=/\s*/,Jd=/\s+/,Ga=/\s*=/,Zd=/\s*\}/,Gd=/#|\^|\/|>|\{|&|=|!/;function Qd(t,e){if(!t)return[];var i=!1,r=[],n=[],s=[],o=!1,l=!1,h="",p=0;function v(){if(o&&!l)for(;s.length;)delete n[s.pop()];else s=[];o=!1,l=!1}var y,b,C;function B(Z){if(typeof Z=="string"&&(Z=Z.split(Jd,2)),!Lt(Z)||Z.length!==2)throw new Error("Invalid tags: "+Z);y=new RegExp(os(Z[0])+"\\s*"),b=new RegExp("\\s*"+os(Z[1])),C=new RegExp("\\s*"+os("}"+Z[1]))}B(e||be.tags);for(var A=new ui(t),x,O,k,I,U,Y;!A.eos();){if(x=A.pos,k=A.scanUntil(y),k)for(var ce=0,ye=k.length;ce<ye;++ce)I=k.charAt(ce),Wd(I)?(s.push(n.length),h+=I):(l=!0,i=!0,h+=" "),n.push(["text",I,x,x+1]),x+=1,I===`
`&&(v(),h="",p=0,i=!1);if(!A.scan(y))break;if(o=!0,O=A.scan(Gd)||"name",A.scan(Xd),O==="="?(k=A.scanUntil(Ga),A.scan(Ga),A.scanUntil(b)):O==="{"?(k=A.scanUntil(C),A.scan(Zd),A.scanUntil(b),O="&"):k=A.scanUntil(b),!A.scan(b))throw new Error("Unclosed tag at "+A.pos);if(O==">"?U=[O,k,x,A.pos,h,p,i]:U=[O,k,x,A.pos],p++,n.push(U),O==="#"||O==="^")r.push(U);else if(O==="/"){if(Y=r.pop(),!Y)throw new Error('Unopened section "'+k+'" at '+x);if(Y[1]!==k)throw new Error('Unclosed section "'+Y[1]+'" at '+x)}else O==="name"||O==="{"||O==="&"?l=!0:O==="="&&B(k)}if(v(),Y=r.pop(),Y)throw new Error('Unclosed section "'+Y[1]+'" at '+A.pos);return tf(ef(n))}function ef(t){for(var e=[],i,r,n=0,s=t.length;n<s;++n)i=t[n],i&&(i[0]==="text"&&r&&r[0]==="text"?(r[1]+=i[1],r[3]=i[3]):(e.push(i),r=i));return e}function tf(t){for(var e=[],i=e,r=[],n,s,o=0,l=t.length;o<l;++o)switch(n=t[o],n[0]){case"#":case"^":i.push(n),r.push(n),i=n[4]=[];break;case"/":s=r.pop(),s[5]=n[2],i=r.length>0?r[r.length-1][4]:e;break;default:i.push(n)}return e}function ui(t){this.string=t,this.tail=t,this.pos=0}ui.prototype.eos=function(){return this.tail===""};ui.prototype.scan=function(e){var i=this.tail.match(e);if(!i||i.index!==0)return"";var r=i[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r};ui.prototype.scanUntil=function(e){var i=this.tail.search(e),r;switch(i){case-1:r=this.tail,this.tail="";break;case 0:r="";break;default:r=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=r.length,r};function Ot(t,e){this.view=t,this.cache={".":this.view},this.parent=e}Ot.prototype.push=function(e){return new Ot(e,this)};Ot.prototype.lookup=function(e){var i=this.cache,r;if(i.hasOwnProperty(e))r=i[e];else{for(var n=this,s,o,l,h=!1;n;){if(e.indexOf(".")>0)for(s=n.view,o=e.split("."),l=0;s!=null&&l<o.length;)l===o.length-1&&(h=Za(s,o[l])||qd(s,o[l])),s=s[o[l++]];else s=n.view[e],h=Za(n.view,e);if(h){r=s;break}n=n.parent}i[e]=r}return as(r)&&(r=r.call(this.view)),r};function he(){this.templateCache={_cache:{},set:function(e,i){this._cache[e]=i},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}he.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};he.prototype.parse=function(e,i){var r=this.templateCache,n=e+":"+(i||be.tags).join(":"),s=typeof r<"u",o=s?r.get(n):void 0;return o==null&&(o=Qd(e,i),s&&r.set(n,o)),o};he.prototype.render=function(e,i,r,n){var s=this.getConfigTags(n),o=this.parse(e,s),l=i instanceof Ot?i:new Ot(i,void 0);return this.renderTokens(o,l,r,e,n)};he.prototype.renderTokens=function(e,i,r,n,s){for(var o="",l,h,p,v=0,y=e.length;v<y;++v)p=void 0,l=e[v],h=l[0],h==="#"?p=this.renderSection(l,i,r,n,s):h==="^"?p=this.renderInverted(l,i,r,n,s):h===">"?p=this.renderPartial(l,i,r,s):h==="&"?p=this.unescapedValue(l,i):h==="name"?p=this.escapedValue(l,i,s):h==="text"&&(p=this.rawValue(l)),p!==void 0&&(o+=p);return o};he.prototype.renderSection=function(e,i,r,n,s){var o=this,l="",h=i.lookup(e[1]);function p(b){return o.render(b,i,r,s)}if(h){if(Lt(h))for(var v=0,y=h.length;v<y;++v)l+=this.renderTokens(e[4],i.push(h[v]),r,n,s);else if(typeof h=="object"||typeof h=="string"||typeof h=="number")l+=this.renderTokens(e[4],i.push(h),r,n,s);else if(as(h)){if(typeof n!="string")throw new Error("Cannot use higher-order sections without the original template");h=h.call(i.view,n.slice(e[3],e[5]),p),h!=null&&(l+=h)}else l+=this.renderTokens(e[4],i,r,n,s);return l}};he.prototype.renderInverted=function(e,i,r,n,s){var o=i.lookup(e[1]);if(!o||Lt(o)&&o.length===0)return this.renderTokens(e[4],i,r,n,s)};he.prototype.indentPartial=function(e,i,r){for(var n=i.replace(/[^ \t]/g,""),s=e.split(`
`),o=0;o<s.length;o++)s[o].length&&(o>0||!r)&&(s[o]=n+s[o]);return s.join(`
`)};he.prototype.renderPartial=function(e,i,r,n){if(r){var s=this.getConfigTags(n),o=as(r)?r(e[1]):r[e[1]];if(o!=null){var l=e[6],h=e[5],p=e[4],v=o;h==0&&p&&(v=this.indentPartial(o,p,l));var y=this.parse(v,s);return this.renderTokens(y,i,r,v,n)}}};he.prototype.unescapedValue=function(e,i){var r=i.lookup(e[1]);if(r!=null)return r};he.prototype.escapedValue=function(e,i,r){var n=this.getConfigEscape(r)||be.escape,s=i.lookup(e[1]);if(s!=null)return typeof s=="number"&&n===be.escape?String(s):n(s)};he.prototype.rawValue=function(e){return e[1]};he.prototype.getConfigTags=function(e){return Lt(e)?e:e&&typeof e=="object"?e.tags:void 0};he.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!Lt(e))return e.escape};var be={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){ci.templateCache=t},get templateCache(){return ci.templateCache}},ci=new he;be.clearCache=function(){return ci.clearCache()};be.parse=function(e,i){return ci.parse(e,i)};be.render=function(e,i,r,n){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+$d(e)+'" was given as the first argument for mustache#render(template, view, partials)');return ci.render(e,i,r,n)};be.escape=Yd;be.Scanner=ui;be.Context=Ot;be.Writer=he;var Qa=be;var nr=class extends re{static values={navTree:Array,depth:Number,parentPath:String,url:String,currentPath:String,idPrefix:String,containerStyle:String,rootContainer:String,itemStyle:String,itemActiveClass:String,linkTurboFrame:String,linkTurboFrameAction:String,linkTurbo:Boolean};static targets=["itemTemplate"];connect(){debugger;this.itemTemplate=this.hasItemTemplateTarget?this.itemTemplateTarget.innerHTML.trim():null,this.hasCurrentPathValue||(this.currentPathValue=window.location.pathname),this.renderTree(this.navTreeValue||[],this.depthValue||0,this.element),requestAnimationFrame(()=>{this.menuContainer=this.rootContainer()})}renderTree(t,e,i){debugger;let r=document.createElement("ul");r.className=this.hasContainerStyleValue?this.containerStyleValue:"w-full space-y-1",requestAnimationFrame(()=>{t.forEach(n=>{let s=document.createElement("li");s.className=this.hasItemStyleValue?this.itemStyleValue:"";let o=this.isPathActive(n),l=o||this.hasActiveChild(n),h=n.children?.length>0,p=n.children?.length==0&&n.children_count>0,v=this.renderItem(n,e,l,o);s.innerHTML=v;let y=s.children[0];y.setAttribute("turbo-nav-tree-item","");let b=document.createElement("div");b.setAttribute("turbo-nav-tree-children-container",""),b.classList.add("transition-all","duration-300"),b.hidden=!l,o&&(s.setAttribute("active",""),this.isPathActive(n,!1)&&y.setAttribute("active",""),requestAnimationFrame(()=>{s.scrollIntoView({behavior:"smooth",block:"center"})})),h&&this.renderTree(n.children,e+1,b),p&&this.appendTurboFrame(b,n,e+1),s.appendChild(b),r.appendChild(s)}),i.appendChild(r)})}appendTurboFrame(t,e,i){let r=document.createElement("turbo-frame");r.classList.add("w-full");let n=this.hasIdPrefixValue?this.idPrefixValue:"nav_tree_frame_";r.id=`${n}${e.path.replaceAll("/","_")}`;let s=this.urlValue.split("?")[0],o=new URLSearchParams;o.set("parent_path",e.path),o.set("depth",i),r.src=`${s}?${o.toString()}`,r.loading="lazy",r.innerHTML=`
      <div class="flex justify-center items-center h-12 text-base-content/60">
        <span class="loading loading-spinner loading-sm"></span>
      </div>
    `,t.appendChild(r)}toggle(t){let i=t.currentTarget.closest("li"),r=i.querySelector("[turbo-nav-tree-children-container]");if(r&&r.children.length>0){let n=r.hidden;n?(r.hidden=!1,r.classList.add("opacity-0"),requestAnimationFrame(()=>{r.classList.remove("opacity-0"),r.classList.add("opacity-100")})):(r.classList.add("opacity-100"),requestAnimationFrame(()=>{r.classList.remove("opacity-100"),r.classList.add("opacity-0")}),r.addEventListener("transitionend",()=>{r.hidden=!0},{once:!0}));let s=i.querySelector("[turbo-nav-tree-item-target-icon]");s.classList.add("transition-transform","duration-300","peer-hover:text-primary"),s.classList.toggle("rotate-90",n)}}click(t){let e=t.currentTarget,i=e.closest("li");this.menuContainer?.querySelectorAll("[active]").forEach(r=>{r.removeAttribute("active")}),this.getParents(e,"li").forEach(r=>{r.setAttribute("active","")}),i.querySelector("[turbo-nav-tree-item]")?.setAttribute("active","")}renderItem(t,e,i=!1,r=!1){let n=t.children_count>0,s=[];this.hasLinkTurboFrameValue&&this.linkTurboFrameValue&&s.push(`data-turbo-frame="${this.linkTurboFrameValue}"`),this.hasLinkTurboFrameActionValue&&this.linkTurboFrameActionValue&&s.push(`data-turbo-action="${this.linkTurboFrameActionValue}"`),this.hasLinkTurboValue&&this.linkTurboValue===!1&&(s=['data-turbo="false"']);let o="";return this.itemTemplate?o=this.itemTemplate:(o=`
        <div class="flex items-center">
          <a href="{{path}}"
            ${s.join(" ")}
            class="block hover:underline"
            style="padding-left: {{padding}}rem">
            {{link_text}}
          </a>
        </div>
      `,n&&(o=`
          <div class="flex items-center" data-action="click->turbo-nav-tree#toggle">
            <a href="{{path}}"
              ${s.join(" ")}
              class="block hover:underline"
              style="padding-left: {{padding}}rem">
              {{{link_text}}}
            </a>
            <!-- \u6709\u5B50\u8282\u70B9\u65F6\u663E\u793A toggle \u6309\u94AE -->
            <div turbo-nav-tree-item-target-icon class="inline-block ml-auto mr-1 ${i?"rotate-90":""}">
              <svg class="w-4 h-4 opacity-70 transition-transform duration-200"
                  fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M9 6l6 6-6 6"/>
              </svg>
            </div>
          </div>
        `)),Qa.render(o,{...t,depth:e,padding:e*1.25,hasChildren:n,open:i,isActive:r})}isPathActive(t,e=!0){if(e){let i=this.currentPathValue.split("/").filter(Boolean),r=t.path.split("/").filter(Boolean);return r.length>i.length?!1:r.every((n,s)=>i[s]===n)}else return t.path==this.currentPathValue}hasActiveChild(t){return!t.children||t.children.length===0?!1:t.children.some(e=>this.isPathActive(e)||this.hasActiveChild(e))}getParents(t,e,i=null){let r=[],n=t.parentElement;for(;n&&n!==i;)n.matches(e)&&r.push(n),n=n.parentElement;return r}rootContainer(){return this.hasRootContainerValue?this.element.closest(this.rootContainerValue):this.getParents(this.element.querySelector("li"),"ul").at(-1)}};window.Alpine=Ui;Ui.plugin(xa);Ui.start();var kt=Qi.start();window.Stimulus=kt;kt.register("menu",tr);kt.register("view_images",ir);kt.register("dropdown",li);kt.register("clipboard",Ja);kt.register("turbo-nav-tree",nr);})();
/*! Bundled license information:

viewerjs/dist/viewer.js:
  (*!
   * Viewer.js v1.11.6
   * https://fengyuanchen.github.io/viewerjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2023-09-17T03:16:38.052Z
   *)

stimulus-use/dist/index.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

mustache/mustache.mjs:
  (*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   *)
*/
